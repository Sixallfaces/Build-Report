const a0_0x1522ec=a0_0x1f48;(function(_0x1fa31c,_0x44c489){const _0x30b4e4=a0_0x1f48,_0x4fa88c=_0x1fa31c();while(!![]){try{const _0x4a1a88=-parseInt(_0x30b4e4(0x4ab))/0x1*(parseInt(_0x30b4e4(0x295))/0x2)+parseInt(_0x30b4e4(0x255))/0x3+-parseInt(_0x30b4e4(0x399))/0x4+parseInt(_0x30b4e4(0x3fc))/0x5*(parseInt(_0x30b4e4(0x489))/0x6)+parseInt(_0x30b4e4(0x261))/0x7*(parseInt(_0x30b4e4(0x1df))/0x8)+-parseInt(_0x30b4e4(0x508))/0x9+parseInt(_0x30b4e4(0x3ee))/0xa;if(_0x4a1a88===_0x44c489)break;else _0x4fa88c['push'](_0x4fa88c['shift']());}catch(_0x570456){_0x4fa88c['push'](_0x4fa88c['shift']());}}}(a0_0x4f30,0xc6613));const API_CONFIG={'BASE_URL':'https://build-report.ru/','ENDPOINTS':{'WORKS':a0_0x1522ec(0x1c8),'ALL_WORKS':'api/all-works','MATERIALS':'api/materials','MATERIALS_HISTORY':a0_0x1522ec(0x35e),'MATERIALS_EXPORT':a0_0x1522ec(0x48f),'MATERIALS_IMPORT':'api/materials/import','MATERIALS_TEMPLATE':a0_0x1522ec(0x3b8),'FOREMEN':'api/foremen','REPORTS':a0_0x1522ec(0x3bd),'ALL_REPORTS':'api/all-reports','REPORT':a0_0x1522ec(0x494),'LOGIN':'api/site-login','CATEGORIES':'api/categories','ACCUMULATIVE':'api/accumulative-statement','WORK_REPORTS':a0_0x1522ec(0x259)}};function buildApiUrl(_0x3389b1){const _0x3f4afa=a0_0x1522ec,_0x29e836={'nCGfZ':function(_0x3888c7,_0x2ce30f){return _0x3888c7(_0x2ce30f);}};if(!_0x3389b1)return API_CONFIG[_0x3f4afa(0x3a3)];if(/^https?:\/\//i[_0x3f4afa(0x31f)](_0x3389b1))return _0x3389b1;return API_CONFIG['BASE_URL']['replace'](/\/+$/,'')+'/'+_0x29e836[_0x3f4afa(0x487)](String,_0x3389b1)['replace'](/^\/+/,'');}let works=[],availableReportWorks=[],materials=[],foremen=[],reports=[],allReports=[],categories=[],currentWorkIdForMaterials=null,currentWorkMaterials=[],currentWorkPricing={'unitCost':null,'totalCost':null},currentMaterialIdForQuantity=null,currentMaterialQuantity=0x0,currentMaterialUnit='',currentMaterialIdForPricing=null,currentMaterialQuantityForPricing=0x0,currentMaterialPricing={'unitCost':null,'totalCost':null},materialHistory=[],materialHistoryLoaded=!0x1,isMaterialHistoryView=!0x1,currentForemanIdForSections=null,currentForemanSections=[],currentEditingReportId=null,accumulativeForemen=[],selectedAccumulativeForemanId=null;const tableSortStates=new Map(),sortableTableConfigs={'worksTable':{'columns':{0x1:{'type':a0_0x1522ec(0x185)},0x2:{'type':a0_0x1522ec(0x34c)},0x3:{'type':a0_0x1522ec(0x34c)},0x4:{'type':'string'},0x5:{'type':'number'},0x6:{'type':'number'},0x7:{'type':a0_0x1522ec(0x279)}},'getRowId':_0x2210ac=>{const _0x5099cd=a0_0x1522ec,_0x5ca810=_0x2210ac['querySelector']('td:nth-child(2)\x20input');return _0x5ca810?parseInt(_0x5ca810[_0x5099cd(0x3dc)],0xa):null;}},'materialsTable':{'columns':{0x0:{'type':a0_0x1522ec(0x185)},0x1:{'type':'string'},0x2:{'type':'string'},0x3:{'type':'string'},0x4:{'type':'number'}},'getRowId':_0x2f9a6b=>{const _0x5ce8e9=a0_0x1522ec,_0x1732d0=_0x2f9a6b[_0x5ce8e9(0x1f3)](_0x5ce8e9(0x3f5));return _0x1732d0?parseInt(_0x1732d0[_0x5ce8e9(0x3dc)],0xa):null;}},'materialHistoryTable':{'columns':{0x0:{'type':'number'},0x1:{'type':a0_0x1522ec(0x34c)},0x2:{'type':'string'},0x3:{'type':'number'},0x4:{'type':'number'},0x5:{'type':'string'},0x6:{'type':'string'},0x7:{'type':a0_0x1522ec(0x3dd)}}},'foremenTable':{'columns':{0x0:{'type':a0_0x1522ec(0x185)},0x1:{'type':'string'},0x2:{'type':a0_0x1522ec(0x34c)},0x3:{'type':'string'},0x4:{'type':a0_0x1522ec(0x3dd)},0x5:{'type':a0_0x1522ec(0x279)}},'getRowId':_0x57e8eb=>{const _0x39ac6e=a0_0x1522ec,_0xdc0d28={'LXdtq':function(_0x4b0fb9,_0x3d58f0,_0x2e3fcb){return _0x4b0fb9(_0x3d58f0,_0x2e3fcb);}},_0xffdfa7=_0x57e8eb['querySelector']('td:first-child\x20input');return _0xffdfa7?_0xdc0d28['LXdtq'](parseInt,_0xffdfa7[_0x39ac6e(0x3dc)],0xa):null;}},'reportsTable':{'columns':{0x0:{'type':'number'},0x1:{'type':'number'},0x2:{'type':a0_0x1522ec(0x185)},0x3:{'type':a0_0x1522ec(0x185)},0x4:{'type':a0_0x1522ec(0x3dd)},0x5:{'type':a0_0x1522ec(0x34c)},0x6:{'type':'string'}}},'accumulativeTable':{'columns':{0x0:{'type':'string'},0x1:{'type':a0_0x1522ec(0x34c)},0x2:{'type':a0_0x1522ec(0x34c)},0x3:{'type':a0_0x1522ec(0x185)},0x4:{'type':a0_0x1522ec(0x185)},0x5:{'type':'number'},0x6:{'type':'number'},0x7:{'type':'number'},0x8:{'type':'number'},0x9:{'type':'number'}}},'allReportsTable':{'columns':{0x0:{'type':'number'},0x1:{'type':a0_0x1522ec(0x34c)},0x2:{'type':'string'},0x3:{'type':'string'},0x4:{'type':'number'},0x5:{'type':'date'},0x6:{'type':a0_0x1522ec(0x34c)},0x7:{'type':'string'}}}};function refreshTableSorting(_0x59dd0b){const _0x372ab6=a0_0x1522ec,_0x27936d={'smQMY':'function'},_0x2f83d2=sortableTableConfigs[_0x59dd0b]||{},_0x256c1c=_0x2f83d2['columns']||{},_0x1ed0cb={};_0x27936d[_0x372ab6(0x473)]==typeof _0x2f83d2[_0x372ab6(0x1dd)]&&(_0x1ed0cb['getRowId']=_0x2f83d2[_0x372ab6(0x1dd)]),initializeSortableTable(_0x59dd0b,_0x256c1c,_0x1ed0cb);}function initializeSortableTable(_0x559695,_0x48054d={},_0x53fa02={}){const _0x58eb8b=a0_0x1522ec,_0x5440a6={'vtcBr':'sorted-desc','ZHHyK':'sorted-default','IiFnU':'tbody','IVpeZ':_0x58eb8b(0x34f)},_0x5c87aa=document[_0x58eb8b(0x408)](_0x559695);if(!_0x5c87aa)return;const _0x279e7c=_0x5c87aa['querySelector'](_0x5440a6['IiFnU']);if(!_0x279e7c)return;const _0x409d4f=Array[_0x58eb8b(0x379)](_0x279e7c[_0x58eb8b(0x1e6)]('tr'));_0x409d4f['forEach']((_0x202a88,_0x3b46b3)=>{const _0xa4d9f=_0x58eb8b;if(_0xa4d9f(0x1f5)==typeof _0x53fa02['getRowId']){const _0x61daf4=_0x53fa02['getRowId'](_0x202a88,_0x3b46b3);null==_0x61daf4||Number[_0xa4d9f(0x443)](_0x61daf4)?delete _0x202a88['dataset']['sortId']:_0x202a88[_0xa4d9f(0x3b5)][_0xa4d9f(0x2a4)]=_0x61daf4;}else delete _0x202a88['dataset'][_0xa4d9f(0x2a4)];});const _0x5793c3={'currentColumn':-0x1,'direction':0x0,'columnConfigs':_0x48054d,'getRowId':_0x53fa02['getRowId'],'originalRows':_0x409d4f[_0x58eb8b(0x312)]()};tableSortStates[_0x58eb8b(0x326)](_0x559695,_0x5793c3),_0x5c87aa['querySelectorAll'](_0x5440a6['IVpeZ'])[_0x58eb8b(0x34e)](_0x4c8655=>{const _0xe38cca=_0x58eb8b;_0x4c8655['dataset']['tableId']=_0x559695,_0x4c8655['dataset']['columnIndex']=_0x4c8655['cellIndex'],_0x4c8655[_0xe38cca(0x225)][_0xe38cca(0x1b6)](_0xe38cca(0x269),_0x5440a6['vtcBr'],_0x5440a6['ZHHyK']),'true'!==_0x4c8655['dataset']['sortListenerAttached']&&(_0x4c8655['addEventListener']('click',handleTableSortClick),_0x4c8655['dataset'][_0xe38cca(0x467)]='true');});}function handleTableSortClick(_0x3de243){const _0x223993=a0_0x1522ec,_0x14622f=_0x3de243[_0x223993(0x2ba)],_0x1de059=_0x14622f['dataset']['tableId'],_0x20030c=parseInt(_0x14622f[_0x223993(0x3b5)][_0x223993(0x16d)],0xa);Number['isNaN'](_0x20030c)||sortTable(_0x1de059,_0x20030c);}function a0_0x4f30(){const _0x3a1168=['vxjcvgu','pgrPDIbJBgfZCZ0IzM9Yzw1HBI1Zzwn0Aw9UCY1SAxn0lwvTChr5iJ7qOncW0lFqTnc10lVrIYdqVDc1inc90ldqT9c90ldrH9c10l3rIZWVzgL2pG','ywnJDw11Bgf0AxzLvgfIBgu','Bwf0zxjPywXFBMfTzq','iIbJBgfZCZ0IzwrPDgfIBguIigrHDgeTzMLLBgq9iM5HBwuIpJWVDgq+cIaGicaGicaGicaGicaGica8Dgq+cIaGicaGicaGicaGicaGicaGicaGphnLBgvJDcbJBgfZCZ0IzwrPDgfIBguIigrHDgeTzMLLBgq9iNvUAxqIpGOGicaGicaGicaGicaGicaGicaGicaGica','zenOAvy','DMvYAwz5lwj1DhrVBG','iJ4kicaGicaGicaGicaGicaGidWVzgL2pGOGicaGicaGicaGicaGicaGpgj1DhrVBIb0ExbLpsjIDxr0B24IignSyxnZpsjZzwnVBMrHCNKGCMvTB3zLlwfKzc1TyxrLCMLHBc1IDxr0B24IpTcJ0ltqSnc70lJrGTgmpc9IDxr0B24+cIaGicaGicaGicaGia','CK9vvxK','tMv0D29YAYbLCNjVCJOG','DgfYz2v0','zvHQC28','C0zJwfq','zM9Yzw1HBKrYB3bKB3DUtwvUDq','y2jPwxu','uKHsEem','BvrZtey','Aw5WDxrBzgf0ys1MAwvSzd0IChjVAMvJDf90B3rHBcjD','0jtqVTcX0ldqSTc70lxqVDc40luG0ydqSncX0l7rGG','Bu11r3i','zgf0ys1MAwvSza','Dg9Rzw4','r2jMquu','C29YDeXPC3rLBMvYqxr0ywnOzwq','pTcu0la8l29WDgLVBJ4kicaGicaGicaGicaGicaGicaGicaGicaGpg9WDgLVBIb2ywX1zt0Imci','A3zOu0i','oIdqNTgc0yhrG9gc0yhrGTcY0yprJTgcinc+0lhrJ9c30ldrGTc10lVrJnc90yVqTsdqV9c+0lVrJW','tfbfq3i','0j7rInc40lhqUTcWinc/0ydqUcdrG9c00ldqU9c10l3qUnc4inga0ldqSDc+0ylrIZOG','y2f0zwDVCNLjza','EvnnCuW','zgfUz2vY','AwXVD1y','BwfPBKnVBNrLBNq','uKPWswe','C21rtvK','s3rWBe4','CMvWB3j0x2rHDgu','B25JBgLJAW','Dxj4tvO','Bhrur3u','s2PUEeK','sMz0v1q','uvrsz3m','0j3qTsdrG9c00ldqU9c+0yhrJcdqVTcX0l3qVTcY0lJrGTgminc60l7qU9c40yFqTDgb0ylqSTc+','tujdAgS','vLzUufu','l2fKzc1IywXHBMnL','0j3qSnc60l7qV9c40ylqTDc70yZqVDcW0y8G0llqTDc00l7qVnc+0yhrGTgm','C2vHCMnOv29YA3m','CgXHy2vOB2XKzxi','C2f2qMi','zMXcCMi','A2v5zg93BG','AgfZv29YA3m','BKnhzLO','rujJvey','nte1nta4svv3sevH','ywrKv29YA0L0zw1Zq29UDgfPBMvY','tvnvvMO','yM1dDhm','BeXfzeq','Aw5WDxrBzgf0ys1JyxrLz29YEs1LzgL0xq','yxbPl21HDgvYAwfSCY9LEhbVCNq','r2rqD0W','EgrAAfu','0j7rInc40lhqUTc4inc40lZqV9c+0ydrGTcWinc80ldrGTc10ydqUncW0lVqVTcYoG','DvHWDuu','yxbPl3jLCg9YDa','yxv0AgvUDgLJyxrLza','DxrPBhm','D29YA3m','tfj0DgO','wLvjBNe','ywrKv29YA01VzgfS','pg9WDgLVBIb2ywX1zt0IiJ7qNDc10yiG0ltqVTgb0ylrG9c/0l3rI9gfincX0ydqUncZ0ldqTnc40ydqVTcYpc9VChrPB24+','y2vSBhm','CKrHwxa','0jlrI9cX0lxrGnc40ylqTsdrGncW0lhqVTgc0ymSingh0ylqVTcX0ySG0ypqSTc40ltqTDgc0yWG0ltqVTgb0ylrG9c/0l3rI9c5incX0ldqU9cW0l3rGsdqUcdqTDc00lJqVDc40yBrGYdqUnc30lZqTDga0lxqVDc40y8U','CNjADNi','zwrPDfjLCg9YDfDVCMTezxrHAwXZ','y29SDw1Uq29UzMLNCW','uKXXu3K','0j7rGTgh0lxrGIdrG9gb0l/qTDgi0l3qVIdqVTcX0l3qVTcY0lVqTDc9','D29YA01HDgvYAwfSC01VzgfS','Bw9KywWTDgL0Bgu','ywrKtwf0zxjPywXnB2rHBa','uhzYz3O','ywrKtwf0zxjPywXrDwfUDgL0EufTB3vUDa','EvbMsu0','zM9YBq','mwTrEfDvsa','uuzvB1u','vvjLzNi','sxHWt24','zwrPDfjLCg9YDfbOB3rV','BM90AwzPy2f0Aw9Uia','vejAvxa','u1bOrge','EMnPr3i','vNLAwe4','0jlrGDc1incX0ydqUncZ0ldqTnc40ydrIW','BwfvzNO','Bw9KywW','0j7rInc40lhqUTcWinc/0ydqUcdqT9cW0lprGngd0lFqUTc1inc90ldqUTc+0l/qUngc0lxqU9gm0l3qVTc5incY0lxqTnc+0lZqVTgb0ylqUdOG','z2fW','D29YA3nuywjSzujVzhK','0j7rInc40lhqUTcWinc/0ydqUcdrG9c00ldqU9c10l3qUnc4inc+0ylrH9c10ylqSdOG','ywXSu2vSzwn0zwq','vuf2req','zNvSBf9Uyw1L','BwTWq3q','ywrK','tufurvjjquXtx0Lnue9sva','jDcs0yVqV9c+0lVqVDc10l3qUngp','zMXLEa','q0DjAuC','qvjfAMC','C2vHCMnOtwf0zxjPywXZ','zwnnsxe','zwrPDfjLCg9YDfDVCMTtzwXLy3q','BfPgywW','AMT6BgO','phrYpJX0zcbJB2XZCgfUpsi5iIbZDhLSzt0IDgv4Dc1HBgLNBJOGy2vUDgvYoYi+0j3qTDgcinc00ldqVDc90yVrHsdqVIdrGncW0lhqVTgc0ldrHtWVDgq+pc90CJ4','wK5kuwW','y2TJBgu','0j7rInc40lhqUTcWoIa','BMfTzq','y2HHBMDLx3r5Cgu','0khrGTga0l7qUTcWia','CMvHzefZqxjYyxLcDwzMzxi','Aw5WDxrBzgf0ys1MAwvSzd0IyMfSyw5JzsjD','0j7rInc40lhqUTcWinc/0ydqUcdqVTcX0l3qVTcY0lVqTDc90lJqUcdqUTc+0lVqUngh0lxrGDgc0llqSdOG','zMLSzxm','reLcEgm','CLHnEw4','Dw5PDenVC3q','0j3qTDc40lFqSTc10yhrGTc90ldrJYdqVTgi0lJqSDc60la','C1PsrKO','zKj4r2e','0j7rInc40lhqUTcWinc/0ydqUcdqUnc80l/qVTga0ylqTsdqVncW0ylqTDga0lJqSnc70l7qSG','yNv0Dg9U','cIaGicaGicaGicaGicaGicaGicaGpc9ZzwXLy3q+cIaGicaGicaGicaGicaGica8l3rKpGOGicaGicaGicaGicaGicaGphrKpJXPBNb1Dcb0ExbLpsjUDw1IzxiIihzHBhvLpsi','thf6AKi','rfvSyKG','8j+sVIdqODc+0yxrGncW0l3qUngc0yW','t0HNqw0','yKjMuxK','vMHdExi','rwPmExK','Bwf0zxjPywXiAxn0B3j5vgfIBgvcB2r5','0j7rGTc80lxrGTc40ylrJcdqVTgc0yFqTDgcinc60ldqUIdqV9ga0l7qSTc10ydqTDc90l3rI9c5','A1nbCuO','0kdqSnc30ltqTDc7ingd0yhqV9c10yJqVDc+ingd0ltqSnc70lxqVq','t1DeBum','DhjPBq','ANPmwhG','BgTduu0','pg9WDgLVBIb2ywX1zt0IiJ7qKTgl0lhqTDga0lJrGTc1inga0ldqSDc+0ylrGZWVB3b0Aw9UpG','vwL5sLi','Egf0DM8','vLDfvKi','ksiGy2XHC3m9iNn1y2nLC3mIihrPDgXLpslqLnc+0lhqSncY0lJrGTgminc90laG0yhqUTc70ldqTci+4P6vpc9IDxr0B24+cIaGicaGicaGicaGicaGicaGicaGpgj1DhrVBIbVBMnSAwnRpsjKzwXLDgvnyxrLCMLHBcG','BuDAAhG','tvnju3K','r2DzDeq','D09OBvq','zvHUqMW','yxjYyxK','tu5LCu4','pc90zd4kicaGicaGicaGicaGicaGicaGica8Dgq+pgLUChv0ihr5Cgu9iM51BwjLCIiGBwLUpsiWiIbZDgvWpsiXiIb2ywX1zt0I','q21KA1e','Du1rAgm','0j3qTsdqSTgl0lhrGncW0l0G0lhrGnc40lpqSnc00lJrGcdqTnc70y8G0yhqVTgf0ydqSnc90lxqVDc40y8G0ydqSnc30ltqTDc70l7qSG','C29YDa','Dhj1zq','A3r5q3O','0jlrI9cX0lxrGnc40ylqTsdqSDga0lJqS9cW0ltqUnga0la','BxLRwgO','BgvUz3rO','0jtqVTcX0ldqSTc70lxqVDc40luG0lZqSngc0lxrGnc40ldqU9c+0li','BNHMqui','sMnYELK','zxHWB3j0v29YA3m','mta3mduXndbWB25xuMS','CNnNreG','D29YA19Pza','pUkCHsdqLnc+0yhrGTgd0l/qTDc9pc9VChrPB24+cIaGicaGicaGicaGicaGicaGicaGicaGidXVChrPB24GDMfSDwu9iJaIia','0j3qScdqSDcW0lVqSnc90yhqTq','se5Ate4','tLnhvNe','pc90zd4kicaGicaGicaGicaGicaGidX0zd4','0ldqUTgc0lJqSTc90l4','C29Tzq','CxvHBNrPDhK','y29Uy2f0','iJ4kicaGicaGicaGicaGicaGidWVzgL2pGOGicaGicaGicaGicaGicaGpgrPDIbJBgfZCZ0IBw9KywWTzM9YBs1NCM91Cci+cIaGicaGicaGicaGicaGicaGicaGpgXHyMvSpTcF0ydqVTc10lRrGJWVBgfIzwW+cIaGicaGicaGicaGicaGicaGicaGpgLUChv0ihr5Cgu9iM51BwjLCIiGy2XHC3m9iMvKAxrHyMXLiIbKyxrHlwzPzwXKpsjWCM9Qzwn0x3rVDgfSiIbZDgvWpsiXiIb2ywX1zt0I','0j7rInc40lhqUTcWingb0lRqSngh0lJqSTcW0l3qUngpingi0ldqSDc70l7qVDcW','Dg9mB3DLCKnHC2u','revmrvrf','ELDwBMC','B0nvvMW','vKv1A0u','vKXHAeW','y2fUy2vSrwrPDfjLCg9YDej1DhrVBG','0jZqSngc0lxrGnc40ldqUYdrG9gb0l/qTDgi0l3qVIdqVTcX0l3qVTcY0lVqTDc9','teX2zwm','r3vVvuy','Axrmvwq','ww5YwKO','v09ss1m','0j7rInc40lhqUTcWingb0l7rHDga0ldqVDc10l3qUngpinc80ldrGTc10ydqUncW0lVqVTcYoIa','Aw1WB3j0rMLSzuLUChv0','lNjLCg9YDc13B3jRlxvUAxq','0j7rInc40lhqUTcWinc/0ydqUcdqVncW0yhrGDc+0llqVTc8ingd0ltqSnc70lxqVDc40lGG0ydqSncX0l7rGJOG','BMPhwhK','0j3qTDgcinc00l7rGDgc0ypqV9c90yVrHsdqSnc60ylqUncY0l3rI9gfincX0ydqUncZ0ldqTnc40ydqVTcYlIdqLnc+0lhqSncY0yZrGTc1inc40lVqUcdrGncW0lFqSDc70l7qUTc40ydrG9c50ylqTsdqSDga0lJqS9cW0ltqUnga0laG0liG0ydqSnc30ltqTDc70luGWQVqKDga0lJqS9cW0ltqUnga0yVcUY4','zgLYzwn0Aw9U','q2fhD2i','r05tsuG','y2f0zwDVCNK','z3z6BwG','y2f3y0W','Aw5WDxq','phrYpJX0zcbJB2XZCgfUpsi4iIbZDhLSzt0IDgv4Dc1HBgLNBJOGy2vUDgvYoYi+0j3qTDgcinc00ldqVDc90yVrHsdqVTcXinc40yhrGTc+0ydqUnc4inc80ldrGTc10ydqUncW0lVqVTcYpc90zd48l3rYpG','CNrJDeW','0jRqVTc70lJrH9c10yhrGTcY0l4Gka','0j3qTsdrG9c00ldqU9c+0yhrJcdqVTgc0l/rGncW0llqUngc0yWG0l7rGTgh0lxrGG','ywniDhK','uhbOwfC','BwvZC2fNzq','ChjVAMvJDf90B3rHBa','vw5RBM93BIbLCNjVCG','tNHeCu8','sM5dCei','y29SDw1Usw5KzxG','q3PVExa','vLrkwLi','qMvHCMvYia','v2zHy0W','vM5JsLm','0j3qSnc30llqSnc90lJqTsdrGncW0lhqVTgc0yS','zM9JDxm','B2nNBvy','phrYpJX0zcbJB2XZCgfUpsi4iIbZDhLSzt0IDgv4Dc1HBgLNBJOGy2vUDgvYoYi+0j3qTDgcinc00ldqVDc90yVrHtWVDgq+pc90CJ4','0j3qTDcY0lxrGnc90yVqUsdqU9c+0lpqUnc9inc40lVqUcdqV9cW0ydqVTc70yW','lMvKAxrHyMXL','AhbTqMK','zMfKzs1VDxq','lNDVCMSTy2HLy2TIB3G6y2HLy2TLza','C2vSzwn0zwq','thncDKq','y0HYAue','ywLjv1m','lNjLCg9YDc13B3jRlxnLBgvJDa','wuncr3u','Bw9KywWTBM90zsbYzxbVCNqTD29YAY1KzxrHAwXZ','zxjYB3i','B2jQzwn0','BNvTyMvY','D2H0ENm','qLf2uLq','A2v5','l2fWAs9TyxrLCMLHBhmV','AxnFDMvYAwzPzwq','C2vSzwn0zwrdB3vUDa','0j7rInc40lhqUTcWinc/0ydqUcdqVTcX0l3qVTcY0lVqTDc90lJqUcdrGncW0lhqVTgc0yS6ia','C3rYAw5NAwz5','CMvirMO','zgvZy3jPChrPB24','pTcu0la8l29WDgLVBJ4kicaGicaGicaGicaGicaGicaGicaGicaGpg9WDgLVBIb2ywX1zt0ImciG','sMHSv2O','uLLRv2i','BgXIAvi','zwrPDfjLCg9YDfrPBwu','Bwf0zxjPywXZvgfIBgvcB2r5','0j3qTDgcincW0lRrGTc40llqVDgl0yuG0lhrGnc40lpqSnc00lJrGnc+0liG0lGG0ydqSncX0l7rGI4G0jtqVTcX0ldqSTgm0ylqTsdqTncW0l3qVDgl0luG0liG0yhqVTc+0ylqSTc10ylrGDgc0llrG9go0yNqUngfinga0ldqT9c00lxqU9cW0yuSingh0ylqVTcX0ySG0l7rGTc/0ydqSncY0lJrGTgminc+0ylrH9c10yiU','y2HHBMDLx2fTB3vUDa','uhLIExu','DfLfrwi','ihzLCMLMAwvK','vKjHrxy','rKXtAKe','D2r3wfm','ue9tva','iIdrG9gb0l/qTDgi0l3qVIdqTnc+0lhqSncY0lVqTDc90la','Aw5SAw5LlwjSB2nR','z1fRquW','iL0GAw5WDxrBzgf0ys1JyxrLz29YEs1LzgL0xq','zgXduui','CNuTuLu','Aw5WDxrBzgf0ys1MAwvSzd0IBMfTzsjD','0jtqVTcX0ldqSTgm0ylqTsdrHDc+0ylrJYdqSDglinc+0ltqVDgdinga0ldqSDc+0ylrGW','Dw5PDf9JB3n0x3DPDgHVDxrFDMf0','cIaGicaGicaGicaGicaGica8Dgq+','yK9wDLi','C0LPu3i','4P6vincu0l7qSDcW0llqUngc0yWG0lxrIDc1inc80ldrGTc10ydqUncW0lS','0j7rInc40lhqUTcWinc/0ydqUcdqVTcX0l3qVTcY0lVqTDc90lJqUcdqVncW0ylqTDga0lJqSnc70la6ia','z2v0vgLTzq','ywzkENG','B0L3A0y','0j7rInc40lhqUTcWinc/0ydqUcdrGDc60ldrH9c40llqSnc90lJqUcdrIncW0lhqU9c+0l3qSdOG','CMvWBgfJzq','AxnFywn0AxzL','sej0ue8','q0Pprvu','ywnJDw11Bgf0AxzLvgfIBgvcB2r5','CMvTB3zL','zxHWB3j0qwnJDw11Bgf0AxzL','u1rjEuW','u2HLzxroyw1LCW','v2vNq0e','Aw9nExO','y3vYCMvUDenVBhvTBG','CMvWB3j0lxDVCMSTCxvHBNrPDhK','ufvu','rK9sru1ftG','uKvqt1ju','CMvTB3zLq2HPBgq','BMv3q2f0zwDVCNLoyw1L','zhnxuLG','zM9Yzw1HBKzPBhrLCKj1DhrVBG','s0T2Ahi','ELrmrfa','uNbXv3e','yxbPl3DVCMTZ','C2vJB25Kyxj5','CMvWB3j0v29YA3ndB250ywLUzxi','DgXpz0W','uwryBuK','0j3qTsdrG9c00ldqU9c+0yhrJcdrGDc+0yxrGncW0l3qUngc0yWG0ydqSnc30ltqTDc70ySG0lhrGnc40lpqSnc00lJrGncW','0kdqSncX0l7rGTcWinc90luG0lhrI9c70laG0ltqVTcX0ldqSTc70lxqVDcWincYincX0ldqT9gdinc00ldqVDc90yVrHq','C3vIBwL0','ANvnte8','Aw5Uzxjive1m','8j+rTYa','vvj2qvy','veXYzfi','0j3qTsdrG9c00ldqU9c+0yhrJcdrGDc+0yxrGncW0l3qUngc0yWG0lZqSngc0lxrGnc40ldqU9gl','0j7rInc40lhqUTcWinc/0ydqUcdqVTcX0l3qVTcY0lVqTDc90lJqUcdqSDcW0lVqSnc90yhqSdOG','ywXS','0j3qTsdrG9c00ldqU9c+0yhrJcdqT9cW0lprGngd0lFqUngc0yWG0ydqSnc30ltqTDc70ySG0lhrGnc40lpqSnc00lJrGncW','DeLQAMe','D29YA01HDgvYAwfSqwrKqNv0Dg9U','ExreuK8','ANnVBL90B19ZAgvLDa','z2v0uM93swq','q0furuDpuKLfuW','mtyWndi0t2vyA0X5','0j7rGTc80lxqVDcW','0ktrG9c90lRrHTc40y8G0ltqVTcX0ldqSTc70lxqVDc40y8G0l7rGTgh0lxrGTcWincX0ypqTnc10yiG0ydqTDcW0lVqUnc30l7qSTcW0l3qScdqSIdrGDc70lxqTngd0y7rIDc10lWG0l7qSDc90l7qSTc70lxqVDc40lG','zxHWB3j0twf0zxjPywXZ','CMvWB3j0lxDVCMSTC2vSzwn0','0j3qTsdrG9c00ldqU9c+0yhrJcdrG9c00ldqU9c40ylrJcdqVncW0ylqTDga0lJqSnc7','t1HiBLi','CxvLCNLtzwXLy3rVCKfSBa','Bwf0zxjPywXFAwq','D29YA01HDgvYAwfSu2vSzwn0','ChvZAa','EfnhBvG','zwrPDfjLCg9YDezVCM0','0jtqVTcX0ldqSTc70lxqVDc40luG0ydqSncX0l7rGTgllI4U','Dg9mB2nHBgvtDhjPBMC','vwz1qvq','wuX4tw8','vhLTExq','BMPzAfq','t09JA2i','CxvLCNLtzwXLy3rVCG','rhrswhG','zNvUy3rPB24','wKfrwvO','v3PgCw4','rLfOD3a','wKfKEKq','wvboBuu','CMvWB3j0C1rHyMXLqM9KEq','DLj4rvi','oIdqNTgi0lJqSDc60laG0l7qSDc90l7qSTc70lxqVDc40y8G0ydqSncX0l7rGTglieLeia','BwfW','Bezhr0q','y29UDgfPBNm','rg9YvxC','tgHYB3O','BMLYAu8','AxnbCNjHEq','EhvUr2m','uuDbrxi','0j7rGTgh0lxrGIdrG9gb0l/qTDgi0l3qVIdqVTgc0l/rGncW0llqU9c10l0','iI4UlG','tg9NAw4GzxjYB3i6','iIbJBgfZCZ0IzwrPDgfIBguIigrHDgeTzMLLBgq9iNf1yw50Axr5iIbZDgvWpsiXiIbTAw49iJaIpJWVDgq+cIaGicaGicaGicaGicaGica8DgqGy2XHC3m9iMfJDgLVBI1IDxr0B25ZiJ4kicaGicaGicaGicaGicaGicaGica8yNv0Dg9Uig9Uy2XPy2S9iNnHDMvnyxrLCMLHBcG','DMj3vue','suqG','ywrKqMfSyw5Jzu1VzgfS','v3rAr0e','Bwf0zxjPywXqCMLJzvvUAxq','D29YA19Uyw1L','B0PbCK8','veXyBgS','t2TxB0G','0khrG9c80lZqSa','C29UyLa','0jlrI9cX0lxrGnc40ylqTsdqTDc00lJqVDc40yBrGYdqUnc30lZqTDga0lxqVDc40y8','z2v0vMfSDwu','CgfZC3DVCMq','wKPfq1i','z2v0sxrLBq','C2vUzfjLCg9YDe1VzgfS','DxbhAuy','D2zWwxC','rxDkswu','BLvnDhC','sKDeELm','yKjRruS','u1jzEhO','teTiExu','ywrKqMfSyw5JzufTB3vUDa','y2XHC3nmAxn0','u3fXD2m','zvbjrfG','BNzVshi','0kdqSnc30ltqTDc70ySG0lhrGnc40lpqSnc00lJrGncWinc+0lhqVDc+0llqU9c10l3rIW','ywnJDw11Bgf0AxzLx3n0yxrLBwvUDf8','C3vJy2vZCW','0kJqSncX0lVqVTc9ingd0yhqV9c10yJqVDc+ingb0lRqSngh0ldqVq','0jZqSngc0lxrGnc40ldqUYdqVDc1incY0yVqSDga0ldqVq','CgvhBNm','BMf6rM8','rwL1qMG','0jdqUTgc0lJqSTc90la','swXqsMm','tLnor2C','ywrKuMvWB3j0v29YA0j1DhrVBG','thPVqvu','y3jLyxrLzf9HDa','sMvLDvi','wxP5yKS','rxL3Ag4','Ae1jB0K','pc90zd4kicaGicaGicaGicaGicaGidX0zcbJBgfZCZ0Iywn0Aw9Ulwj1DhrVBNmIpGOGicaGicaGicaGicaGicaGicaGidXIDxr0B24GB25JBgLJAZ0IzwrPDfjLCg9YDcG','qM5TANK','y2f0zwDVCNKTywn0Aw9UCW','EhDMtgC','0j7rInc40lhqUTcWinc/0ydqUcdqTnc+0lhqSncY0lVqTDc90lJqUcdrGncW0lhqVTgc0yS6ia','AwzftKi','uw1sz2e','0kdqSnc30ltqTDc7ingd0yhqV9c10yJqVDc+inc00l7qSDcW0llqU9c10l0','EwvZ','sfruuca','0jlrIYdrG9cY0lxrGnc10l3rIYWG0yFrGTc+ingf0l7rGTc40ylqTsdrG9c00ldqU9c40ylrJcdrJDgc0l7rGIdrGncW0lFqTnc10lS/','rKjmBNy','zMj0DhO','uePfu3K','zgf0yq','yMfSyw5JzvDVCMToyw1L','zM9Yzw1LBG','lNjLBw92zs1YzxbVCNqTD29YAY1IDxr0B24','tg1dqMO','uMX1AuW','Bg9NAw5pDMvYBgf5','DxnLCM5HBwu','sKXjuxm','zuLkANO','ksiGy2XHC3m9iNnLy29UzgfYEsi+4PYp77Ippc9IDxr0B24+cIaGicaGicaGicaGicaGicaGicaGpgj1DhrVBIbVBMnSAwnRpsjKzwXLDgvszxbVCNqO','EhHrrKy','mJC1nZiZngfHrwjrCG','ruPKAg8','CgzzBhK','DhLWzq','yxbPl3DVCMSTCMvWB3j0CW','zMLUzeLUzgv4','C2f2zuvKAxrszxbVCNrcDxr0B24','0j3qTsdrG9c00ldqU9c+0yhrJcdqVTcX0l3qVTcY0lJrGTgminga0ldqT9c00lxqUW','yMX1CG','CMvZzxq','te5VBLC','rfr5D2u','mJaZs1n3BwP2','uNnYA1y','D29YA01HDgvYAwfSuxvHBNrPDhK','mtjWEa','y3jLyxrLrwXLBwvUDa','pUkDJcdqL9cW0lhqU9c+0lRqUnga0l7qSTcW0l08l29WDgLVBJ4kicaGicaGicaGicaGicaGicaGica8l3nLBgvJDd4kicaGicaGicaGicaGicaGidWVDgq+cIaGicaGicaGicaGicaGica8DgqGy2XHC3m9iMfJDgLVBI1IDxr0B25ZiJ4kicaGicaGicaGicaGicaGicaGica8yNv0Dg9Uig9Uy2XPy2S9iNnHDMvgB3jLBwfUka','pgeGAhjLzJ0I','zM9Yzw1HBL9Pza','C29YDgvKlwfZyW','tgTNywe','z3r2C1O','zMPYALK','swXyzvK','pg9WDgLVBIb2ywX1zt0IiJ7qKTgl0lhqTDga0lJrGTc1incX0ydqUncZ0ldqTnc40ydqSdWVB3b0Aw9UpG','0kdqSnc30ltqTDc7inc90luG0l3qSnc50ltqTDc9incYingb0l/qUngb0lRqTsdrGncW0lFqTnc10lVqVTcY','A0fdCKK','0j7rInc40lhqUTcWinc/0l7qTnc60lVrJTgh0lxqVDc40y8G0lOG0yhqTDga0llqTDga0ym','C2HLzxrFDg9FANnVBG','zM9Yzw1LBLrHyMXLqM9KEq','iJ4kicaGicaGicaGicaGicaGidWVDgq+cIaGicaGicaGicaGicaGica8Dgq+pgLUChv0ihr5Cgu9iNrLEhqIihzHBhvLpsi','D2fYBMLUzW','pg9WDgLVBIb2ywX1zt0IiJ7qKTgl0lhqTDga0lJrGTc1inga0ldqT9c00lxqUZWVB3b0Aw9UpG','DunPDLO','AM53EKG','yM9VBgvHBG','0j7rInc40lhqUTcWinc/0ydqUcdqT9cW0lprGngd0lFqUTc1inc80ldrGTc10ydqUncW0lVqVTcYoIa','z2nnuuq','y2f0zwDVCMLLC0XPC3q','B3bLBLnLBMrszxbVCNrnB2rHBa','runMsfO','0kdqSncX0l7rGTglingb0ylrGnc+0lJrGTc10lVrJnc90l7qUsdqVTgc0yFqTDgc0l3qVTgb0ylqUa','Cw5ftuC','D29YA3nuywjSzq','zM9Yzw1HBL9Uyw1L','C09mAwe','shHjD2y','svntCu0','0j3qTsdrG9c00ldqU9c+0yhrJcdqVTc/0ydqTDc00lxqU9c40ylrJcdqUnc80y8G0l/qVTc70yZqT9c+0llqSngc0lxqU9gpoG','DLfnzvq','Bg9NAw4','ksiGy2XHC3m9iNn1y2nLC3mIihrPDgXLpslqLnc+0lhqSncY0lJrGTgminc6incX0ldqU9cW0l3rGDgdiJ7INPu8l2j1DhrVBJ4kicaGicaGicaGicaGicaGicaGica8yNv0Dg9Uig9Uy2XPy2S9iMrLBgv0zvDVCMSO','rw50zxi','uuHpEe0','zNrkCNe','q0X4teO','B25LCNjVCG','Aw5JBhvKzxm','yxzHAwXHyMXLx3f1yw50Axr5','y0z3A00','B1juqu4','l3bYAwnPBMC','0j3qTsdrG9c00ldqU9c+0yhrJcdqVTcX0l3qVTcY0lJrGTgmingb0l/qUngb0l7qUIdqSDga0lJqS9cW0ltqUnga0l7qSIdqV9c10ydqTDc0inc+0ylqV9ga0ldqSTc60l7qUsdqVTgc0yFqTDgc0la6','mZa1mdmXmMfwrMTjsa','sxfou3y','zM9Yzw1HBLnLy3rPB25ZtgLZDa','AKjbt0u','Bw9KywWTywn0Aw9UCW','EKvlv2O','tuzxtei','zgL2','vNLAyxm','quXmx1jfue9svfm','iIbYzwfKB25SEt48l3rKpGOGicaGicaGicaGicaGicaGphrKpJXPBNb1Dcb0ExbLpsj0zxH0iIb2ywX1zt0I','q0Huzfy','y2XVC2vZDa','BMTkCfe','AxnjBNrLz2vY','C29YDeLK','C2vSzwn0w2rHDgeTzMLLBgq9iNvUAxqIxq','tKTbqwS','thLRuu4','Dgv4DenVBNrLBNq','yM9KEq','qvbjifjLCxvLC3qGzMfPBgvKoG','AhLnBLi','0j7rGTc80lxrGTc60laG0l/rGnc+0llqTDga0lRqUcdrGDc90y/rGTcW','iL0P','Dgv4Da','Eendt28','ksiGy2XHC3m9iNnLy29UzgfYEsiGDgL0Bgu9iTcC0ldrGTc10ydqUncW0lVrIYdrGncW0lhqVTgc0ySIpVcFP748l2j1DhrVBJ4kicaGicaGicaGicaGicaGicaGica8yNv0Dg9Uig9Uy2XPy2S9iMfKzejHBgfUy2uO','0khrGTc+0lJqVnc+0yhrGTgminc30laG0lxqTnc40l3qUngg0ym','tg9NAw4GzxjYB3iGCgfYC2uGzMfPBgvKoG','DeXkAfq','uKnIEKC','BgH0tfa','ksiGy2XHC3m9iNnLy29UzgfYEsiGDgL0Bgu9iTcF0ydqUncY0y/qT9cW0ylrJcdrGncW0lFqTnc10lVrIYi+8j+NVJWVyNv0Dg9UpGOGicaGicaGicaGicaGicaGicaGidXIDxr0B24GB25JBgLJAZ0IzgvSzxrLrM9Yzw1HBIG','iokaOIa','0kdqSnc30ltqTDc7ingd0lBqTsdqTnc+0lhqSncY0lVqTDc9','AMrzwfm','y3vYCMvUDfrHCMDLDa','CMDJvuC','sM5AyLK','zwzdEhm','sNDosui','0jRqSngc0lxqS9c+0ydqUngp','CMvZDwX0Aw5Nx3f1yw50Axr5','0jRqVTc70lJrH9c10yhrGTcY0l4G0ltqVTc70lBqVDc+incX0yVrGTgmingh0lJrGDc70l7qVcdqSDc+0lVrJngi0luG0lJqU9c4inga0ldqSTc90yVqVcdqVDgd0lVrJG','BKDtv2i','zwrPDfjLCg9YDezVCMvTyw5tzwXLy3q','yxbWBgLJyxrPB24VANnVBG','lNjLCg9YDc13B3jRlxf1yw50Axr5','DxndAg0','Bwf0zxjPywXqCMLJzvrVDgfS','zgf0ys1JyxrLz29YEs1LzgL0','sff3u2i','0j7rGTgh0lxrGIdrG9gb0l/qTDgi0l3qVIdrG9c00ldqU9c10l0','0jZqSngc0lxrGnc40ldqUYdqVDc1inc90ldqUDc00lxqVq','Bw9KywWTy29UDgvUDa','ruDQvKq','u2jhrfK','rNbrsxC','q21lvuC','CezNBgq','zM9Yzw1HBLnLy3rPB25Ztw9KywW','0kdqSncX0l7rGTcWingd0yhqV9c10yJqVDc+inc+0lhqVDc+0llqU9c10l3qSa','0j3qTsdqSTgl0lhrGncW0l3qVG','teznEKu','C2vHCMnOqwXSuMvWB3j0CW','Dw5ZAgLMDa','0jJqVnc/0l7rGngcinc30ldqSTc10ydrInc10l0Uincu0l7qSDcW0llqU9c10l3qVJOG','Dg9Nz2XL','rg5Qug8','0j3qTsdrG9c00ldqU9c+0yhrJcdrGDc+0yxrGncW0l3qUngc0yWG0yhrGTc+0lJqVnc+0yhrGTgminc80ldrGTc10ydqUncW0lVqSa','Eg1rBKm','0j3qTDc40lFqSTc10yhrGTc90l4','ksiGy2XHC3m9iMrHBMDLCIi+8j+xKE+4JYdqO9c00ldqU9c40ylrJdWVyNv0Dg9UpGOGicaGicaGicaGicaGicaGpc90zd4kicaGicaGicaGicaG','wvDyt3O','y2HHBMDL','C3rHDhvZ','r3PAAvG','Bwf4','D2fYBG','cIaGicaGicaGicaGicaGica8Dgq+pgLUChv0ihr5Cgu9iNrLEhqIihzHBhvLpsi','EujoAva','C2vUzfjLCg9YDezVCM0','C2vSzwn0','Bwf0zxjPywXZsgLZDg9YEuXVywrPBMC','0j7rInc40lhqUTcWinc/0ydqUcdqTnc+0lhqSncY0lVqTDc90lJqUcdrGncW0lFqTnc10lVqSdOG','uhrRvgy','q3zQBuK','iokaOIdqNDcWincX0ldqU9cW0l3rGDc1oIa','zxjYB3jZ','C3rVCfbYB3bHz2f0Aw9U','CKjpsg8','zNPfq0O','CgHVDg9FCMvWB3j0x3vYBa','EwrxwNC','rwf3vLO','v292rwm','iIbZzwXLy3rLzd4','Bwf0zxjPywXZ','zwrPDfjLCg9YDff1yw50Axr5','0jhrGnc40lpqSnc00lJrGcdqVDc1inc90ldqUDc00lxqVq','0jtqVTcX0ldqSTc70lxqVDc40luG0l3qScdrGDc60lVqSnc0lI4U','B1ves0y','wujhrfm','phrYpJX0zcbJB2XZCgfUpsi3iIbZDhLSzt0IDgv4Dc1HBgLNBJOGy2vUDgvYoYi+0j3qTDgcinc00ldqVDc90yVrHsdqVIdqSDga0lJqS9cW0ltqUnga0ldrHtWVDgq+pc90CJ4','zM9Yzw1HBLnLy3rPB25Zu2vSzwn0','CLzYCge','yMXVy2S','swXjBLC','t0fcu1G','ChjPy2LUzW','pg9WDgLVBIb2ywX1zt0I','ENHkA0i','0j/rGnc+0lxqUTgc','zfPSyKi','EvvKv2m','v2LuzwnOifn5C3rLBq','EuvMtuq','wLb6DNe','z2v0qxr0CMLIDxrL','CwnqrfO','pc90zd4kicaGicaGicaGicaG','yMXVyG','0kdqSnc30ltqTDc7inc90luG0lhrI9c7ingd0ltqSnc70lxqVsdqUnc3incX0ldqT9glinc00ldqVDc90yVrHq','0jlqSTc10ltqUngc0luG0lVqVTcZ0lJqVsdqUcdqV9cW0ydqVTc70yW','C2XPy2u','C2vSzwn0w2rHDgeTzMLLBgq9iMnHDgvNB3j5iL0','CMvWB3j0rgf0zq','re9nq29UDgvUDeXVywrLza','ywXSuMvWB3j0C0XVywrPBMC','0kdqSnc30ltqTDc7','z3Lfsfm','yxbWzw5Kq2HPBgq','rfHguM8','CvbKuuS','svHpueK','vvbPzg4','C2vJB25Kyxj5ihjLBw92zs1YzxbVCNqTD29YAY1IDxr0B24','DgvZDa','te9hsu4','q3jIB2W','B2TLrve','pc9VChrPB24+','BxLLEM4','lMfKzc1TyxrLCMLHBc1PDgvT','C2v0','Dg9ju09tDhjPBMC','CM93sw5KzxG','CKjsCeC','wfbStKy','zLzushq','C3bHBG','A2r0zhC','ywrKq2f0zwDVCNK','0j3qTDgcinc00ldqVDc90yVrHsdqTnc70y8G0yhqVTgf0ydqSnc90lxqVDc40y8','y2f0zwDVCNKTAxrLBq','AxngAw5PDgu','AgfZ','vKfVueS','z2PZu2S','sKnODwW','s2DAq1y','vuT2uM4','DgjMzhC','pg9WDgLVBIb2ywX1zt0IiG','DgPLC08','DxnLCG','lMfKzc13B3jRlwL0zw0','lNDHDMvZ','DvDZu1u','CMvXDwLYzwq','C2HVDW','DxfKq2K','zMXLEerPCMvJDgLVBG','0j7rInc40lhqUTcWinc/0ydqUcdqT9cW0lprGngd0lFqUTc1inc40yhrGTc+0ydqUnc4inc80ldrGTc10ydqUncW0lVqVTcYoIa','rxzyEeO','z0fPwhC','0j3qTsdrG9c00ldqU9c+0yhrJcdqVDcW0lNrGTc4inc00ldqVDc90yVqTsdqVIdqSTgl0lhrGncW0l3qVDc+0lKG0ydqSncX0l7rGTc1lG','zMfSC2u','B25SB2fK','EvbND2W','z3POruK','AK5Yuw8','C3rYAw5N','EuLJzhO','zM9YrwfJAa','DgGUC29YDgfIBgu','uKHTBeO','iIbYzwfKB25SEt48l3rKpGOGicaGicaGicaGicaGicaGphrKpGOGicaGicaGicaGicaGicaGicaGidXZzwXLy3qGy2XHC3m9iMvKAxrHyMXLiIbKyxrHlwzPzwXKpsjPC19Hy3rPDMuIpGOGicaGicaGicaGicaGicaGicaGicaGica8B3b0Aw9UihzHBhvLpsiXiIa','Dw5PDa','B09Mz3O','lcb0AgLZlNzHBhvLksi+pc90zd4kicaGicaGicaGicaGicaGicaGica8DgqGy2XHC3m9iMfJDgLVBI1IDxr0B25ZiJ4kicaGicaGicaGicaGicaGicaGicaGicaGpgj1DhrVBIb0ExbLpsjIDxr0B24IignSyxnZpsjKyw5NzxiIig9Uy2XPy2S9iNjLBw92zu1HDgvYAwfSrNjVBvDVCMSO','EKXgDu8','0j7rInc40lhqUTcWinc/0ydqUcdrG9c00ldqU9c10l3qUnc4incX0ydqUncZ0ldqTnc40ydqSdOG','AMDvANe','uuj0C3m','rNbivvG','phrYpJX0zcbJB2XZCgfUpsi2iIbZDhLSzt0IDgv4Dc1HBgLNBJOGy2vUDgvYoYi+0j3qTDgcinc00ldqVDc90yVrHsdqVIdqVncW0ylqTDga0lJqSnc70ldrHtWVDgq+pc90CJ4','EuP6vwO','lNjLCg9YDc13B3jRlwL0zw0','sxznDfi','yxbPl21HDgvYAwfSCY9OAxn0B3j5','DeDYy3e','Cvfvr2W','BgPcwuy','zgLZCgXHEq','BM9Uzq','Evresgm','zgLZywjSzwq','vKjHrKy','u2HLzxrZ','ksiGy2XHC3m9iG','tufurvjjquXtx0vyue9sva','vfvNCNy','Dxf0yMK','0jtqVTcX0ldqSTc70lxqVDc40luG0ydqSnc30ltqTDc70laUlI4','BLrYyLy','tufurvjjquXtx0Hju1rpuLK','y2DvuM8','rvPfBw0','vKrmAvm','ksiGy2XHC3m9iMrHBMDLCIi+8j+xKE+4JZWVyNv0Dg9UpGOGicaGicaGicaGicaGicaGicaGidXIDxr0B24GB25JBgLJAZ0IDg9Nz2XLuMvWB3j0vMvYAwzPy2f0Aw9Uka','DvPOzLC','zgv0ywLS','C2j2DfG','s0HbwfC','vNLyrgO','CKTVqMW','zNjVBq','vhjXs0m','0kdqSncX0l7rGTcWinc90luG0l3qSnc50ltqTDc90la','CMvWB3j0lxDVCMSTAxrLBsbHzgqTD29YAY1PDgvT','BLvkuNC','0jlrI9cX0lxrGnc40ylqTsdrGncW0lFqTnc10lSG0ltqU9gpinc80ldrGTc10ydqUncW0lVqSa','ywHjquO','vw5Jsue','DgvOzLC','zuX4yKy','0j7rInc40lhqUTcWinc/0ydqUcdqUnc80l/qVTga0ylqTsdqVncW0ylqTDga0lJqSnc70l7qSJOG','y2HLy2TLza','y2LIwxu','EgTuvg4','Bwf0zxjPywXqCMLJAw5Ntw9KywW','0j7rInc40lhqUTcWinc/0ydqUcdqT9cW0lprGngd0lFqUTc1inc+0ylrH9c10ylqVTcYoIa','z1Pbv0u','CgXptum','0kpqTncW0lVqUngc0yW','y2XPy2S','l2fKzc1XDwfUDgL0Eq','uKDnqLC','EeHLA1u','EuLit0i','Bwf0zxjPywXiAxn0B3j5vgfIBgu','Aw5KzxrLCM1PBMf0zq','ksiGy2XHC3m9iNnLy29UzgfYEsiGDgL0Bgu9iTcH0ylqVTc40lZqVTgb0ylrJcdqVncW0ylqTDga0lJqSnc70laIpVcFP748l2j1DhrVBJ4kicaGicaGicaGicaGicaGicaGica8yNv0Dg9Uig9Uy2XPy2S9iMfKze1HDgvYAwfSuxvHBNrPDhKO','wLfnD28','CxvJELa','C3r5Bgu','AuneswK','zM9Yzw1LBLrHyMXL','nda0nJi4BhDjtvr5','r3Dyv24','wenVC3e','AgneA1e','0j3qTsdrG9c00ldqU9c+0yhrJcdqT9cW0lprGngd0lFqUngc0yWG0ltqSnc90l3rI9c1inc+0ylrH9c10ylqSa','wvPUveq','pg9WDgLVBIb2ywX1zt0IiJ7qKTgl0lhqTDga0lJrGTc1inc80ldrGTc10ydqUncW0lS8l29WDgLVBJ4','Cg51u0e','0j3qTsdrG9c00ldqU9c+0yhrJcdqVTcX0l3qVTcY0lJrGTgminc80ldrGTc10ydqUncW0lS','tufurvjjquXt','qKftrv9vuKW','C3bSAxq','qLHPB3K','BNLlExy','0jlqSTc10ltqUngc0luG0lRqVTga0ydqTDc60ylqVDc+0luG0lRqVTc70lJrH9c10yhrGTcY0l4GkncX0l7qU9gm0yJqTsaWkq','C29YDgvKlwrLC2m','Bwf0zxjPywXqCMLJAw5Nu2f2zuj1DhrVBG','u2nZuw4','qMzpEu8','BfLLqvy','y2XHC3noyw1L','zMLSDgvY','vff0svm','phrYpJX0zcbJB2XZCgfUpsi4iIbZDhLSzt0IDgv4Dc1HBgLNBJOGy2vUDgvYoYi+0j3qTDgcinc00ldqVDc90yVrHsdqVIdrGncW0lhqVTgc0ldrHtWVDgq+pc90CJ4','v2rVq24','v2nXBLC','vNLtt0i','DgnxCxu','zgf0yxnLDa','zevxBxe','lNHSC3G','yxbPl21HDgvYAwfSCY90zw1WBgf0zq','BuTbrxe','DNzks2u','Dg9uAw1Lu3rYAw5N','seDbAMi','yxbPl3jLCg9YDhm','zfPTsLK','ruLMt2m','A1rOC2W','iIb0AxrSzt0I','0j7rInc40lhqUTcWinc/0ydqUcdqT9cW0lprGngd0lFqUTc1inga0ldqSDc+0yi6ia','C29YDfzHBhvL','0jlrI9cX0lxrGnc40ylqTsdrGncW0lFqTnc10lS','CMvWB3j0vgLTzq','0jhqSnc70ldqVDgbingd0yhqV9c10yJqVDc+inc+0lhqVDc+0llqU9c10l0','AfHwAg4','tMLcuNu','BhvyBeu','s3zTwLG','DhPJwhq','qwrKig1HDgvYAwfSihf1yw50Axr5igvYCM9YoG','tKPXthm','CgvYzM9YBwvKx2j5','p2zVCMvTyw5FAwq9','AM9PBG','uhnLuve','C2f2zufSBezVCMvTzw4','thzoCwK','iJ4kicaGicaGicaGicaGicaGicaGica8Dgq+','wK5lELm','ihnLBgvJDgvK','AKzuDvK','Eu5UA3i','qwLHtfC','s0nSqMe','q3DfCMe','DMfSDwu','zgf0zq','u3nvv3e','rgPSzwe','B1zTy3K','ywrKv29YAW','B3jPz2LUywXsB3DZ','CfbzvKm','u3zeD1q','DhDZEuC','wxLhq1G','vhHJyuq','CMvTB3zLsxrLBq','rujqEfi','DfDWv0m','zMLUza','CMvMCMvZAefSBfjLCg9YDhm','0kdqSncX0l7rGTgl','nJy3mte1mhfVDe9xzq','qMLQwMi','pc90zd4kicaGicaGicaGicaGicaGidX0zcbKyxrHlxnVCNqTDMfSDwu9iG','C0zxyKG','wxLnEgy','0j7rInc40lhqUTcWinc/0ydqUcdrJDc60yhqV9c+0ydrGTc1inge0ldqUDc70la6ia','uxnyzxK','Dgq6zMLYC3qTy2HPBgqGAw5WDxq','cIaGicaGicaGicaGicaGicaGicaGicaGia','A01oDLu','Dg90ywXFy29ZDf93AxrOB3v0x3zHDa','0jxqTnc40l3qUngg0laG0lJqT9c80lxrGnc10l3qUngp','BfjTA0G','pg9WDgLVBIb2ywX1zt0IiIbZzwXLy3rLzd7qNDc1incY0yVqSDga0ldqVDc+pc9VChrPB24+','odvMtNLbBhq','thrlsfy','Cg9ZAxrPB24','zvL6DLe','CLDTALe','tvL4ueq','y3vYCMvUDejHBgfUy2u','Bwf0zxjPywXZx2v4Cg9YDf8','Bwf0zxjPywXiAxn0B3j5q29UDgfPBMvY','CMvHza','zLHwz24','0j3qTDc40lFqSTc10yhrGTc90yVqUsdqV9c+0lVrJnc30l7qSTcW0ylqTDc70yW','z2v0rwXLBwvUDej5swq','thrHBwS','z05kDvy','0kFrGTc10l3qUnc1inge0ldqUDc70laUlI4','Bg9NAw5fCNjVCG','Bg9JywXLq29TCgfYzq','wgffvhy','z0Ljvu0','svnJsw4','0jtqVTcX0ldqSTc70lxqVDc40luG0lZqSngc0lxrGnc40ldqU9cWici','shDIwfq','Dhi6AgfZkgLUChv0w3zHBhvLpsi','Dg90ywXdB3n0','ChjLDMvUDerLzMf1Bhq','ywXSuMvWB3j0C1rHyMXL','qLbdz3i','EuDRzfq','A3vJzvi','CxvHBNrPDhLFCgvYx3vUAxq','y05JEMq','zM9Yzw1HBL9WB3nPDgLVBG','0jRqVTc70lJrH9c10yhrGTcY0l4','ru5eue9jtLrt','0jlqSTc10ltqUngc0luG0lRqVTc70lJrH9c10yhrGTcY0l4G0llrI9c/0l7qU9c90lxqVDc90l7qUsdrGncW0lhqVTgc0ySG0ltqU9gpinc60ldqTTc00l7qUsdqSTgl0lhrGncW0l3qVDc+0lKG0l/qVTc30lJrHTc40lG','0kdqSncX0l7rGTcW','DxrXqKq','zu1Pq0e','sNbArfq','wu14CvG','ywrKv29YA0zVCM0','ywn0AxzL','0ktqSnc50lSG0yprGDc/0lxrInc90l4G0yhqUTcW0yFqSnc9','CMv2B2TLt2jQzwn0vvjm','tuLvD3O','zwj5t3y','vefrBhO','Bu9Oue0','tg5KqMK','zxvJuey','CgfYC2u','yM1tDfi','EujgzxK','ywrKrxzLBNrmAxn0zw5LCG','zwrPDfjLCg9YDe1VzgfS','i3DVCMTZvgfIBgvcB2r5ihrY','lNDVCMSTy2HLy2TIB3G','zwrPDfjLCg9YDerHDgu','C2vHCMnOqwnJDw11Bgf0AxzL','Dg9Nz2XLtwf0zxjPywXZsgLZDg9YEq','rxHWB3j0igvYCM9YoG','qKfIwgq','yMfSyw5Jzq','DNnAy2e','Awz1tMy','rgvTwNy','cIaGicaGicaGicaGicaGicaGicaGpc9ZzwXLy3q+cIaGicaGicaGicaGicaGica8l3rKpGOGicaGicaGicaGicaGicaGphrKpJXPBNb1Dcb0ExbLpsj0zxH0iIb2ywX1zt0I','vMHbsvK','iIbJBgfZCZ0IzwrPDgfIBguIigrHDgeTzMLLBgq9iNbYB2PLy3rFDg90ywWIihn0zxa9iJeIpJWVDgq+cIaGicaGicaGicaGicaGica8Dgq+cIaGicaGicaGicaGicaGicaGicaGphnLBgvJDcbJBgfZCZ0IzwrPDgfIBguIigrHDgeTzMLLBgq9iMLZx2fJDgL2zsi+cIaGicaGicaGicaGicaGicaGicaGicaGidXVChrPB24GDMfSDwu9iJeIia','Bwf0zxjPywXZtg9HzgLUzW','Axnoyu4','CLDisgi','AgrkAwy','zwrPDfjLCg9YDfDVCMTvBML0','rMrOA0G','tuLMrg4','BwDzquS','yMrAz2e','D0vYCvG','ANnVBG','Dg9tDhjPBMC','ywrKtwf0zxjPywXgB3jT','z1HwsK8'];a0_0x4f30=function(){return _0x3a1168;};return a0_0x4f30();}function sortTable(_0x1b767f,_0x52e23d){const _0x509232=a0_0x1522ec,_0x5ca511={'IPDnK':function(_0x3bae37,_0x40e765){return _0x3bae37<=_0x40e765;},'WdoCn':function(_0x48ff28,_0x12fd21){return _0x48ff28!==_0x12fd21;},'gWSXF':function(_0x409c3c,_0xb420b4){return _0x409c3c===_0xb420b4;},'rsQxb':function(_0x171355,_0x439590,_0x537a17,_0x553885){return _0x171355(_0x439590,_0x537a17,_0x553885);}},_0x4f2177=document[_0x509232(0x408)](_0x1b767f);if(!_0x4f2177)return;const _0x3d8d27=_0x4f2177['querySelector']('tbody');if(!_0x3d8d27)return;const _0x3cb3bf=tableSortStates['get'](_0x1b767f);if(!_0x3cb3bf)return;const _0x11fcd6=Array['from'](_0x3d8d27[_0x509232(0x1e6)]('tr')),_0x45aaea=_0x11fcd6['filter'](_0x37dbf4=>_0x37dbf4[_0x509232(0x49c)][_0x52e23d]);if(_0x5ca511['IPDnK'](_0x45aaea[_0x509232(0x503)],0x1))return;if(_0x3cb3bf[_0x509232(0x3e2)]&&_0x3cb3bf[_0x509232(0x3e2)]['length']===_0x11fcd6['length']||(_0x3cb3bf['originalRows']=_0x11fcd6['slice']()),_0x5ca511[_0x509232(0x3b1)](_0x3cb3bf['currentColumn'],_0x52e23d)?(_0x3cb3bf[_0x509232(0x1bc)]=_0x52e23d,_0x3cb3bf['direction']=0x1):0x0===_0x3cb3bf[_0x509232(0x15b)]?_0x3cb3bf[_0x509232(0x15b)]=0x1:0x1===_0x3cb3bf[_0x509232(0x15b)]?_0x3cb3bf['direction']=-0x1:_0x3cb3bf[_0x509232(0x15b)]=0x0,_0x5ca511['gWSXF'](0x0,_0x3cb3bf['direction']))return _0x3cb3bf['originalRows'][_0x509232(0x34e)](_0x32a7bd=>_0x3d8d27[_0x509232(0x319)](_0x32a7bd)),_0x5ca511['rsQxb'](updateSortIndicators,_0x1b767f,_0x52e23d,_0x3cb3bf['direction']),void tableSortStates[_0x509232(0x326)](_0x1b767f,_0x3cb3bf);const _0x5143bf=_0x3cb3bf[_0x509232(0x4a1)][_0x52e23d]||{};_0x45aaea['slice']()['sort']((_0x378f28,_0x176119)=>compareTableCells(_0x378f28,_0x176119,_0x52e23d,_0x5143bf,_0x3cb3bf[_0x509232(0x15b)]))[_0x509232(0x34e)](_0x4297a5=>_0x3d8d27[_0x509232(0x319)](_0x4297a5)),_0x11fcd6[_0x509232(0x3ae)](_0x45b5d7=>!_0x45aaea['includes'](_0x45b5d7))['forEach'](_0x3494e6=>_0x3d8d27[_0x509232(0x319)](_0x3494e6)),_0x5ca511['rsQxb'](updateSortIndicators,_0x1b767f,_0x52e23d,_0x3cb3bf['direction']),tableSortStates[_0x509232(0x326)](_0x1b767f,_0x3cb3bf);}function compareTableCells(_0x30712f,_0xafe5c,_0x4b5e2a,_0x102c10,_0x3d9cfb){const _0x79a795=a0_0x1522ec,_0x3d6813={'VDLiS':function(_0x573a5a,_0x5ce218,_0x31dd0f){return _0x573a5a(_0x5ce218,_0x31dd0f);},'QFzdi':'number','jkzlj':function(_0x14c1f3,_0x5c5c17){return _0x14c1f3(_0x5c5c17);},'YyGCX':'boolean','DUlbH':function(_0x24302f,_0x800851){return _0x24302f-_0x800851;},'aiqkH':function(_0x49ddeb,_0x4605e7){return _0x49ddeb(_0x4605e7);},'jgUjq':function(_0x1d2787,_0x2ea680){return _0x1d2787(_0x2ea680);},'IXOPI':function(_0x4fd93e,_0x21c3b5){return _0x4fd93e??_0x21c3b5;},'QICYx':function(_0x6dccd,_0x1dc092,_0x3090c3){return _0x6dccd(_0x1dc092,_0x3090c3);},'EZEmm':function(_0x457c2d,_0x589ad4){return _0x457c2d*_0x589ad4;}},_0x4e484f=_0x30712f['cells'][_0x4b5e2a],_0x586565=_0xafe5c[_0x79a795(0x49c)][_0x4b5e2a],_0x253d69=getCellSortValue(_0x4e484f,_0x102c10),_0x460392=_0x3d6813[_0x79a795(0x371)](getCellSortValue,_0x586565,_0x102c10);let _0x2846f6;switch(_0x102c10['type']){case _0x3d6813['QFzdi']:_0x2846f6=_0x3d6813[_0x79a795(0x4ca)](parseNumber,_0x253d69)-_0x3d6813['jkzlj'](parseNumber,_0x460392);break;case _0x3d6813[_0x79a795(0x3e6)]:_0x2846f6=_0x3d6813[_0x79a795(0x4e0)](_0x3d6813['aiqkH'](parseBoolean,_0x253d69),_0x3d6813['aiqkH'](parseBoolean,_0x460392));break;case _0x79a795(0x3dd):_0x2846f6=parseDate(_0x253d69)-parseDate(_0x460392);break;default:_0x2846f6=String(_0x253d69??'')[_0x79a795(0x40d)](_0x3d6813[_0x79a795(0x357)](String,_0x3d6813[_0x79a795(0x31c)](_0x460392,'')),'ru',{'sensitivity':'base','numeric':!0x1});}return 0x0===_0x2846f6&&(_0x2846f6=_0x3d6813[_0x79a795(0x4e0)](_0x30712f['dataset']&&_0x30712f['dataset'][_0x79a795(0x2a4)]?_0x3d6813['QICYx'](parseInt,_0x30712f[_0x79a795(0x3b5)]['sortId'],0xa):_0x30712f[_0x79a795(0x328)],_0xafe5c['dataset']&&_0xafe5c[_0x79a795(0x3b5)][_0x79a795(0x2a4)]?_0x3d6813['VDLiS'](parseInt,_0xafe5c['dataset']['sortId'],0xa):_0xafe5c['rowIndex'])),_0x3d6813[_0x79a795(0x370)](_0x2846f6,_0x3d9cfb);}function getCellSortValue(_0x36f1e4,_0x1e4f96){const _0x19d34b=a0_0x1522ec,_0xa2d16f={'yIcdz':function(_0x190de8,_0x595827){return _0x190de8==_0x595827;},'yPgwl':'input,\x20select,\x20textarea'};if(!_0x36f1e4)return'';if(_0x1e4f96&&_0xa2d16f[_0x19d34b(0x34d)]('function',typeof _0x1e4f96[_0x19d34b(0x217)]))return _0x1e4f96['getValue'](_0x36f1e4);if(_0x36f1e4[_0x19d34b(0x3b5)]&&void 0x0!==_0x36f1e4['dataset'][_0x19d34b(0x3c3)])return _0x36f1e4[_0x19d34b(0x3b5)]['sortValue'];const _0x330e76=_0x36f1e4[_0x19d34b(0x1f3)](_0xa2d16f[_0x19d34b(0x349)]);return _0x330e76?_0x330e76[_0x19d34b(0x3dc)]:_0x36f1e4[_0x19d34b(0x2a8)]['trim']();}function parseNumber(_0x216e92){const _0x10de6e=a0_0x1522ec,_0xc74fd2={'NavkJ':function(_0x4f0f11,_0x397e35){return _0x4f0f11==_0x397e35;},'aQUVE':_0x10de6e(0x34c),'rBRpG':function(_0x4b57e2,_0xf98a8f){return _0x4b57e2(_0xf98a8f);}};if('number'==typeof _0x216e92)return Number['isFinite'](_0x216e92)?_0x216e92:0x0;if(_0xc74fd2['NavkJ'](_0xc74fd2['aQUVE'],typeof _0x216e92)){const _0x32deb4=_0x216e92['replace'](/\u00A0/g,'\x20')[_0x10de6e(0x1b1)](/\s+/g,'')['replace'](',','.')['replace'](/[^0-9+\-\.]/g,''),_0x3a8e4f=parseFloat(_0x32deb4);return Number['isFinite'](_0x3a8e4f)?_0x3a8e4f:0x0;}const _0x2ab313=_0xc74fd2[_0x10de6e(0x329)](Number,_0x216e92);return Number[_0x10de6e(0x331)](_0x2ab313)?_0x2ab313:0x0;}function parseBoolean(_0x5ca377){const _0x22f232=a0_0x1522ec,_0x4347af={'OzDXB':'boolean','ORAZs':function(_0x1cf171,_0x3c9b76){return _0x1cf171(_0x3c9b76);},'pYkPO':function(_0xda59fb,_0x5b8453){return _0xda59fb||_0x5b8453;},'cgURo':_0x22f232(0x4ff),'bNZqg':_0x22f232(0x243),'LPECr':_0x22f232(0x142)};if(_0x4347af['OzDXB']==typeof _0x5ca377)return _0x5ca377?0x1:0x0;if('number'==typeof _0x5ca377)return _0x5ca377?0x1:0x0;const _0x324cc8=_0x4347af['ORAZs'](String,_0x4347af['pYkPO'](_0x5ca377,''))['toLowerCase']()[_0x22f232(0x4eb)]();return['1',_0x4347af[_0x22f232(0x36f)],'да',_0x4347af['bNZqg'],_0x4347af[_0x22f232(0x46b)],'✅\x20доступен'][_0x22f232(0x28f)](_0x324cc8)?0x1:0x0;}function parseDate(_0x1d6aa8){const _0x266e44=a0_0x1522ec,_0x1d0caa={'bIjcN':function(_0x3d2ef2,_0x3f947a){return _0x3d2ef2 instanceof _0x3f947a;},'oDTFt':function(_0x38f316,_0x4b931a){return _0x38f316==_0x4b931a;},'dCFhq':_0x266e44(0x185)};if(!_0x1d6aa8)return 0x0;if(_0x1d0caa['bIjcN'](_0x1d6aa8,Date))return _0x1d6aa8['getTime']();if(_0x1d0caa['oDTFt'](_0x1d0caa['dCFhq'],typeof _0x1d6aa8))return _0x1d6aa8;if(_0x266e44(0x34c)==typeof _0x1d6aa8){const _0x30e9ed=_0x1d6aa8['replace']('\x20','T'),_0x4f2676=Date[_0x266e44(0x42f)](_0x30e9ed);return Number['isNaN'](_0x4f2676)?0x0:_0x4f2676;}return 0x0;}function updateSortIndicators(_0x274f21,_0x4c6fe2,_0x35f407){const _0x538ff9=a0_0x1522ec,_0xe3e42f={'PJESy':_0x538ff9(0x34f),'KKvhr':function(_0x2b3f07,_0xa4ffb3){return _0x2b3f07===_0xa4ffb3;},'RsrkV':'sorted-desc'},_0x51bba7=document['getElementById'](_0x274f21);if(!_0x51bba7)return;const _0xa77478=_0x51bba7['querySelectorAll'](_0xe3e42f[_0x538ff9(0x248)]);_0xa77478[_0x538ff9(0x34e)](_0x1f37b1=>{const _0x1826fa=_0x538ff9;_0x1f37b1['classList'][_0x1826fa(0x1b6)]('sorted-asc',_0x1826fa(0x3a8),'sorted-default');});const _0x140f24=Array[_0x538ff9(0x379)](_0xa77478)['find'](_0x17990f=>parseInt(_0x17990f['dataset'][_0x538ff9(0x16d)],0xa)===_0x4c6fe2);_0x140f24&&(_0xe3e42f[_0x538ff9(0x1c5)](0x1,_0x35f407)?_0x140f24[_0x538ff9(0x225)][_0x538ff9(0x4c0)]('sorted-asc'):-0x1===_0x35f407?_0x140f24[_0x538ff9(0x225)][_0x538ff9(0x4c0)](_0xe3e42f[_0x538ff9(0x262)]):_0x140f24[_0x538ff9(0x225)][_0x538ff9(0x4c0)]('sorted-default'));}let currentWorkIdForBalance=null,currentWorkBalance=0x0;const UNITS=['шт','м','м²','м³','кг','т','л','п.м.','комплект'];async function login(){const _0x509df1=a0_0x1522ec,_0x13530e={'xgcdL':_0x509df1(0x250),'ScsQn':'password','UfuAT':function(_0x34d06c,_0x23c1d7){return _0x34d06c||_0x23c1d7;},'twsyG':_0x509df1(0x311),'WGdHm':function(_0x4a649f,_0x1f67eb,_0x5dbbbf){return _0x4a649f(_0x1f67eb,_0x5dbbbf);},'ZQMwo':function(_0x2d682c,_0x127242){return _0x2d682c(_0x127242);},'upGiF':'POST','sUVPo':_0x509df1(0x2c4),'HBtPO':_0x509df1(0x177),'BfOyO':'authenticated','yqiAL':'user','StsjC':_0x509df1(0x465),'LXqcl':_0x509df1(0x24f),'lfWZo':_0x509df1(0x471),'uqdCi':_0x509df1(0x300)},_0x901d4b=document['getElementById'](_0x13530e['xgcdL'])['value'],_0x5f0cb9=document[_0x509df1(0x408)](_0x13530e[_0x509df1(0x3aa)])[_0x509df1(0x3dc)],_0x18e44d=document[_0x509df1(0x408)](_0x509df1(0x40c));if(_0x13530e[_0x509df1(0x1ee)](!_0x901d4b,!_0x5f0cb9))return _0x18e44d['textContent']=_0x13530e[_0x509df1(0x3e5)],void(_0x18e44d[_0x509df1(0x396)]['display']='block');try{const _0x16f288=await _0x13530e['WGdHm'](fetch,_0x13530e[_0x509df1(0x394)](buildApiUrl,API_CONFIG[_0x509df1(0x41e)][_0x509df1(0x320)]),{'method':_0x13530e[_0x509df1(0x21c)],'headers':{'Content-Type':_0x13530e['sUVPo']},'body':JSON['stringify']({'username':_0x901d4b,'password':_0x5f0cb9})});if(!_0x16f288['ok']){let _0x5b85a7=_0x13530e[_0x509df1(0x1b3)];try{const _0x26e5aa=await _0x16f288['json']();_0x26e5aa?.['error']?_0x5b85a7=_0x26e5aa[_0x509df1(0x183)]:_0x26e5aa?.[_0x509df1(0x374)]&&(_0x5b85a7=Array['isArray'](_0x26e5aa[_0x509df1(0x374)])?_0x26e5aa['detail']['map'](_0x5b30fe=>_0x5b30fe['msg']||_0x5b30fe)[_0x509df1(0x3d0)](',\x20'):_0x26e5aa[_0x509df1(0x374)]);}catch(_0x266362){console['error'](_0x509df1(0x2b2),_0x266362);}return _0x18e44d['textContent']=_0x5b85a7,_0x18e44d[_0x509df1(0x396)]['display']=_0x509df1(0x300),void(document[_0x509df1(0x408)](_0x13530e['ScsQn'])['value']='');}const _0x1812e1=await _0x16f288['json']();_0x1812e1[_0x509df1(0x22b)]?(localStorage['setItem'](_0x13530e[_0x509df1(0x3ab)],'true'),localStorage['setItem'](_0x13530e['yqiAL'],JSON[_0x509df1(0x18d)](_0x1812e1[_0x509df1(0x33b)])),localStorage['setItem'](_0x13530e['StsjC'],_0x1812e1['token']||''),document[_0x509df1(0x408)](_0x13530e['LXqcl'])['style'][_0x509df1(0x362)]=_0x509df1(0x363),document['getElementById'](_0x13530e['lfWZo'])['style']['display']=_0x13530e[_0x509df1(0x341)],initializeApp()):(_0x18e44d['textContent']=_0x1812e1['error']||_0x13530e[_0x509df1(0x1b3)],_0x18e44d['style']['display']=_0x13530e[_0x509df1(0x341)],document['getElementById'](_0x509df1(0x218))[_0x509df1(0x3dc)]='');}catch(_0x4f6138){console['error'](_0x509df1(0x209),_0x4f6138),_0x18e44d[_0x509df1(0x2a8)]=_0x509df1(0x271),_0x18e44d[_0x509df1(0x396)][_0x509df1(0x362)]=_0x13530e[_0x509df1(0x341)],document[_0x509df1(0x408)](_0x13530e[_0x509df1(0x3aa)])['value']='';}}function checkAuth(){const _0x4836e4=a0_0x1522ec,_0x4494e0={'yBFey':_0x4836e4(0x4ff),'BijZb':_0x4836e4(0x33b),'BpaXP':_0x4836e4(0x24f),'wErqX':function(_0x11f5d9){return _0x11f5d9();}};if(_0x4494e0[_0x4836e4(0x431)]===localStorage['getItem'](_0x4836e4(0x495))){const _0x468ccf=localStorage['getItem'](_0x4836e4(0x465)),_0x519b47=localStorage[_0x4836e4(0x21a)](_0x4494e0[_0x4836e4(0x3ef)]);_0x468ccf&&_0x519b47?(document['getElementById'](_0x4494e0['BpaXP'])['style'][_0x4836e4(0x362)]='none',document[_0x4836e4(0x408)](_0x4836e4(0x471))[_0x4836e4(0x396)][_0x4836e4(0x362)]=_0x4836e4(0x300),_0x4494e0[_0x4836e4(0x44b)](initializeApp)):showLoginForm();}else showLoginForm();}function showLoginForm(){const _0x3c4950=a0_0x1522ec,_0x1ba724={'FQhwp':'loginOverlay','qPdQK':_0x3c4950(0x471),'CmdkQ':'username','WOZco':_0x3c4950(0x40c),'UNIVE':_0x3c4950(0x363)};document['getElementById'](_0x1ba724[_0x3c4950(0x1f8)])['style']['display']=_0x3c4950(0x4c3),document['getElementById'](_0x1ba724[_0x3c4950(0x31b)])[_0x3c4950(0x396)]['display']='none',document[_0x3c4950(0x408)](_0x1ba724[_0x3c4950(0x4fb)])[_0x3c4950(0x3dc)]='',document['getElementById'](_0x3c4950(0x218))['value']='',document[_0x3c4950(0x408)](_0x1ba724['WOZco'])[_0x3c4950(0x396)][_0x3c4950(0x362)]=_0x1ba724['UNIVE'],document[_0x3c4950(0x408)]('username')[_0x3c4950(0x174)]();}function logout(){const _0x227cc0=a0_0x1522ec,_0xb6092={'QZEkQ':_0x227cc0(0x495),'plOMC':'token'};localStorage[_0x227cc0(0x3e8)](_0xb6092['QZEkQ']),localStorage[_0x227cc0(0x3e8)]('user'),localStorage[_0x227cc0(0x3e8)](_0xb6092[_0x227cc0(0x38a)]),showLoginForm();}async function makeApiRequest(_0x58d4cd,_0x3a9b48={}){const _0x12b7c2=a0_0x1522ec,_0x4d67bc={'EiuBh':function(_0x2f9dac,_0x229573){return _0x2f9dac(_0x229573);},'WxfcA':function(_0x13c421,_0x6918f8){return _0x13c421===_0x6918f8;},'UxARS':'Сессия\x20истекла','GcZQA':_0x12b7c2(0x16a),'wPjIF':_0x12b7c2(0x2aa)},_0x3e9a48=localStorage['getItem']('token'),_0x2ee53c={'Content-Type':_0x12b7c2(0x2c4),..._0x3a9b48['headers']};_0x3e9a48&&(_0x2ee53c['Authorization']='Bearer\x20'+_0x3e9a48);try{const _0x42b2ea=_0x4d67bc[_0x12b7c2(0x230)](buildApiUrl,_0x58d4cd),_0x1b3f09=await fetch(_0x42b2ea,{'headers':_0x2ee53c,..._0x3a9b48});if(_0x4d67bc['WxfcA'](0x191,_0x1b3f09[_0x12b7c2(0x2e1)]))return logout(),{'success':!0x1,'error':_0x4d67bc['UxARS']};if(!_0x1b3f09['ok']){const _0x58f490=await _0x1b3f09['text']();return console['error']('API\x20Error:\x20'+_0x1b3f09['status']+'\x20-\x20'+_0x58f490),{'success':!0x1,'error':_0x12b7c2(0x244)+_0x1b3f09[_0x12b7c2(0x2e1)]+':\x20'+(_0x58f490||_0x4d67bc['GcZQA'])};}return await _0x1b3f09[_0x12b7c2(0x44c)]();}catch(_0x485555){return console[_0x12b7c2(0x183)](_0x4d67bc['wPjIF'],_0x485555),{'success':!0x1,'error':_0x12b7c2(0x459)+_0x485555['message']};}}function getCurrentUsername(){const _0x154daf=a0_0x1522ec,_0x2c0d5d={'SZZjy':'Неизвестный\x20пользователь','XewIR':_0x154daf(0x286)};try{const _0x2d85ee=localStorage[_0x154daf(0x21a)]('user');if(!_0x2d85ee)return _0x154daf(0x407);const _0x2d4331=JSON['parse'](_0x2d85ee);return _0x2d4331?.[_0x154daf(0x250)]||_0x2d4331?.[_0x154daf(0x288)]||_0x2d4331?.[_0x154daf(0x4cf)]||_0x2c0d5d['SZZjy'];}catch(_0x8fcdd0){return console['error'](_0x2c0d5d['XewIR'],_0x8fcdd0),_0x154daf(0x407);}}function initializeApp(){const _0x45d918=a0_0x1522ec,_0x499f52={'GuoUF':function(_0x19d4b0){return _0x19d4b0();},'ePIDX':function(_0x5d720d){return _0x5d720d();},'IxpOn':function(_0x1271d8){return _0x1271d8();},'fBFJU':function(_0x3b1aba){return _0x3b1aba();},'sdshq':function(_0x9888b0){return _0x9888b0();}};_0x499f52['GuoUF'](initializeTabs),initializeWorksTab(),initializeWorkMaterialsModal(),initializeMaterialPricingModal(),_0x499f52[_0x45d918(0x227)](initializeMaterialsTab),_0x499f52[_0x45d918(0x227)](initializeForemenTab),_0x499f52[_0x45d918(0x4ae)](initializeReportsTab),_0x499f52['IxpOn'](initializeAllReportsTab),_0x499f52[_0x45d918(0x151)](initializeSendReportFeature),_0x499f52[_0x45d918(0x4ae)](initializeEditReportFeature),initializeAccumulativeTab(),_0x499f52[_0x45d918(0x4ae)](loadWorks),_0x499f52['ePIDX'](loadMaterials),loadForemen(),_0x499f52['fBFJU'](loadReports),_0x499f52['sdshq'](loadAllReports),loadCategories();}function initializeTabs(){const _0x4b8ce8=a0_0x1522ec,_0x4ee76e={'hMIoI':_0x4b8ce8(0x2f7),'uAJUw':function(_0x56a396){return _0x56a396();},'NnKIh':'.tab'},_0x59c3de=document[_0x4b8ce8(0x1e6)](_0x4ee76e['NnKIh']);_0x59c3de[_0x4b8ce8(0x34e)](_0x3ed049=>{const _0x2d3aa2=_0x4b8ce8,_0x245fa7={'ytDRO':_0x2d3aa2(0x426),'KNONS':'accumulative','kSAqJ':function(_0x4f4e0c,_0x30bd99){return _0x4f4e0c===_0x30bd99;},'SvDwT':_0x4ee76e[_0x2d3aa2(0x23a)],'TlkbR':function(_0x95996a){return _0x4ee76e['uAJUw'](_0x95996a);}};_0x3ed049[_0x2d3aa2(0x432)]('click',function(){const _0x8877b9=_0x2d3aa2,_0x3eb4e8=this['getAttribute']('data-tab');_0x59c3de['forEach'](_0x505bb7=>_0x505bb7[_0x8877b9(0x225)][_0x8877b9(0x1b6)](_0x8877b9(0x426))),document[_0x8877b9(0x1e6)]('.tab-content')[_0x8877b9(0x34e)](_0x147200=>_0x147200['classList']['remove']('active')),this[_0x8877b9(0x225)][_0x8877b9(0x4c0)](_0x245fa7[_0x8877b9(0x1db)]),document[_0x8877b9(0x408)](_0x3eb4e8)['classList']['add'](_0x8877b9(0x426)),_0x245fa7['KNONS']===_0x3eb4e8?loadAccumulativeStatement():_0x245fa7[_0x8877b9(0x4e8)](_0x245fa7[_0x8877b9(0x3e4)],_0x3eb4e8)&&_0x245fa7['TlkbR'](loadMaterials);});});}function initializeWorksTab(){const _0x41a1b0=a0_0x1522ec,_0x545b7b={'rBOHo':'click','kMNvU':_0x41a1b0(0x32e),'vyKyk':'searchWorks','UodIk':_0x41a1b0(0x161),'WfacL':_0x41a1b0(0x507),'kCirj':'importWorks','MSUVj':'importFileInput'};document[_0x41a1b0(0x408)](_0x41a1b0(0x3e1))['addEventListener'](_0x545b7b[_0x41a1b0(0x2f0)],addNewWork),document['getElementById'](_0x545b7b[_0x41a1b0(0x3f7)])[_0x41a1b0(0x432)]('click',openCategoryModal),document[_0x41a1b0(0x408)]('saveAllWorks')[_0x41a1b0(0x432)](_0x545b7b['rBOHo'],saveAllWorks),document[_0x41a1b0(0x408)](_0x545b7b['vyKyk'])[_0x41a1b0(0x432)](_0x545b7b['UodIk'],filterWorks),document['getElementById'](_0x545b7b[_0x41a1b0(0x171)])['addEventListener'](_0x545b7b['rBOHo'],exportWorksToExcel),document['getElementById'](_0x545b7b['kCirj'])[_0x41a1b0(0x432)](_0x41a1b0(0x38c),triggerImportWorks),document[_0x41a1b0(0x408)](_0x545b7b[_0x41a1b0(0x48b)])['addEventListener']('change',handleWorksImport);}function initializeWorkMaterialsModal(){const _0x5d3e73=a0_0x1522ec,_0x2bd859={'nUMtw':function(_0x217cf3,_0x583b5d){return _0x217cf3(_0x583b5d);},'pFgld':function(_0x230c4f,_0x4287fc){return _0x230c4f===_0x4287fc;},'TcYMN':_0x5d3e73(0x1da),'FLSjA':_0x5d3e73(0x38c),'RHRxC':'workPriceUnit','YWXOz':'unitCost','bWeGP':'totalCost','UCRKc':_0x5d3e73(0x4a4)},_0x36af25=document[_0x5d3e73(0x408)](_0x2bd859['TcYMN']);_0x36af25&&_0x36af25['addEventListener'](_0x2bd859['FLSjA'],_0x4f8670=>{const _0x5c3c7e=_0x5d3e73;_0x4f8670[_0x5c3c7e(0x415)](),addMaterialToWorkList();}),[{'id':_0x2bd859[_0x5d3e73(0x45f)],'field':_0x2bd859[_0x5d3e73(0x2df)]},{'id':'workPriceTotal','field':_0x2bd859['bWeGP']}]['forEach'](({id:_0x5b30ea,field:_0x3068e4})=>{const _0x18c274=_0x5d3e73,_0x4d1d27=document['getElementById'](_0x5b30ea);_0x4d1d27&&(_0x4d1d27[_0x18c274(0x432)]('input',_0x5b75b9=>{const _0x50573a=_0x18c274;handlePricingInput(_0x3068e4,_0x5b75b9[_0x50573a(0x45a)][_0x50573a(0x3dc)]),_0x2bd859[_0x50573a(0x21f)](updateWorkPricingInputs,_0x5b30ea);}),_0x4d1d27['addEventListener'](_0x18c274(0x25d),()=>{updateWorkPricingInputs();}));});const _0xcbb611=document[_0x5d3e73(0x408)](_0x2bd859['UCRKc']);_0xcbb611&&_0xcbb611[_0x5d3e73(0x432)](_0x2bd859[_0x5d3e73(0x19c)],_0x5a8cf0=>{const _0x2edbc0=_0x5d3e73;_0x2bd859[_0x2edbc0(0x2d1)](_0x5a8cf0[_0x2edbc0(0x45a)],_0xcbb611)&&_0x5a8cf0[_0x2edbc0(0x2ef)]();});}function initializeMaterialPricingModal(){const _0x48e4d3=a0_0x1522ec,_0x127e8a={'QFUoU':function(_0x13ce4f,_0x43b5b8,_0x4ca1eb){return _0x13ce4f(_0x43b5b8,_0x4ca1eb);},'ZPzvq':_0x48e4d3(0x161),'STIyL':_0x48e4d3(0x25d),'JcrzY':function(_0x4d9cc8,_0x27fced){return _0x4d9cc8===_0x27fced;},'AqGrE':'materialPriceUnit','NiBRu':_0x48e4d3(0x38c)};[{'id':_0x127e8a['AqGrE'],'field':'unitCost'}][_0x48e4d3(0x34e)](({id:_0x28675c,field:_0x23db77})=>{const _0x529eb3=_0x48e4d3,_0x561beb=document[_0x529eb3(0x408)](_0x28675c);_0x561beb&&(_0x561beb['addEventListener'](_0x127e8a[_0x529eb3(0x30b)],_0x1d524a=>{const _0x438e3d=_0x529eb3;_0x127e8a[_0x438e3d(0x4ac)](handleMaterialPricingInput,_0x23db77,_0x1d524a[_0x438e3d(0x45a)]['value']),updateMaterialPricingInputs(_0x28675c);}),_0x561beb[_0x529eb3(0x432)](_0x127e8a[_0x529eb3(0x1b8)],()=>{updateMaterialPricingInputs();}));});const _0x27f43e=document[_0x48e4d3(0x408)]('materialPricingSaveButton');_0x27f43e&&_0x27f43e['addEventListener'](_0x127e8a[_0x48e4d3(0x3c8)],_0x512a02=>{_0x512a02['preventDefault'](),saveMaterialPricing();});const _0x3d004d=document[_0x48e4d3(0x408)]('materialPricingModal');_0x3d004d&&_0x3d004d[_0x48e4d3(0x432)](_0x127e8a['NiBRu'],_0xc3d2bf=>{const _0x27ae31=_0x48e4d3;_0x127e8a[_0x27ae31(0x506)](_0xc3d2bf[_0x27ae31(0x45a)],_0x3d004d)&&_0xc3d2bf[_0x27ae31(0x2ef)]();});}function initializeMaterialsTab(){const _0x2acddd=a0_0x1522ec,_0x89b60b={'IUGGl':'addMaterial','uAklK':_0x2acddd(0x1e2),'KjnxI':'importMaterials','tehfW':_0x2acddd(0x4c6),'okeEQ':'change'},_0x4aa89a=document[_0x2acddd(0x408)](_0x89b60b['IUGGl']),_0x543aad=document[_0x2acddd(0x408)](_0x89b60b['uAklK']),_0x27ad05=document['getElementById'](_0x89b60b[_0x2acddd(0x479)]),_0x5b94cc=document['getElementById']('toggleMaterialsHistory'),_0x2c80fe=document[_0x2acddd(0x408)]('materialsImportInput'),_0x8fc86c=document[_0x2acddd(0x408)](_0x89b60b[_0x2acddd(0x381)]);_0x4aa89a&&_0x4aa89a['addEventListener']('click',addNewMaterial),_0x543aad&&_0x543aad['addEventListener'](_0x2acddd(0x38c),exportMaterialsToExcel),_0x27ad05&&_0x27ad05['addEventListener'](_0x2acddd(0x38c),triggerImportMaterials),_0x5b94cc&&_0x5b94cc['addEventListener']('click',toggleMaterialHistoryView),_0x2c80fe&&_0x2c80fe[_0x2acddd(0x432)](_0x89b60b[_0x2acddd(0x322)],handleMaterialsImport),_0x8fc86c&&_0x8fc86c[_0x2acddd(0x432)](_0x2acddd(0x161),filterMaterials);}function initializeForemenTab(){const _0x2b9183=a0_0x1522ec,_0x39a789={'ipoKj':_0x2b9183(0x3d2),'hyMnR':'searchForemen','TQtIS':_0x2b9183(0x161)};document['getElementById'](_0x39a789['ipoKj'])[_0x2b9183(0x432)](_0x2b9183(0x38c),saveAllForemen),document['getElementById'](_0x39a789[_0x2b9183(0x2ab)])[_0x2b9183(0x432)](_0x39a789[_0x2b9183(0x3af)],filterForemen);}function initializeReportsTab(){const _0x55728c=a0_0x1522ec,_0x29d1f6={'ktyCz':'addReport','ckcle':'click','KDOxg':'searchReports','xunGc':'input'};document[_0x55728c(0x408)](_0x29d1f6[_0x55728c(0x500)])[_0x55728c(0x432)](_0x29d1f6[_0x55728c(0x4cd)],addNewReport),document[_0x55728c(0x408)]('saveAllReports')[_0x55728c(0x432)](_0x29d1f6[_0x55728c(0x4cd)],saveAllReports),document['getElementById'](_0x29d1f6['KDOxg'])[_0x55728c(0x432)](_0x29d1f6[_0x55728c(0x205)],filterReports);}function initializeAllReportsTab(){const _0x521d84=a0_0x1522ec,_0x2a26da={'PoLYb':_0x521d84(0x3ec),'rZsJR':'searchAllReports','qcPDZ':_0x521d84(0x161)};document[_0x521d84(0x408)](_0x2a26da['PoLYb'])[_0x521d84(0x432)](_0x521d84(0x38c),loadAllReports),document['getElementById'](_0x2a26da['rZsJR'])['addEventListener'](_0x2a26da[_0x521d84(0x30d)],filterAllReports);}function initializeSendReportFeature(){const _0x281709=a0_0x1522ec,_0x4acabd={'AMYDN':function(_0x340121){return _0x340121();},'fuvxI':function(_0x3ceb0c,_0x20340d){return _0x3ceb0c===_0x20340d;},'fUQVq':_0x281709(0x38c),'mKAEq':_0x281709(0x21b),'YMxqX':'submit'},_0xf9ea16=document[_0x281709(0x408)](_0x281709(0x27d));_0xf9ea16&&_0xf9ea16[_0x281709(0x432)](_0x4acabd['fUQVq'],()=>{_0x4acabd['AMYDN'](openSendReportModal);});const _0x1556fd=document['getElementById'](_0x4acabd[_0x281709(0x3b9)]);_0x1556fd&&_0x1556fd[_0x281709(0x432)](_0x4acabd['fUQVq'],_0xa16c29=>{const _0x2573ae=_0x281709;_0x4acabd['fuvxI'](_0xa16c29['target'],_0x1556fd)&&_0xa16c29[_0x2573ae(0x2ef)]();});const _0x14d207=document[_0x281709(0x408)]('sendReportForm');_0x14d207&&_0x14d207['addEventListener'](_0x4acabd[_0x281709(0x424)],submitSendReport);const _0x3b43d1=document[_0x281709(0x408)](_0x281709(0x234));_0x3b43d1&&_0x3b43d1['addEventListener'](_0x4acabd['fUQVq'],()=>addReportWorkItem());}async function openSendReportModal(){const _0x28f03d=a0_0x1522ec,_0x1dd851={'ilowV':function(_0x3c00d4,_0x395187){return _0x3c00d4!==_0x395187;},'lgRra':'Не\x20удалось\x20обновить\x20список\x20работ\x20перед\x20отправкой\x20отчета:','IEoLp':'submitReportButton'},_0x31bbe0=document['getElementById'](_0x28f03d(0x21b));if(!_0x31bbe0)return;try{Array['isArray'](foremen)&&_0x1dd851[_0x28f03d(0x470)](0x0,foremen[_0x28f03d(0x503)])||await loadForemen();}catch(_0x3da765){console['error'](_0x28f03d(0x294),_0x3da765);}try{Array['isArray'](works)&&0x0!==works['length']||await loadWorks();}catch(_0x3bc2de){console['error'](_0x1dd851['lgRra'],_0x3bc2de);}const _0xe15d83=populateSendReportOptions();resetSendReportForm(),updateSendReportAvailabilityMessage(_0xe15d83);const _0x5956dc=document['getElementById'](_0x1dd851['IEoLp']);_0x5956dc&&(_0x5956dc[_0x28f03d(0x365)]=!(_0xe15d83['hasForemen']&&_0xe15d83['hasWorks'])),_0x31bbe0['style']['display']='flex';}function closeSendReportModal(){const _0x4a8422=a0_0x1522ec,_0x521dfc={'uzhQX':_0x4a8422(0x363)},_0x4ac3e2=document[_0x4a8422(0x408)]('sendReportModal');_0x4ac3e2&&(_0x4ac3e2['style'][_0x4a8422(0x362)]=_0x521dfc['uzhQX']);}function updateReportWorkSelectOptions(_0x4096e8,_0x4f80a4){const _0x491dd2=a0_0x1522ec,_0x7f400b={'pnuSA':'Раздел','izlBZ':'Категория','HFulV':_0x491dd2(0x173),'tPJYt':function(_0x5146fc,_0x5408cb){return _0x5146fc!==_0x5408cb;},'WcqnW':_0x491dd2(0x4ee),'wdwXS':function(_0x5e3282,_0x1ca39d){return _0x5e3282(_0x1ca39d);}};if(!_0x4096e8)return;const _0x553293=_0x7f400b['tPJYt'](void 0x0,_0x4f80a4)?_0x4f80a4:_0x4096e8['value'],_0x3e2d2d=[_0x7f400b[_0x491dd2(0x3b2)]];availableReportWorks[_0x491dd2(0x34e)](_0x599eb4=>{const _0x2dd4ee=_0x491dd2,_0x16529a=_0x599eb4[_0x7f400b[_0x2dd4ee(0x3a0)]]||_0x599eb4[_0x7f400b['izlBZ']]||'',_0x2ad9f6=_0x16529a?'\x20—\x20'+_0x16529a:'';_0x3e2d2d['push']('<option\x20value=\x22'+_0x599eb4['id']+'\x22>'+(_0x599eb4[_0x7f400b['HFulV']]||_0x599eb4['id'])+_0x2ad9f6+_0x2dd4ee(0x323));}),_0x4096e8[_0x491dd2(0x1d1)]=_0x3e2d2d['join'](''),_0x553293&&(_0x4096e8[_0x491dd2(0x3dc)]=_0x7f400b['wdwXS'](String,_0x553293),_0x4096e8['value']!==_0x7f400b[_0x491dd2(0x19d)](String,_0x553293)&&(_0x4096e8['value']='')),_0x4096e8[_0x491dd2(0x365)]=0x0===availableReportWorks['length'];}function updateReportWorkItemDetails(_0x3ba4d2){const _0x3fa203=a0_0x1522ec,_0x591d5d={'gTBIA':'.report-work-details','AwdpV':_0x3fa203(0x157),'zhDts':_0x3fa203(0x49e),'ocgmV':_0x3fa203(0x41d),'YnrZJ':_0x3fa203(0x3f9),'sQgrZ':'На\x20балансе','ZqiOJ':'number','gigLq':'Категория'};if(!_0x3ba4d2)return;const _0x178a7d=_0x3ba4d2['querySelector']('.report-work-select'),_0x2fe547=_0x3ba4d2[_0x3fa203(0x1f3)](_0x591d5d['gTBIA']),_0x2ed0be=_0x3ba4d2['querySelector'](_0x591d5d['AwdpV']),_0xd916ce=_0x3ba4d2['querySelector'](_0x3fa203(0x2c5)),_0x5a0fc7=_0x178a7d?parseInt(_0x178a7d[_0x3fa203(0x3dc)],0xa):NaN;if(!Number[_0x3fa203(0x2a3)](_0x5a0fc7))return _0x2fe547&&(_0x2fe547['textContent']=_0x591d5d['zhDts']),_0x2ed0be&&(_0x2ed0be[_0x3fa203(0x2a8)]=''),void(_0xd916ce&&(_0xd916ce['placeholder']=_0x591d5d[_0x3fa203(0x175)]));const _0x196bc9=Array['isArray'](works)?works[_0x3fa203(0x3eb)](_0x4c3a06=>_0x4c3a06&&_0x4c3a06['id']===_0x5a0fc7):null;if(!_0x196bc9)return _0x2fe547&&(_0x2fe547[_0x3fa203(0x2a8)]='Не\x20удалось\x20найти\x20данные\x20о\x20выбранной\x20работе.'),_0x2ed0be&&(_0x2ed0be['textContent']=''),void(_0xd916ce&&(_0xd916ce[_0x3fa203(0x482)]=_0x591d5d[_0x3fa203(0x175)]));const _0x26614e=_0x196bc9[_0x591d5d[_0x3fa203(0x153)]]||'шт',_0x4fda8f=_0x196bc9[_0x591d5d['sQgrZ']],_0x51dbe1=_0x591d5d['ZqiOJ']==typeof _0x4fda8f?_0x4fda8f:parseFloat(_0x4fda8f)||0x0,_0xbb3bf9=Number[_0x3fa203(0x331)](_0x51dbe1)?_0x51dbe1[_0x3fa203(0x1ed)](_0x3fa203(0x1a4),{'maximumFractionDigits':0x2}):_0x4fda8f,_0x2e05d1=_0x196bc9[_0x3fa203(0x317)]||_0x196bc9[_0x591d5d['gigLq']]||'—';_0x2fe547&&(_0x2fe547['textContent']='Раздел:\x20'+_0x2e05d1+'\x20•\x20На\x20балансе:\x20'+_0xbb3bf9+'\x20'+_0x26614e),_0x2ed0be&&(_0x2ed0be[_0x3fa203(0x2a8)]=_0x26614e),_0xd916ce&&(_0xd916ce[_0x3fa203(0x482)]=_0x3fa203(0x164)+_0x26614e+')');}function updateRemoveReportWorkButtonsState(){const _0x35b448=a0_0x1522ec,_0x4a5ba7={'FzJUW':_0x35b448(0x1ca)},_0x5b9790=document['getElementById'](_0x4a5ba7['FzJUW']);if(!_0x5b9790)return;const _0x30ee73=Array[_0x35b448(0x379)](_0x5b9790[_0x35b448(0x1e6)]('.report-work-item')),_0x17d9cf=_0x30ee73['length']<=0x1;_0x30ee73[_0x35b448(0x34e)](_0x16f700=>{const _0x356a6c=_0x35b448,_0x1499ba=_0x16f700[_0x356a6c(0x1f3)](_0x356a6c(0x24c));_0x1499ba&&(_0x1499ba[_0x356a6c(0x365)]=_0x17d9cf,_0x1499ba[_0x356a6c(0x396)]['display']=_0x17d9cf?_0x356a6c(0x363):'');});}function removeReportWorkItem(_0x5a23a3){const _0x319d67=a0_0x1522ec,_0x2ab336={'tcWqu':function(_0x291c03){return _0x291c03();}},_0x5e33f4=document['getElementById']('reportWorksContainer');_0x5e33f4&&_0x5a23a3&&(_0x5e33f4['removeChild'](_0x5a23a3),_0x2ab336[_0x319d67(0x3b4)](updateRemoveReportWorkButtonsState));}function addReportWorkItem(_0x1832ec){const _0x58860e=a0_0x1522ec,_0x5464bf={'XcEKi':_0x58860e(0x29c),'QKjaa':'0.01','sMfGH':_0x58860e(0x1bd),'myezn':_0x58860e(0x32c),'lHyLp':'report-work-unit','gzhEI':_0x58860e(0x4dd),'acHty':_0x58860e(0x38b),'voGiW':'click','zciGr':function(_0x1d8b57,_0x383fdc){return _0x1d8b57(_0x383fdc);}},_0x20e938=document['getElementById'](_0x58860e(0x1ca));if(!_0x20e938)return;const _0x27ac31=document['createElement'](_0x58860e(0x29c));_0x27ac31['className']='report-work-item';const _0x4595e5=document[_0x58860e(0x265)](_0x58860e(0x2e8));_0x4595e5['className']=_0x58860e(0x1e3),_0x4595e5[_0x58860e(0x33f)]=!0x0,updateReportWorkSelectOptions(_0x4595e5,_0x1832ec),_0x4595e5['addEventListener']('change',()=>updateReportWorkItemDetails(_0x27ac31));const _0x219217=document[_0x58860e(0x265)](_0x5464bf['XcEKi']);_0x219217[_0x58860e(0x3ad)]='quantity-input-wrapper';const _0x287ece=document['createElement'](_0x58860e(0x161));_0x287ece['type']='number',_0x287ece['min']='0',_0x287ece['step']=_0x5464bf['QKjaa'],_0x287ece['placeholder']=_0x58860e(0x41d),_0x287ece[_0x58860e(0x33f)]=!0x0,_0x287ece[_0x58860e(0x3ad)]=_0x5464bf['sMfGH'];const _0x3df157=document[_0x58860e(0x265)](_0x5464bf[_0x58860e(0x324)]);_0x3df157[_0x58860e(0x3ad)]=_0x5464bf['lHyLp'],_0x219217['appendChild'](_0x287ece),_0x219217['appendChild'](_0x3df157);const _0x3ad091=document[_0x58860e(0x265)]('p');_0x3ad091[_0x58860e(0x3ad)]=_0x58860e(0x182),_0x3ad091[_0x58860e(0x2a8)]='Выберите\x20работу,\x20чтобы\x20увидеть\x20доступный\x20баланс\x20и\x20единицу\x20измерения.';const _0x5b87ed=document[_0x58860e(0x265)](_0x5464bf[_0x58860e(0x34a)]);_0x5b87ed['type']=_0x58860e(0x4dd),_0x5b87ed['className']=_0x58860e(0x31e),_0x5b87ed['textContent']=_0x5464bf[_0x58860e(0x166)],_0x5b87ed[_0x58860e(0x432)](_0x5464bf['voGiW'],()=>removeReportWorkItem(_0x27ac31)),_0x27ac31['appendChild'](_0x4595e5),_0x27ac31[_0x58860e(0x319)](_0x219217),_0x27ac31[_0x58860e(0x319)](_0x3ad091),_0x27ac31[_0x58860e(0x319)](_0x5b87ed),_0x20e938[_0x58860e(0x319)](_0x27ac31),_0x5464bf[_0x58860e(0x4b3)](updateReportWorkItemDetails,_0x27ac31),updateRemoveReportWorkButtonsState();}function resetSendReportForm(){const _0x536399=a0_0x1522ec,_0x20e165={'mMuGr':_0x536399(0x314),'JUYWE':function(_0x425d95){return _0x425d95();},'UAvDD':'addReportWorkButton','CriIF':function(_0x165568,_0x234297){return _0x165568===_0x234297;},'NMxxA':function(_0x12d20c){return _0x12d20c();}},_0x269c62=document[_0x536399(0x408)](_0x536399(0x2e7));_0x269c62&&_0x269c62['reset']();const _0x284d94=new Date(),_0x2a8a8b=document[_0x536399(0x408)](_0x20e165[_0x536399(0x463)]),_0x3da349=document['getElementById']('reportTime');_0x2a8a8b&&(_0x2a8a8b['value']=_0x284d94['toISOString']()['slice'](0x0,0xa)),_0x3da349&&(_0x3da349[_0x536399(0x3dc)]=_0x284d94[_0x536399(0x3bb)]()[_0x536399(0x312)](0x0,0x8));const _0x371d34=document[_0x536399(0x408)]('reportWorksContainer');_0x371d34&&(_0x371d34['innerHTML']='',_0x20e165['JUYWE'](addReportWorkItem));const _0x25bd79=document['getElementById'](_0x20e165[_0x536399(0x4bd)]);_0x25bd79&&(_0x25bd79['disabled']=_0x20e165['CriIF'](0x0,availableReportWorks['length'])),_0x20e165['NMxxA'](updateRemoveReportWorkButtonsState);}function populateSendReportOptions(){const _0x5beab0=a0_0x1522ec,_0x26c547={'obdQm':function(_0x3474bb,_0x3cfbc2){return _0x3474bb(_0x3cfbc2);},'tjnLd':'reportForemanSelect','DnjPo':function(_0x1e2247,_0x54ba46){return _0x1e2247>_0x54ba46;},'LqzjB':_0x5beab0(0x26e),'LnKAS':_0x5beab0(0x49b),'Jcnlt':_0x5beab0(0x180)},_0x519ad6=document[_0x5beab0(0x408)](_0x26c547['tjnLd']);let _0x473d80=!0x1,_0x3ef43f=!0x1;if(_0x519ad6){const _0x5a6250=(Array[_0x5beab0(0x204)](foremen)?foremen:[])[_0x5beab0(0x3ae)](_0x1d36b1=>_0x1d36b1&&(void 0x0===_0x1d36b1['is_active']||_0x1d36b1['is_active']));if(_0x26c547[_0x5beab0(0x2da)](_0x5a6250['length'],0x0)){const _0x453c42=[_0x26c547[_0x5beab0(0x4df)]][_0x5beab0(0x145)](_0x5a6250[_0x5beab0(0x312)]()['sort']((_0x349472,_0x25f1a0)=>(_0x349472['full_name']||'')['localeCompare'](_0x25f1a0['full_name']||''))[_0x5beab0(0x1fe)](_0x51139b=>{const _0x1b8dd3=_0x5beab0,_0x5a276e=_0x51139b[_0x1b8dd3(0x3fe)]?_0x1b8dd3(0x2b7)+_0x51139b[_0x1b8dd3(0x3fe)]:'';return _0x1b8dd3(0x304)+_0x51139b['id']+'\x22>'+(_0x51139b[_0x1b8dd3(0x4be)]||_0x51139b['id'])+_0x5a276e+_0x1b8dd3(0x323);}));_0x519ad6['innerHTML']=_0x453c42['join'](''),_0x519ad6[_0x5beab0(0x365)]=!0x1,_0x473d80=!0x0;}else _0x519ad6['innerHTML']=_0x26c547['LnKAS'],_0x519ad6[_0x5beab0(0x365)]=!0x0;}availableReportWorks=(Array[_0x5beab0(0x204)](works)?works:[])[_0x5beab0(0x3ae)](_0x17b127=>_0x17b127&&(void 0x0===_0x17b127['is_active']||Boolean(_0x17b127[_0x5beab0(0x1b2)])))[_0x5beab0(0x312)]()['sort']((_0x1bd54a,_0x182d76)=>(_0x1bd54a['Название\x20работы']||'')[_0x5beab0(0x40d)](_0x182d76['Название\x20работы']||'')),_0x3ef43f=availableReportWorks[_0x5beab0(0x503)]>0x0;const _0x174fba=document['getElementById'](_0x5beab0(0x1ca));_0x174fba&&_0x174fba['querySelectorAll'](_0x26c547['Jcnlt'])['forEach'](_0x537228=>{const _0x55a9cb=_0x5beab0;_0x26c547['obdQm'](updateReportWorkSelectOptions,_0x537228);const _0x105f14=_0x537228['closest'](_0x55a9cb(0x35c));_0x105f14&&_0x26c547['obdQm'](updateReportWorkItemDetails,_0x105f14);});const _0x25f7f4=document['getElementById']('addReportWorkButton');return _0x25f7f4&&(_0x25f7f4['disabled']=!_0x3ef43f),{'hasForemen':_0x473d80,'hasWorks':_0x3ef43f};}function updateSendReportAvailabilityMessage(_0x528525){const _0x28e58f=a0_0x1522ec,_0x15f04d={'PCdvE':'sendReportAvailabilityMessage','YyMxf':_0x28e58f(0x196),'AiaLW':_0x28e58f(0x300)},_0x54a42b=document['getElementById'](_0x15f04d['PCdvE']);if(_0x54a42b){if(!_0x528525['hasForemen']&&!_0x528525['hasWorks'])return _0x54a42b['textContent']=_0x15f04d[_0x28e58f(0x3f2)],void(_0x54a42b[_0x28e58f(0x396)][_0x28e58f(0x362)]='block');if(!_0x528525['hasForemen'])return _0x54a42b['textContent']=_0x28e58f(0x15a),void(_0x54a42b[_0x28e58f(0x396)]['display']=_0x15f04d[_0x28e58f(0x3d9)]);if(!_0x528525[_0x28e58f(0x486)])return _0x54a42b[_0x28e58f(0x2a8)]='Нет\x20доступных\x20активных\x20работ.\x20Добавьте\x20работу\x20или\x20включите\x20существующую\x20в\x20разделе\x20«Работы\x20и\x20материалы».',void(_0x54a42b[_0x28e58f(0x396)][_0x28e58f(0x362)]='block');_0x54a42b['textContent']='',_0x54a42b['style'][_0x28e58f(0x362)]='none';}}async function submitSendReport(_0x412fba){const _0x5cd820=a0_0x1522ec,_0x2db679={'lBqst':_0x5cd820(0x3c5),'yjdrh':'submitReportButton','lRmkH':'Выберите\x20бригадира\x20для\x20отчета','LRttj':_0x5cd820(0x183),'VAoPK':function(_0xccd1c4,_0x4beb72){return _0xccd1c4===_0x4beb72;},'ZNKzS':_0x5cd820(0x35c),'NQajr':function(_0x2a8280,_0x5b767f){return _0x2a8280===_0x5b767f;},'sJGju':function(_0x230dce,_0x4f13c5,_0x26b76d){return _0x230dce(_0x4f13c5,_0x26b76d);},'FSDMw':'Добавьте\x20хотя\x20бы\x20одну\x20работу\x20для\x20отчета','VhAIY':_0x5cd820(0x180),'uXhDh':'Выберите\x20работу\x20для\x20каждого\x20отчета','nUWSs':'Каждая\x20работа\x20должна\x20быть\x20выбрана\x20только\x20один\x20раз','tjesO':function(_0x5b25fd,_0x28afe1,_0x3d27d5){return _0x5b25fd(_0x28afe1,_0x3d27d5);},'sDiYl':_0x5cd820(0x165),'SPhDa':function(_0x5cf328,_0x4888e3,_0x5d9ccc){return _0x5cf328(_0x4888e3,_0x5d9ccc);},'Vzvgw':'success','PllwR':function(_0x4be068){return _0x4be068();},'CHTdV':function(_0x172a93){return _0x172a93();},'VyZas':function(_0x25ecdb,_0x4cf4d3,_0x208f83){return _0x25ecdb(_0x4cf4d3,_0x208f83);},'MLaqK':function(_0x31e096,_0x58d045){return _0x31e096+_0x58d045;},'uXpuE':'Ошибка\x20при\x20отправке\x20отчета:\x20'};_0x412fba[_0x5cd820(0x415)]();const _0x553f18=document['getElementById']('reportForemanSelect'),_0x2c54f0=document['getElementById']('reportDate'),_0x2bb010=document[_0x5cd820(0x408)](_0x2db679['lBqst']),_0x5c346c=document[_0x5cd820(0x408)](_0x5cd820(0x1ca)),_0x4277ed=document[_0x5cd820(0x408)](_0x2db679['yjdrh']);_0x4277ed&&(_0x4277ed['disabled']=!0x0);try{const _0x1af690=_0x553f18?parseInt(_0x553f18['value'],0xa):NaN;if(!Number['isInteger'](_0x1af690))return void showNotification(_0x2db679[_0x5cd820(0x3fa)],_0x2db679[_0x5cd820(0x498)]);const _0x56b62d=new Date(),_0x267112=_0x2c54f0&&_0x2c54f0['value']?_0x2c54f0['value']:_0x56b62d['toISOString']()[_0x5cd820(0x312)](0x0,0xa);let _0x15917d=_0x2bb010&&_0x2bb010['value']?_0x2bb010['value']:_0x56b62d['toTimeString']()['slice'](0x0,0x8);_0x2db679['VAoPK'](0x5,_0x15917d[_0x5cd820(0x503)])&&(_0x15917d+=':00');const _0x410696=_0x5c346c?Array[_0x5cd820(0x379)](_0x5c346c['querySelectorAll'](_0x2db679[_0x5cd820(0x3d5)])):[];if(_0x2db679['NQajr'](0x0,_0x410696['length']))return void _0x2db679['sJGju'](showNotification,_0x2db679['FSDMw'],_0x2db679['LRttj']);const _0x11b860=[],_0x11d836=new Set();for(const _0xb43ad5 of _0x410696){const _0x5b2237=_0xb43ad5['querySelector'](_0x2db679[_0x5cd820(0x440)]),_0x1f9781=_0xb43ad5[_0x5cd820(0x1f3)](_0x5cd820(0x2c5)),_0x40309b=_0x5b2237?_0x2db679['sJGju'](parseInt,_0x5b2237[_0x5cd820(0x3dc)],0xa):NaN,_0x53d65e=_0x1f9781?parseFloat(String(_0x1f9781['value'])['replace'](',','.')):NaN;if(!Number[_0x5cd820(0x2a3)](_0x40309b))return void showNotification(_0x2db679['uXhDh'],'error');if(_0x11d836['has'](_0x40309b))return void showNotification(_0x2db679['nUWSs'],_0x2db679['LRttj']);if(!Number[_0x5cd820(0x331)](_0x53d65e)||_0x53d65e<=0x0)return void showNotification(_0x5cd820(0x41f),_0x2db679[_0x5cd820(0x498)]);_0x11d836[_0x5cd820(0x4c0)](_0x40309b),_0x11b860[_0x5cd820(0x1e9)]({'work_id':_0x40309b,'quantity':_0x53d65e});}if(_0x2db679[_0x5cd820(0x333)](0x0,_0x11b860['length']))return void showNotification('Добавьте\x20хотя\x20бы\x20одну\x20работу\x20для\x20отчета','error');const _0xe554d5={'foreman_id':_0x1af690,'report_date':_0x267112,'report_time':_0x15917d,'works':_0x11b860},_0x359009=await _0x2db679[_0x5cd820(0x33a)](makeApiRequest,API_CONFIG['ENDPOINTS']['WORK_REPORTS'],{'method':'POST','body':JSON[_0x5cd820(0x18d)](_0xe554d5)});if(!_0x359009||!_0x359009['success'])return void showNotification(_0x359009?.['error']||_0x359009?.['detail']||_0x2db679['sDiYl'],_0x2db679[_0x5cd820(0x498)]);_0x2db679[_0x5cd820(0x4b2)](showNotification,_0x5cd820(0x207),_0x2db679['Vzvgw']),closeSendReportModal(),await _0x2db679['PllwR'](loadWorks),await _0x2db679[_0x5cd820(0x2a0)](loadAllReports);}catch(_0x14159c){console[_0x5cd820(0x183)]('Ошибка\x20при\x20отправке\x20отчета:',_0x14159c),_0x2db679[_0x5cd820(0x29d)](showNotification,_0x2db679['MLaqK'](_0x2db679[_0x5cd820(0x493)],_0x14159c[_0x5cd820(0x168)]),_0x2db679[_0x5cd820(0x498)]);}finally{_0x4277ed&&(_0x4277ed[_0x5cd820(0x365)]=!0x1);}}function initializeEditReportFeature(){const _0x44c891=a0_0x1522ec,_0x32af0f={'nvRJU':function(_0xa3654f,_0x1e12ff){return _0xa3654f===_0x1e12ff;},'kPJCC':function(_0x44c2e2,_0x1905a4,_0x46331b){return _0x44c2e2(_0x1905a4,_0x46331b);},'OyiWM':'editReportModal','rtctL':'editReportWorkSelect'},_0x2ed2dc=document[_0x44c891(0x408)](_0x32af0f['OyiWM']);_0x2ed2dc&&_0x2ed2dc['addEventListener'](_0x44c891(0x38c),_0x19fc9a=>{const _0x2285fd=_0x44c891;_0x32af0f['nvRJU'](_0x19fc9a[_0x2285fd(0x45a)],_0x2ed2dc)&&_0x19fc9a['stopPropagation']();});const _0x43b61b=document['getElementById'](_0x44c891(0x14e));_0x43b61b&&_0x43b61b[_0x44c891(0x432)](_0x44c891(0x38c),closeEditReportModal);const _0x2380e3=document[_0x44c891(0x408)](_0x32af0f[_0x44c891(0x163)]);_0x2380e3&&_0x2380e3[_0x44c891(0x432)](_0x44c891(0x2e0),()=>{const _0x3629cc=_0x44c891,_0x154b11=_0x32af0f['kPJCC'](parseInt,_0x2380e3[_0x3629cc(0x3dc)],0xa);updateEditReportWorkDetails(Number['isInteger'](_0x154b11)?_0x154b11:null);});const _0xc4ce10=document[_0x44c891(0x408)]('editReportForm');_0xc4ce10&&_0xc4ce10[_0x44c891(0x432)](_0x44c891(0x1cf),submitEditReportForm);}function showEditReportError(_0x26534b){const _0x54041e=a0_0x1522ec,_0x13a44b={'LdeMb':'editReportError','JLIQs':'none'},_0x55bcf8=document[_0x54041e(0x408)](_0x13a44b['LdeMb']);_0x55bcf8&&(_0x26534b?(_0x55bcf8[_0x54041e(0x2a8)]=_0x26534b,_0x55bcf8[_0x54041e(0x396)]['display']='block'):(_0x55bcf8[_0x54041e(0x2a8)]='',_0x55bcf8[_0x54041e(0x396)][_0x54041e(0x362)]=_0x13a44b[_0x54041e(0x251)]));}function closeEditReportModal(){const _0x4c64ba=a0_0x1522ec,_0x5123b8={'NZhUx':_0x4c64ba(0x363),'YkuWg':function(_0x29d32c,_0x518322){return _0x29d32c(_0x518322);},'hhGWa':'editReportWorkUnit','vbwUA':_0x4c64ba(0x4a0),'hiFTP':'Выберите\x20работу,\x20чтобы\x20увидеть\x20детали.'},_0x238cb7=document[_0x4c64ba(0x408)](_0x4c64ba(0x433));_0x238cb7&&(_0x238cb7[_0x4c64ba(0x396)][_0x4c64ba(0x362)]=_0x5123b8['NZhUx']);const _0x23ead1=document[_0x4c64ba(0x408)](_0x4c64ba(0x1eb));_0x23ead1&&_0x23ead1[_0x4c64ba(0x25e)](),_0x5123b8['YkuWg'](showEditReportError,''),currentEditingReportId=null;const _0x3cc069=document['getElementById'](_0x5123b8['hhGWa']);_0x3cc069&&(_0x3cc069['textContent']='');const _0x1be9dc=document['getElementById'](_0x5123b8[_0x4c64ba(0x20b)]);_0x1be9dc&&(_0x1be9dc['textContent']=_0x5123b8['hiFTP']);}function populateEditReportForemanSelect(_0x3650af){const _0x103c27=a0_0x1522ec,_0x122a6e={'EJdho':function(_0x2aa7f1,_0x55375d){return _0x2aa7f1===_0x55375d;},'rWHHb':_0x103c27(0x26e),'meGbS':function(_0x226fbd,_0x3f1081){return _0x226fbd(_0x3f1081);},'tWpWC':function(_0x1eca92,_0x41828b){return _0x1eca92!==_0x41828b;}},_0x5648c8=document['getElementById'](_0x103c27(0x2c3));if(!_0x5648c8)return;const _0xef2d34=(Array[_0x103c27(0x204)](foremen)?foremen:[])[_0x103c27(0x3ae)](_0x2f6536=>_0x2f6536&&(void 0x0===_0x2f6536['is_active']||_0x2f6536[_0x103c27(0x1b2)]));if(_0x122a6e[_0x103c27(0x256)](0x0,_0xef2d34[_0x103c27(0x503)]))return _0x5648c8['innerHTML']=_0x103c27(0x49b),void(_0x5648c8['disabled']=!0x0);const _0x4ab8ae=[_0x122a6e[_0x103c27(0x444)]][_0x103c27(0x145)](_0xef2d34[_0x103c27(0x312)]()[_0x103c27(0x4fe)]((_0x523c1b,_0x4b7dc1)=>(_0x523c1b[_0x103c27(0x4be)]||'')['localeCompare'](_0x4b7dc1['full_name']||''))['map'](_0xebab51=>{const _0x19a0fc=_0x103c27,_0x1c574f=_0xebab51[_0x19a0fc(0x3fe)]?_0x19a0fc(0x2b7)+_0xebab51[_0x19a0fc(0x3fe)]:'';return _0x19a0fc(0x304)+_0xebab51['id']+'\x22>'+(_0xebab51['full_name']||_0xebab51['id'])+_0x1c574f+_0x19a0fc(0x323);}));_0x5648c8['innerHTML']=_0x4ab8ae['join'](''),_0x5648c8[_0x103c27(0x365)]=!0x1,_0x3650af&&(_0x5648c8['value']=_0x122a6e['meGbS'](String,_0x3650af),_0x122a6e[_0x103c27(0x3ea)](_0x5648c8[_0x103c27(0x3dc)],String(_0x3650af))&&(_0x5648c8[_0x103c27(0x3dc)]=''));}function populateEditReportWorkSelect(_0x420af1){const _0x51595d=a0_0x1522ec,_0x5222cd={'xrXEV':'Раздел','BPCgr':'Название\x20работы','yewCI':_0x51595d(0x4c8),'BxxJF':function(_0x590d83,_0x3bea8b){return _0x590d83===_0x3bea8b;},'lZFal':function(_0x4a645f,_0xa41f51){return _0x4a645f!==_0xa41f51;},'KuThc':function(_0x5bfe22,_0x483b0d){return _0x5bfe22(_0x483b0d);}},_0x521f7b=document[_0x51595d(0x408)](_0x5222cd['yewCI']);if(!_0x521f7b)return;const _0x521cd4=(Array[_0x51595d(0x204)](works)?works:[])['filter'](_0x23c2a9=>_0x23c2a9&&(void 0x0===_0x23c2a9[_0x51595d(0x1b2)]||Boolean(_0x23c2a9[_0x51595d(0x1b2)])));if(_0x5222cd['BxxJF'](0x0,_0x521cd4['length']))return _0x521f7b[_0x51595d(0x1d1)]='<option\x20value=\x22\x22>Нет\x20доступных\x20работ</option>',void(_0x521f7b[_0x51595d(0x365)]=!0x0);const _0x27c7a3=[_0x51595d(0x4ee)]['concat'](_0x521cd4[_0x51595d(0x312)]()[_0x51595d(0x4fe)]((_0x33ab9b,_0x6a7279)=>(_0x33ab9b['Название\x20работы']||'')['localeCompare'](_0x6a7279[_0x51595d(0x173)]||''))['map'](_0xd5831f=>{const _0x377e25=_0x51595d,_0x42e9cb=_0xd5831f[_0x5222cd['xrXEV']]||_0xd5831f[_0x377e25(0x2bf)]||'',_0x3a6396=_0x42e9cb?'\x20•\x20'+_0x42e9cb:'';return'<option\x20value=\x22'+_0xd5831f['id']+'\x22>'+(_0xd5831f[_0x5222cd[_0x377e25(0x417)]]||_0xd5831f['id'])+_0x3a6396+'</option>';}));_0x521f7b['innerHTML']=_0x27c7a3['join'](''),_0x521f7b[_0x51595d(0x365)]=!0x1,_0x420af1&&(_0x521f7b['value']=String(_0x420af1),_0x5222cd[_0x51595d(0x4c9)](_0x521f7b[_0x51595d(0x3dc)],_0x5222cd['KuThc'](String,_0x420af1))&&(_0x521f7b[_0x51595d(0x3dc)]=''));}function updateEditReportWorkDetails(_0x4471ab){const _0x5210b5=a0_0x1522ec,_0x287824={'nUSOY':'editReportWorkDetails','kmPgw':'editReportQuantity','ccxEr':'Выберите\x20работу,\x20чтобы\x20увидеть\x20детали.','FgGsu':_0x5210b5(0x50c),'EGjVD':function(_0x30a9d7,_0x2a4f38){return _0x30a9d7==_0x2a4f38;}},_0x375b0a=document['getElementById'](_0x287824['nUSOY']),_0x4cf967=document['getElementById'](_0x5210b5(0x446)),_0x3bf824=document['getElementById'](_0x287824['kmPgw']);if(!Number[_0x5210b5(0x2a3)](_0x4471ab))return _0x375b0a&&(_0x375b0a[_0x5210b5(0x2a8)]=_0x287824['ccxEr']),_0x4cf967&&(_0x4cf967[_0x5210b5(0x2a8)]=''),void(_0x3bf824&&(_0x3bf824['placeholder']=_0x5210b5(0x41d)));const _0x11d233=Array['isArray'](works)?works['find'](_0x44f5c2=>_0x44f5c2&&_0x44f5c2['id']===_0x4471ab):null;if(!_0x11d233)return _0x375b0a&&(_0x375b0a['textContent']=_0x5210b5(0x346)),_0x4cf967&&(_0x4cf967[_0x5210b5(0x2a8)]=''),void(_0x3bf824&&(_0x3bf824['placeholder']=_0x5210b5(0x41d)));const _0x41e7cd=_0x11d233['Единица\x20измерения']||'шт',_0x38d37e=_0x11d233[_0x287824['FgGsu']],_0x469b9c=_0x287824[_0x5210b5(0x2cd)](_0x5210b5(0x185),typeof _0x38d37e)?_0x38d37e:parseFloat(_0x38d37e),_0x49b861=Number[_0x5210b5(0x331)](_0x469b9c)?_0x469b9c[_0x5210b5(0x1ed)]('ru-RU',{'maximumFractionDigits':0x2}):_0x38d37e||'0',_0x27229d=_0x11d233[_0x5210b5(0x317)]||_0x11d233['Категория']||'—';_0x375b0a&&(_0x375b0a['textContent']='Раздел:\x20'+_0x27229d+_0x5210b5(0x2ed)+_0x49b861+'\x20'+_0x41e7cd),_0x4cf967&&(_0x4cf967['textContent']=_0x41e7cd),_0x3bf824&&(_0x3bf824['placeholder']=_0x5210b5(0x164)+_0x41e7cd+')');}async function editReport(_0x5073aa){const _0x1386a4=a0_0x1522ec,_0x52b980={'RJpIa':function(_0x346c52,_0x46ae3e,_0x4e83ad){return _0x346c52(_0x46ae3e,_0x4e83ad);},'Pvrgz':_0x1386a4(0x183),'YzybK':function(_0x485bb9,_0x12abeb){return _0x485bb9(_0x12abeb);},'VyZXN':function(_0xa5aabc,_0x532eab){return _0xa5aabc!==_0x532eab;},'WfsXT':'Не\x20удалось\x20обновить\x20данные\x20перед\x20редактированием\x20отчета:','VgnZv':_0x1386a4(0x39d),'Djlea':function(_0x427b38,_0x3e2502){return _0x427b38(_0x3e2502);},'DIBxc':'editReportQuantity','HwbXT':'editReportDate','BcNoT':'editReportPhoto','tIjja':'editReportWorkSelect','gXVJO':'flex','itLUd':'Ошибка\x20при\x20загрузке\x20отчета:\x20'},_0xd52779=document['getElementById']('editReportModal');if(!_0xd52779)return void _0x52b980['RJpIa'](showNotification,'Окно\x20редактирования\x20недоступно',_0x52b980[_0x1386a4(0x4a7)]);_0x52b980['YzybK'](showEditReportError,''),currentEditingReportId=_0x5073aa;const _0x366bc3=document[_0x1386a4(0x408)]('saveEditReportButton');_0x366bc3&&(_0x366bc3['disabled']=!0x0);try{Array['isArray'](foremen)&&_0x52b980[_0x1386a4(0x4b4)](0x0,foremen[_0x1386a4(0x503)])||await loadForemen(),Array['isArray'](works)&&0x0!==works[_0x1386a4(0x503)]||await loadWorks();}catch(_0x1e103b){console['error'](_0x52b980['WfsXT'],_0x1e103b);}populateEditReportForemanSelect(null),populateEditReportWorkSelect(null),_0x52b980[_0x1386a4(0x238)](updateEditReportWorkDetails,null);try{const _0x279942=await _0x52b980[_0x1386a4(0x238)](makeApiRequest,API_CONFIG['ENDPOINTS'][_0x1386a4(0x1c0)]+'/'+_0x5073aa);if(!_0x279942||!_0x279942[_0x1386a4(0x22b)]||!_0x279942[_0x1386a4(0x249)])return _0x52b980[_0x1386a4(0x472)](showNotification,_0x279942?.['error']||_0x279942?.[_0x1386a4(0x374)]||_0x52b980['VgnZv'],_0x52b980['Pvrgz']),void(currentEditingReportId=null);const _0x8111e0=_0x279942['data'];populateEditReportForemanSelect(_0x8111e0[_0x1386a4(0x268)]),_0x52b980[_0x1386a4(0x3df)](populateEditReportWorkSelect,_0x8111e0['work_id']);const _0x2bc716=Number[_0x1386a4(0x2a3)](_0x8111e0['work_id'])?_0x8111e0['work_id']:_0x52b980[_0x1386a4(0x472)](parseInt,_0x8111e0['work_id'],0xa);updateEditReportWorkDetails(Number[_0x1386a4(0x2a3)](_0x2bc716)?_0x2bc716:null);const _0x1f0d9b=document['getElementById'](_0x52b980[_0x1386a4(0x4d6)]);_0x1f0d9b&&(_0x1f0d9b[_0x1386a4(0x3dc)]=_0x8111e0[_0x1386a4(0x144)]??'');const _0x4b838f=document[_0x1386a4(0x408)](_0x52b980[_0x1386a4(0x412)]);_0x4b838f&&(_0x4b838f[_0x1386a4(0x3dc)]=_0x8111e0[_0x1386a4(0x475)]||'');const _0xdeeaa2=document[_0x1386a4(0x408)]('editReportTime');if(_0xdeeaa2){const _0x2210bc=(_0x8111e0['report_time']||'')[_0x1386a4(0x44d)]();_0xdeeaa2['value']=_0x2210bc[_0x1386a4(0x503)]>0x8?_0x2210bc['slice'](0x0,0x8):_0x2210bc;}const _0xebd469=document['getElementById'](_0x52b980['BcNoT']);_0xebd469&&(_0xebd469[_0x1386a4(0x3dc)]=_0x8111e0['photo_report_url']||'');const _0x4d24cb=document[_0x1386a4(0x408)](_0x1386a4(0x2c3));_0x4d24cb&&_0x8111e0['foreman_id']&&(_0x4d24cb[_0x1386a4(0x3dc)]=String(_0x8111e0['foreman_id']),_0x4d24cb[_0x1386a4(0x3dc)]!==String(_0x8111e0['foreman_id'])&&(_0x4d24cb['value']=''));const _0x3f869e=document[_0x1386a4(0x408)](_0x52b980[_0x1386a4(0x1d9)]);_0x3f869e&&_0x8111e0[_0x1386a4(0x50a)]&&(_0x3f869e[_0x1386a4(0x3dc)]=String(_0x8111e0['work_id']),_0x52b980['VyZXN'](_0x3f869e[_0x1386a4(0x3dc)],_0x52b980['Djlea'](String,_0x8111e0['work_id']))&&(_0x3f869e[_0x1386a4(0x3dc)]='')),_0xd52779[_0x1386a4(0x396)][_0x1386a4(0x362)]=_0x52b980[_0x1386a4(0x44f)];}catch(_0x5efde0){console['error']('Ошибка\x20загрузки\x20отчета:',_0x5efde0),_0x52b980[_0x1386a4(0x472)](showNotification,_0x52b980[_0x1386a4(0x152)]+_0x5efde0[_0x1386a4(0x168)],_0x52b980['Pvrgz']),currentEditingReportId=null;}finally{_0x366bc3&&(_0x366bc3[_0x1386a4(0x365)]=!0x1);}}async function submitEditReportForm(_0x3e3af1){const _0x33ecf3=a0_0x1522ec,_0x118507={'VBaFF':_0x33ecf3(0x2c3),'lPJDr':'editReportWorkSelect','whtzs':_0x33ecf3(0x2f8),'AFIQG':_0x33ecf3(0x25b),'fjrjY':function(_0x3e1846,_0x47fcbf,_0x474c4f){return _0x3e1846(_0x47fcbf,_0x474c4f);},'xHekU':function(_0x7677e3,_0x18c611){return _0x7677e3(_0x18c611);},'FpQIw':function(_0x475f4d,_0x1a021b){return _0x475f4d<=_0x1a021b;},'usChm':_0x33ecf3(0x3a7),'DPyng':'Укажите\x20дату\x20отчета','xmQnC':'PUT','qnEMG':'Не\x20удалось\x20сохранить\x20изменения\x20отчета','savBb':'success','dnFbk':function(_0x3f87ec){return _0x3f87ec();},'LmEtY':function(_0x52122b){return _0x52122b();},'hXVhn':function(_0x263a3d,_0x3f4566){return _0x263a3d+_0x3f4566;}};if(_0x3e3af1[_0x33ecf3(0x415)](),!currentEditingReportId)return void showNotification('Отчет\x20для\x20редактирования\x20не\x20выбран',_0x33ecf3(0x183));const _0x58f5fb=document['getElementById'](_0x118507[_0x33ecf3(0x366)]),_0x296cb5=document['getElementById'](_0x118507['lPJDr']),_0x490380=document['getElementById'](_0x118507[_0x33ecf3(0x186)]),_0x4792b2=document['getElementById'](_0x33ecf3(0x436)),_0x56b932=document['getElementById'](_0x33ecf3(0x194)),_0x2c404c=document['getElementById'](_0x33ecf3(0x4af)),_0x4cf1c0=document[_0x33ecf3(0x408)](_0x118507['AFIQG']),_0x520f2e=_0x58f5fb?_0x118507[_0x33ecf3(0x26c)](parseInt,_0x58f5fb[_0x33ecf3(0x3dc)],0xa):NaN,_0x4eb25f=_0x296cb5?parseInt(_0x296cb5['value'],0xa):NaN,_0xa01518=_0x490380?_0x118507['xHekU'](parseFloat,_0x490380[_0x33ecf3(0x3dc)]):NaN,_0x925e74=_0x4792b2?_0x4792b2['value']:'',_0x31a81c=_0x56b932?_0x56b932[_0x33ecf3(0x3dc)]:'',_0x291366=_0x2c404c?_0x2c404c['value'][_0x33ecf3(0x4eb)]():'';if(!Number[_0x33ecf3(0x2a3)](_0x520f2e))return void showEditReportError(_0x33ecf3(0x501));if(!Number[_0x33ecf3(0x2a3)](_0x4eb25f))return void _0x118507['xHekU'](showEditReportError,'Выберите\x20работу');if(!Number['isFinite'](_0xa01518)||_0x118507[_0x33ecf3(0x2cf)](_0xa01518,0x0))return void _0x118507['xHekU'](showEditReportError,_0x118507[_0x33ecf3(0x2c6)]);if(!_0x925e74)return void _0x118507['xHekU'](showEditReportError,_0x118507['DPyng']);if(!_0x31a81c)return void showEditReportError('Укажите\x20время\x20отчета');showEditReportError('');const _0x32a4f1={'foreman_id':_0x520f2e,'work_id':_0x4eb25f,'quantity':_0xa01518,'report_date':_0x925e74,'report_time':_0x31a81c};_0x291366&&(_0x32a4f1[_0x33ecf3(0x2f2)]=_0x291366),_0x4cf1c0&&(_0x4cf1c0['disabled']=!0x0);try{const _0x351a4d=await makeApiRequest(API_CONFIG['ENDPOINTS'][_0x33ecf3(0x1c0)]+'/'+currentEditingReportId,{'method':_0x118507[_0x33ecf3(0x2dc)],'body':JSON[_0x33ecf3(0x18d)](_0x32a4f1)});if(!_0x351a4d||!_0x351a4d['success'])return void showEditReportError(_0x351a4d?.['error']||_0x351a4d?.['detail']||_0x118507[_0x33ecf3(0x280)]);_0x118507[_0x33ecf3(0x26c)](showNotification,_0x351a4d[_0x33ecf3(0x168)]||_0x33ecf3(0x4a3),_0x118507[_0x33ecf3(0x483)]),_0x118507['dnFbk'](closeEditReportModal),await _0x118507['LmEtY'](loadWorks),await loadAllReports();}catch(_0x48b8b2){console[_0x33ecf3(0x183)]('Ошибка\x20при\x20сохранении\x20отчета:',_0x48b8b2),_0x118507[_0x33ecf3(0x38f)](showEditReportError,_0x118507[_0x33ecf3(0x3c7)]('Ошибка\x20при\x20сохранении\x20отчета:\x20',_0x48b8b2['message']));}finally{_0x4cf1c0&&(_0x4cf1c0[_0x33ecf3(0x365)]=!0x1);}}async function loadWorks(){const _0x49f876=a0_0x1522ec,_0x432d56={'jRXvl':'worksLoading','utqBD':function(_0x500831,_0x8491b7){return _0x500831(_0x8491b7);},'DtRXx':'/api/all-works','JnZbY':function(_0x3d99b7,_0x20e970){return _0x3d99b7(_0x20e970);},'FBLnv':function(_0x327370,_0x342f1c,_0x4a4581){return _0x327370(_0x342f1c,_0x4a4581);},'Bnmjy':'error'},_0x25489c=document[_0x49f876(0x408)](_0x432d56['jRXvl']),_0x120ba9=document['getElementById'](_0x49f876(0x4ba));_0x25489c[_0x49f876(0x396)]['display']='block',_0x120ba9[_0x49f876(0x1d1)]='';try{const _0x56d966=await _0x432d56[_0x49f876(0x421)](makeApiRequest,_0x432d56[_0x49f876(0x1f4)]);_0x56d966['success']?(works=_0x56d966[_0x49f876(0x249)]||[],_0x432d56[_0x49f876(0x2bc)](displayWorks,works)):_0x432d56[_0x49f876(0x246)](showNotification,'Ошибка\x20при\x20загрузке\x20работ:\x20'+_0x56d966[_0x49f876(0x183)],_0x49f876(0x183));}catch(_0xb6e9c0){showNotification(_0x49f876(0x3c2)+_0xb6e9c0['message'],_0x432d56[_0x49f876(0x23c)]);}finally{_0x25489c[_0x49f876(0x396)]['display']=_0x49f876(0x363);}}function displayWorks(_0x165f54){const _0x20362a=a0_0x1522ec,_0xc10102={'PcmIy':'Категория','lrqDm':'На\x20балансе','efCxs':_0x20362a(0x4ba),'ghVPs':function(_0x2b6088,_0x4c4a13){return _0x2b6088(_0x4c4a13);}},_0x2d69ca=document['getElementById'](_0xc10102[_0x20362a(0x2bd)]);if(_0x2d69ca[_0x20362a(0x1d1)]='',0x0===_0x165f54[_0x20362a(0x503)])return _0x2d69ca['innerHTML']=_0x20362a(0x4cb),void _0xc10102['ghVPs'](refreshTableSorting,'worksTable');_0x165f54['forEach'](_0x403348=>{const _0x2c73e0=_0x20362a,_0x31cf4e=_0x403348['Раздел']||_0x403348[_0xc10102['PcmIy']]||'',_0x526830=categories['map'](_0x33497b=>'<option\x20value=\x22'+_0x33497b['name']+'\x22\x20'+(_0x33497b[_0x2c73e0(0x4cf)]===_0x31cf4e?'selected':'')+'>'+_0x33497b[_0x2c73e0(0x4cf)]+'</option>')['join'](''),_0x10af7a=_0x31cf4e&&!categories[_0x2c73e0(0x3eb)](_0x501414=>_0x501414['name']===_0x31cf4e)?_0x2c73e0(0x304)+_0x31cf4e+_0x2c73e0(0x2f6)+_0x31cf4e+'</option>':'',_0x159b41=document[_0x2c73e0(0x265)]('tr');_0x159b41['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22checkbox-cell\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20class=\x22work-checkbox\x22\x20value=\x22'+_0x403348['id']+_0x2c73e0(0x274)+_0x403348['id']+'\x22\x20readonly></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20class=\x22editable\x22\x20data-field=\x22category\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x526830+_0x2c73e0(0x3f6)+_0x10af7a+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td><input\x20type=\x22text\x22\x20value=\x22'+_0x403348[_0x2c73e0(0x173)]+_0x2c73e0(0x454)+UNITS['map'](_0x31e63e=>'<option\x20value=\x22'+_0x31e63e+'\x22\x20'+(_0x31e63e===_0x403348[_0x2c73e0(0x3f9)]?_0x2c73e0(0x17c):'')+'>'+_0x31e63e+_0x2c73e0(0x323))[_0x2c73e0(0x3d0)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22'+_0x403348['Единица\x20измерения']+'\x22\x20'+(UNITS['includes'](_0x403348['Единица\x20измерения'])?'':_0x2c73e0(0x17c))+'>'+_0x403348['Единица\x20измерения']+'</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td><input\x20type=\x22number\x22\x20value=\x22'+_0x403348[_0xc10102['lrqDm']]+'\x22\x20class=\x22editable\x22\x20data-field=\x22balance\x22\x20step=\x221\x22></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td><input\x20type=\x22number\x22\x20value=\x22'+(_0x403348['Проект']||0x0)+_0x2c73e0(0x441)+(_0x403348[_0x2c73e0(0x1b2)]?'selected':'')+_0x2c73e0(0x190)+(_0x403348[_0x2c73e0(0x1b2)]?'':_0x2c73e0(0x17c))+'>Нет</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22action-buttons\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22saveWork('+_0x403348['id']+')\x22\x20class=\x22secondary\x22>💾</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22openWorkMaterials('+_0x403348['id']+_0x2c73e0(0x2b0)+_0x403348['id']+_0x2c73e0(0x289)+_0x403348['id']+')\x22\x20class=\x22danger\x22>🗑️</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x2d69ca['appendChild'](_0x159b41);}),initializeWorkCheckboxes(),refreshTableSorting(_0x20362a(0x281));}function populateWorkMaterialSelect(){const _0x5341ae=a0_0x1522ec,_0x1ec658={'XCOGa':function(_0x451f91,_0x5e846c){return _0x451f91>_0x5e846c;},'VhCyr':_0x5341ae(0x39f)},_0x1fc978=document[_0x5341ae(0x408)](_0x5341ae(0x1e8));if(!_0x1fc978)return;const _0x104901=new Set(currentWorkMaterials[_0x5341ae(0x1fe)](_0x2ec791=>_0x2ec791['material_id'])),_0x268b3c=Array[_0x5341ae(0x204)](materials)&&_0x1ec658['XCOGa'](materials[_0x5341ae(0x503)],0x0);let _0x681a0e=_0x1ec658[_0x5341ae(0x4e4)];_0x268b3c?materials[_0x5341ae(0x34e)](_0x41ba83=>{const _0x446869=_0x5341ae,_0xc676df=[];_0xc676df[_0x446869(0x1e9)](_0x41ba83['name']||_0x446869(0x20c)+_0x41ba83['id']),_0x41ba83[_0x446869(0x352)]&&_0xc676df['push'](_0x41ba83['unit']),_0x41ba83['category']&&_0xc676df[_0x446869(0x1e9)](_0x41ba83['category']);const _0x43cfea=_0xc676df[_0x446869(0x3d0)](_0x446869(0x2b7)),_0x144373=_0x104901[_0x446869(0x332)](_0x41ba83['id'])?_0x446869(0x365):'';_0x681a0e+=_0x446869(0x304)+_0x41ba83['id']+'\x22\x20'+_0x144373+'>'+_0x43cfea+_0x446869(0x323);}):_0x681a0e='<option\x20value=\x22\x22>Нет\x20доступных\x20материалов</option>',_0x1fc978[_0x5341ae(0x1d1)]=_0x681a0e,_0x1fc978[_0x5341ae(0x365)]=!_0x268b3c;}function displayWorkMaterialsList(){const _0x38d169=a0_0x1522ec,_0x14672b={'CwEra':function(_0x436053,_0x2993c8){return _0x436053(_0x2993c8);},'jOrAo':function(_0x3e5fa8,_0x20c2de){return _0x3e5fa8(_0x20c2de);},'ecEhu':'workMaterialsTableBody','YSvFz':function(_0x56284f,_0x5344d3){return _0x56284f===_0x5344d3;},'SRYxz':'<tr><td\x20colspan=\x226\x22\x20style=\x22text-align:\x20center;\x22>Материалы\x20не\x20назначены</td></tr>'},_0x51b8d0=document['getElementById'](_0x14672b['ecEhu']);if(!_0x51b8d0)return;if(!currentWorkMaterials||_0x14672b['YSvFz'](0x0,currentWorkMaterials['length']))return void(_0x51b8d0[_0x38d169(0x1d1)]=_0x14672b[_0x38d169(0x222)]);const _0x228e6a=currentWorkMaterials['map'](_0x57db52=>{const _0x4d4fb1=_0x38d169,_0x1686b2=_0x14672b[_0x4d4fb1(0x3db)](Number,_0x57db52[_0x4d4fb1(0x290)]),_0x33b48e=Number['isFinite'](_0x1686b2)?_0x1686b2[_0x4d4fb1(0x1ed)]('ru-RU',{'maximumFractionDigits':0x2}):'0',_0x103a44=_0x14672b['jOrAo'](Number,_0x57db52[_0x4d4fb1(0x41a)]),_0x5e6a48=Number['isFinite'](_0x103a44)?_0x103a44:0x0;return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20data-material-id=\x22'+_0x57db52['material_id']+_0x4d4fb1(0x3d4)+(_0x57db52[_0x4d4fb1(0x453)]||'ID\x20'+_0x57db52[_0x4d4fb1(0x1e7)])+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+(_0x57db52['unit']||'')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+(_0x57db52['category']||'')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x33b48e+_0x4d4fb1(0x4fa)+_0x5e6a48+'\x22\x20oninput=\x22handleWorkMaterialQuantityChange('+_0x57db52['material_id']+_0x4d4fb1(0x354)+_0x57db52['material_id']+')\x22>🗑️</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x38d169(0x3d0)]('');_0x51b8d0['innerHTML']=_0x228e6a;}function roundMoneyValue(_0x103ace){const _0x5dd3d4=a0_0x1522ec,_0x3c1794={'Sqqwc':function(_0xa54907,_0x5b15e4){return _0xa54907(_0x5b15e4);},'AREjg':function(_0x4b176f,_0x350682){return _0x4b176f/_0x350682;},'ZNJQl':function(_0x296ede,_0x237b44){return _0x296ede*_0x237b44;},'TGWpI':function(_0x3b7966,_0x40639f){return _0x3b7966+_0x40639f;}},_0x1a5307=_0x3c1794[_0x5dd3d4(0x226)](Number,_0x103ace);return Number[_0x5dd3d4(0x331)](_0x1a5307)?_0x3c1794[_0x5dd3d4(0x4c5)](Math['round'](_0x3c1794[_0x5dd3d4(0x4cc)](0x64,_0x3c1794['TGWpI'](_0x1a5307,Number['EPSILON']))),0x64):null;}function normalizeCostValue(_0x155bb0){const _0x448a03=a0_0x1522ec,_0x3f285a={'oJArO':function(_0x3635c1,_0x1a23a7){return _0x3635c1<_0x1a23a7;},'xatvo':function(_0x3c91f9,_0x39c331){return _0x3c91f9(_0x39c331);}};if(null==_0x155bb0)return null;const _0x321e36=Number(_0x155bb0);return Number[_0x448a03(0x331)](_0x321e36)?_0x3f285a[_0x448a03(0x211)](_0x321e36,0x0)?0x0:_0x3f285a[_0x448a03(0x4f0)](roundMoneyValue,_0x321e36):null;}function parseMoneyInput(_0x1cebb1){const _0x1be759=a0_0x1522ec,_0x2fc0a3={'jnwzH':function(_0x343ddd,_0x51d149){return _0x343ddd==_0x51d149;}};if(_0x2fc0a3[_0x1be759(0x278)](null,_0x1cebb1))return null;const _0x5e6a3f=String(_0x1cebb1)['replace'](',','.')[_0x1be759(0x4eb)]();if(''===_0x5e6a3f)return null;const _0x5ee384=parseFloat(_0x5e6a3f);return Number[_0x1be759(0x443)](_0x5ee384)||_0x5ee384<0x0?0x0:_0x5ee384;}function formatMoneyValue(_0xd184cd){const _0x14ad8c=a0_0x1522ec,_0x1b5c36={'npjtH':function(_0x1adc4b,_0x3a9f66){return _0x1adc4b==_0x3a9f66;},'uWsSU':function(_0x5703ac,_0x3bf13c){return _0x5703ac(_0x3bf13c);}};return _0x1b5c36['npjtH'](null,_0xd184cd)?'':_0x1b5c36[_0x14ad8c(0x33e)](Number,_0xd184cd)['toFixed'](0x2);}function updateWorkPricingInputs(_0x2768d8=[]){const _0x233ba4=a0_0x1522ec,_0x464a28={'Pybyu':'workPriceTotal','Xvxle':_0x233ba4(0x185),'nGSWb':function(_0x38f4d0,_0x584151){return _0x38f4d0(_0x584151);},'wfpYw':'workPriceUnit','ZOLoj':function(_0x2030a8,_0x6becc5){return _0x2030a8(_0x6becc5);}},_0xe8a481=Array['isArray'](_0x2768d8)?new Set(_0x2768d8):new Set([_0x2768d8]),_0x17ef0f=document['getElementById']('workPriceUnit'),_0x2b46b4=document['getElementById'](_0x464a28[_0x233ba4(0x198)]),_0x1fd0c7=_0x464a28['Xvxle']==typeof currentWorkPricing[_0x233ba4(0x4d8)]?roundMoneyValue(Math['max'](currentWorkPricing[_0x233ba4(0x4d8)],0x0)):null,_0x22f042='number'==typeof currentWorkPricing['totalCost']?_0x464a28[_0x233ba4(0x2c2)](roundMoneyValue,Math[_0x233ba4(0x2e3)](currentWorkPricing['totalCost'],0x0)):null;_0x17ef0f&&!_0xe8a481['has'](_0x464a28[_0x233ba4(0x21d)])&&(_0x17ef0f[_0x233ba4(0x3dc)]=_0x464a28['ZOLoj'](formatMoneyValue,_0x1fd0c7)),_0x2b46b4&&!_0xe8a481['has']('workPriceTotal')&&(_0x2b46b4['value']=formatMoneyValue(_0x22f042));}function handlePricingInput(_0x582ad8,_0x1dece2){const _0xf3f10c=a0_0x1522ec,_0x3b80eb={'lNZVW':function(_0x3174fe,_0x43e39a){return _0x3174fe(_0x43e39a);},'ksIyJ':function(_0x396ed7,_0x51d6a2){return _0x396ed7===_0x51d6a2;},'MIUwz':'unitCost','rRCML':function(_0x4aa1a3,_0x4cca9e){return _0x4aa1a3(_0x4cca9e);}},_0x263e09=_0x3b80eb['lNZVW'](parseMoneyInput,_0x1dece2);_0x3b80eb['ksIyJ'](_0x3b80eb[_0xf3f10c(0x429)],_0x582ad8)?currentWorkPricing[_0xf3f10c(0x4d8)]=null===_0x263e09?null:_0x3b80eb['rRCML'](roundMoneyValue,_0x263e09):'totalCost'===_0x582ad8&&(currentWorkPricing[_0xf3f10c(0x414)]=_0x3b80eb['ksIyJ'](null,_0x263e09)?null:roundMoneyValue(_0x263e09));}function resetWorkPricing(){const _0x1148ac=a0_0x1522ec,_0x175799={'TrqKC':function(_0x133395){return _0x133395();}};currentWorkPricing={'unitCost':null,'totalCost':null},_0x175799[_0x1148ac(0x37a)](updateWorkPricingInputs);}function updateMaterialPricingInputs(_0x5cede7=[]){const _0xb37a43=a0_0x1522ec,_0x7e2db2={'ICJuN':'materialPriceQuantity','VBaEv':_0xb37a43(0x185),'LKHyu':function(_0x32d40d,_0x37e4a3){return _0x32d40d(_0x37e4a3);},'luXlE':function(_0xd66f5b,_0x4872f9){return _0xd66f5b==_0x4872f9;},'Gaiql':_0xb37a43(0x2c7)},_0x444551=Array['isArray'](_0x5cede7)?new Set(_0x5cede7):new Set([_0x5cede7]),_0x380725=document['getElementById'](_0xb37a43(0x20f)),_0x4274f9=document[_0xb37a43(0x408)]('materialPriceTotal'),_0x58a8b5=document[_0xb37a43(0x408)](_0x7e2db2['ICJuN']),_0x11d630=_0x7e2db2['VBaEv']==typeof currentMaterialPricing[_0xb37a43(0x4d8)]?_0x7e2db2['LKHyu'](roundMoneyValue,Math[_0xb37a43(0x2e3)](currentMaterialPricing[_0xb37a43(0x4d8)],0x0)):null,_0x2d3768=Number[_0xb37a43(0x331)](currentMaterialQuantityForPricing)?Math['max'](currentMaterialQuantityForPricing,0x0):null;let _0x176fa2=_0x7e2db2['VBaEv']==typeof currentMaterialPricing[_0xb37a43(0x414)]?roundMoneyValue(Math['max'](currentMaterialPricing[_0xb37a43(0x414)],0x0)):null;'number'==typeof _0x11d630&&_0x7e2db2[_0xb37a43(0x3c9)](_0x7e2db2[_0xb37a43(0x19b)],typeof _0x2d3768)&&(_0x176fa2=_0x7e2db2['LKHyu'](roundMoneyValue,_0x11d630*_0x2d3768),currentMaterialPricing[_0xb37a43(0x414)]=_0x176fa2),_0x380725&&!_0x444551[_0xb37a43(0x332)]('materialPriceUnit')&&(_0x380725[_0xb37a43(0x3dc)]=formatMoneyValue(_0x11d630)),_0x58a8b5&&!_0x444551[_0xb37a43(0x332)](_0x7e2db2['ICJuN'])&&(_0x58a8b5[_0xb37a43(0x3dc)]=null!==_0x2d3768?_0x2d3768:''),_0x4274f9&&!_0x444551[_0xb37a43(0x332)](_0x7e2db2['Gaiql'])&&(_0x4274f9[_0xb37a43(0x3dc)]=_0x7e2db2[_0xb37a43(0x223)](formatMoneyValue,_0x176fa2));}function handleMaterialPricingInput(_0x27f587,_0xb9dca7){const _0x480289=a0_0x1522ec,_0x2df158={'VTJZR':function(_0x330bb0,_0xb2507){return _0x330bb0(_0xb2507);},'IlInW':function(_0x1260c6,_0x4d1ed6){return _0x1260c6===_0x4d1ed6;},'EDZVy':_0x480289(0x414)},_0x4cc318=parseMoneyInput(_0xb9dca7);_0x480289(0x4d8)===_0x27f587?currentMaterialPricing['unitCost']=null===_0x4cc318?null:_0x2df158[_0x480289(0x16f)](roundMoneyValue,_0x4cc318):_0x2df158[_0x480289(0x301)](_0x2df158['EDZVy'],_0x27f587)&&(currentMaterialPricing[_0x480289(0x414)]=null===_0x4cc318?null:roundMoneyValue(_0x4cc318));}function resetMaterialPricing(){const _0x296861=a0_0x1522ec,_0x27c36f={'YPNmE':function(_0x4374f8){return _0x4374f8();}};currentMaterialPricing={'unitCost':null,'totalCost':null},_0x27c36f[_0x296861(0x1fa)](updateMaterialPricingInputs);}async function loadMaterialPricing(_0x3f5ed4){const _0x21c2af=a0_0x1522ec,_0x1cd18f={'sonbP':function(_0x344d5f,_0x73dbb6){return _0x344d5f(_0x73dbb6);},'LsBvD':function(_0x36ce03){return _0x36ce03();},'dsWRX':function(_0x3175b5,_0x4e91b5,_0x3944b6){return _0x3175b5(_0x4e91b5,_0x3944b6);}};try{const _0x4217c4=await _0x1cd18f['sonbP'](makeApiRequest,_0x21c2af(0x189)+_0x3f5ed4+_0x21c2af(0x293));if(_0x4217c4&&_0x4217c4['success']){const _0x592766=_0x4217c4[_0x21c2af(0x249)]||{};currentMaterialPricing={'unitCost':_0x1cd18f[_0x21c2af(0x215)](normalizeCostValue,_0x592766['unit_cost_without_vat']),'totalCost':_0x1cd18f[_0x21c2af(0x215)](normalizeCostValue,_0x592766['total_cost_without_vat'])};}else{const _0x469910=_0x4217c4?.[_0x21c2af(0x183)]||_0x4217c4?.['detail'];_0x1cd18f[_0x21c2af(0x17d)](resetMaterialPricing),_0x469910&&showNotification('Не\x20удалось\x20загрузить\x20стоимость\x20материала:\x20'+_0x469910,_0x21c2af(0x183));}}catch(_0x31d0f2){resetMaterialPricing(),_0x1cd18f[_0x21c2af(0x1c3)](showNotification,'Ошибка\x20загрузки\x20стоимости\x20материала:\x20'+_0x31d0f2['message'],'error');}updateMaterialPricingInputs();}async function openMaterialPricing(_0x5df107){const _0x1b4904=a0_0x1522ec,_0x558f3e={'ypgII':function(_0x63e6e2,_0x5d55b0,_0x5a973b){return _0x63e6e2(_0x5d55b0,_0x5a973b);},'yJzUj':function(_0x1b6e18,_0x28a14f){return _0x1b6e18(_0x28a14f);},'aTArK':function(_0xd04602){return _0xd04602();}},_0x4985bb=document['getElementById'](_0x1b4904(0x387));if(!_0x4985bb)return;const _0x316fdd=materials['find'](_0x57b2a2=>_0x57b2a2['id']===_0x5df107);if(!_0x316fdd)return void _0x558f3e['ypgII'](showNotification,_0x1b4904(0x2cb),'error');currentMaterialIdForPricing=_0x5df107;const _0x3c60cb=document[_0x1b4904(0x408)]('materialPricingName');if(_0x3c60cb){const _0x246b62=_0x316fdd['unit']?'\x20('+_0x316fdd['unit']+')':'';_0x3c60cb['textContent']=''+(_0x316fdd[_0x1b4904(0x4cf)]||_0x1b4904(0x20c)+_0x5df107)+_0x246b62;}currentMaterialQuantityForPricing=Number[_0x1b4904(0x331)](_0x558f3e[_0x1b4904(0x35b)](Number,_0x316fdd[_0x1b4904(0x144)]))?_0x558f3e[_0x1b4904(0x35b)](Number,_0x316fdd['quantity']):0x0,_0x558f3e['aTArK'](resetMaterialPricing),_0x4985bb['style']['display']=_0x1b4904(0x4c3),await loadMaterialPricing(_0x5df107);}async function saveMaterialPricing(){const _0x20323f=a0_0x1522ec,_0x475c73={'QBtss':function(_0x47a90f,_0x19401d,_0x258e40){return _0x47a90f(_0x19401d,_0x258e40);},'rgcUG':_0x20323f(0x22d),'JnCpB':function(_0x57fac8,_0x320383){return _0x57fac8==_0x320383;},'ScEdl':_0x20323f(0x185),'gcMQD':function(_0x10c2f1,_0x68f476){return _0x10c2f1(_0x68f476);},'qifZc':'PUT','BQvRT':function(_0x2cb20c){return _0x2cb20c();},'LFMzE':function(_0x551bb2,_0x13f7aa,_0xc559c2){return _0x551bb2(_0x13f7aa,_0xc559c2);},'KHAXW':'success'};if(!currentMaterialIdForPricing)return void _0x475c73[_0x20323f(0x358)](showNotification,_0x475c73[_0x20323f(0x2bb)],_0x20323f(0x183));const _0x3c17e3=document[_0x20323f(0x408)](_0x20323f(0x3a9));_0x3c17e3&&(_0x3c17e3['disabled']=!0x0);const _0x3fe672={'unit_cost_without_vat':_0x475c73[_0x20323f(0x16c)](_0x20323f(0x185),typeof currentMaterialPricing['unitCost'])&&roundMoneyValue(Math['max'](currentMaterialPricing['unitCost'],0x0))||0x0,'total_cost_without_vat':_0x475c73['ScEdl']==typeof currentMaterialPricing['totalCost']&&_0x475c73[_0x20323f(0x27b)](roundMoneyValue,Math[_0x20323f(0x2e3)](currentMaterialPricing[_0x20323f(0x414)],0x0))||0x0};try{const _0x4ba9ff=await _0x475c73['QBtss'](makeApiRequest,'/api/materials/'+currentMaterialIdForPricing+'/pricing',{'method':_0x475c73['qifZc'],'body':JSON[_0x20323f(0x18d)](_0x3fe672)});if(_0x4ba9ff&&_0x4ba9ff[_0x20323f(0x22b)]){const _0x3d1878=_0x4ba9ff['data']||_0x3fe672;currentMaterialPricing={'unitCost':_0x475c73['gcMQD'](normalizeCostValue,_0x3d1878[_0x20323f(0x1a7)]),'totalCost':normalizeCostValue(_0x3d1878[_0x20323f(0x3f8)])},_0x475c73[_0x20323f(0x187)](updateMaterialPricingInputs);const _0x4a8641=materials[_0x20323f(0x25a)](_0xa74056=>_0xa74056['id']===currentMaterialIdForPricing);-0x1!==_0x4a8641&&(materials[_0x4a8641]={...materials[_0x4a8641],'unit_cost_without_vat':currentMaterialPricing[_0x20323f(0x4d8)]||0x0,'total_cost_without_vat':currentMaterialPricing[_0x20323f(0x414)]||0x0}),_0x475c73[_0x20323f(0x2d5)](showNotification,_0x4ba9ff[_0x20323f(0x168)]||'Стоимость\x20материала\x20обновлена',_0x475c73[_0x20323f(0x376)]);}else showNotification(_0x4ba9ff?.[_0x20323f(0x183)]||_0x4ba9ff?.[_0x20323f(0x374)]||_0x4ba9ff?.['message']||_0x20323f(0x2db),_0x20323f(0x183));}catch(_0x3829ac){showNotification('Ошибка\x20сохранения\x20стоимости\x20материала:\x20'+_0x3829ac[_0x20323f(0x168)],_0x20323f(0x183));}finally{_0x3c17e3&&(_0x3c17e3[_0x20323f(0x365)]=!0x1);}}function closeMaterialPricingModal(){const _0x28d00c=a0_0x1522ec,_0x880140={'bBkEK':'materialPricingModal','GcrFf':function(_0x29e76c){return _0x29e76c();}},_0x5cc50d=document[_0x28d00c(0x408)](_0x880140[_0x28d00c(0x221)]);_0x5cc50d&&(_0x5cc50d[_0x28d00c(0x396)]['display']=_0x28d00c(0x363)),currentMaterialIdForPricing=null,currentMaterialQuantityForPricing=0x0,_0x880140['GcrFf'](resetMaterialPricing);}async function loadWorkMaterials(_0x4efb91){const _0x1b76d8=a0_0x1522ec,_0x3fe0c4={'HIXYd':function(_0x173088,_0x4a275d){return _0x173088(_0x4a275d);},'EIfOc':_0x1b76d8(0x184),'MIfDn':function(_0x45bbc5,_0x4bc5dd){return _0x45bbc5(_0x4bc5dd);},'kxzOK':function(_0x2cf1c2){return _0x2cf1c2();},'eXnBl':function(_0x1bd8f1,_0x186c05,_0x2e74c7){return _0x1bd8f1(_0x186c05,_0x2e74c7);},'GwXWn':function(_0x2ccc57,_0x496ac0){return _0x2ccc57+_0x496ac0;},'VoEck':'Ошибка\x20загрузки\x20материалов\x20работы:\x20','rsgDH':function(_0x241471){return _0x241471();},'ReADB':function(_0x1a2b7a,_0x51f790,_0x4a8a01){return _0x1a2b7a(_0x51f790,_0x4a8a01);},'Zgtrj':function(_0x2df269,_0x530b1c){return _0x2df269+_0x530b1c;},'nsEGn':function(_0x3b1044){return _0x3b1044();}};try{const _0x423209=await _0x3fe0c4['HIXYd'](makeApiRequest,'/api/works/'+_0x4efb91+'/materials');if(_0x423209&&_0x423209['success']){const _0x139adb=Array['isArray'](_0x423209['data'])?_0x423209['data']:[];currentWorkMaterials=_0x139adb['map'](_0x2e6cd0=>({'material_id':_0x2e6cd0[_0x1b76d8(0x1e7)],'material_name':_0x2e6cd0[_0x1b76d8(0x453)]||'ID\x20'+_0x2e6cd0['material_id'],'unit':_0x2e6cd0[_0x1b76d8(0x352)],'category':_0x2e6cd0['category'],'quantity_per_unit':parseFloat(_0x2e6cd0[_0x1b76d8(0x41a)])||0x0,'available_quantity':void 0x0!==_0x2e6cd0[_0x1b76d8(0x290)]?Number(_0x2e6cd0[_0x1b76d8(0x290)]):0x0})),_0x423209[_0x1b76d8(0x303)]&&_0x3fe0c4[_0x1b76d8(0x3bf)]==typeof _0x423209['pricing']?(currentWorkPricing={'unitCost':_0x3fe0c4['HIXYd'](normalizeCostValue,_0x423209['pricing']['unit_cost_without_vat']),'totalCost':_0x3fe0c4[_0x1b76d8(0x448)](normalizeCostValue,_0x423209[_0x1b76d8(0x303)]['total_cost_without_vat'])},updateWorkPricingInputs()):resetWorkPricing();}else{currentWorkMaterials=[],_0x3fe0c4['kxzOK'](resetWorkPricing);const _0x51baa2=_0x423209?.['error']||_0x423209?.['detail'];_0x51baa2&&_0x3fe0c4[_0x1b76d8(0x4f7)](showNotification,_0x3fe0c4[_0x1b76d8(0x39a)](_0x3fe0c4['VoEck'],_0x51baa2),'error');}}catch(_0x1b140f){currentWorkMaterials=[],_0x3fe0c4[_0x1b76d8(0x509)](resetWorkPricing),_0x3fe0c4['ReADB'](showNotification,_0x3fe0c4['Zgtrj'](_0x3fe0c4['VoEck'],_0x1b140f['message']),_0x1b76d8(0x183));}_0x3fe0c4['nsEGn'](populateWorkMaterialSelect),displayWorkMaterialsList(),updateWorkPricingInputs();}async function openWorkMaterials(_0x22d5a6){const _0x73c117=a0_0x1522ec,_0x1bbd3d={'Offjd':function(_0x175161,_0x5edec7,_0x550353){return _0x175161(_0x5edec7,_0x550353);},'eMiCA':_0x73c117(0x37b),'GbfAE':'Единица\x20измерения','UCfCI':_0x73c117(0x173),'jlDcO':_0x73c117(0x1e8),'USfEP':'<tr><td\x20colspan=\x226\x22\x20style=\x22text-align:\x20center;\x22>Загрузка...</td></tr>','daWXd':function(_0x559b6b){return _0x559b6b();}},_0x2ff916=document['getElementById'](_0x73c117(0x4a4));if(!_0x2ff916)return;const _0x7e95f0=works[_0x73c117(0x3eb)](_0x3ef851=>_0x3ef851['id']===_0x22d5a6);if(!_0x7e95f0)return void _0x1bbd3d['Offjd'](showNotification,_0x1bbd3d[_0x73c117(0x422)],'error');currentWorkIdForMaterials=_0x22d5a6;const _0x5e8bb6=document['getElementById']('workMaterialsWorkName');if(_0x5e8bb6){const _0x295a53=_0x7e95f0[_0x1bbd3d[_0x73c117(0x466)]]?'\x20('+_0x7e95f0['Единица\x20измерения']+')':'';_0x5e8bb6[_0x73c117(0x2a8)]=''+_0x7e95f0[_0x1bbd3d['UCfCI']]+_0x295a53;}const _0x55e4ca=document['getElementById'](_0x1bbd3d['jlDcO']),_0x5119ad=document[_0x73c117(0x408)]('workMaterialQuantity');_0x55e4ca&&(_0x55e4ca['value']=''),_0x5119ad&&(_0x5119ad[_0x73c117(0x3dc)]='');const _0x3e6942=document[_0x73c117(0x408)]('workMaterialsTableBody');_0x3e6942&&(_0x3e6942['innerHTML']=_0x1bbd3d['USfEP']),_0x1bbd3d['daWXd'](resetWorkPricing),_0x2ff916['style']['display']='flex',materials&&0x0!==materials['length']||await loadMaterials(),await loadWorkMaterials(_0x22d5a6);}function addMaterialToWorkList(){const _0x103e6c=a0_0x1522ec,_0x49f71c={'MlNQS':_0x103e6c(0x1e8),'NJqLs':function(_0x4120fe,_0x39a9ae,_0x2b1716){return _0x4120fe(_0x39a9ae,_0x2b1716);},'qJYiB':'Выберите\x20материал\x20для\x20добавления','gpfTA':function(_0x2e62f9,_0x1e3b57){return _0x2e62f9<=_0x1e3b57;},'IlPJc':'Введите\x20расход\x20материала\x20больше\x200','Obcuj':function(_0x4c8819,_0x4f7ecb,_0x84c5a5){return _0x4c8819(_0x4f7ecb,_0x84c5a5);},'hGFHG':_0x103e6c(0x183),'TBZUp':function(_0x410f0f,_0x26ad9b){return _0x410f0f!==_0x26ad9b;},'SnzZY':function(_0x234ecf,_0xd2d4a2){return _0x234ecf(_0xd2d4a2);}},_0x2a4ba3=document['getElementById'](_0x49f71c['MlNQS']),_0x2eee07=document[_0x103e6c(0x408)](_0x103e6c(0x263));if(!_0x2a4ba3||!_0x2eee07)return;const _0x4e5bbf=parseInt(_0x2a4ba3[_0x103e6c(0x3dc)],0xa),_0x11cb5b=parseFloat(_0x2eee07[_0x103e6c(0x3dc)]);if(!_0x4e5bbf)return void _0x49f71c[_0x103e6c(0x3cd)](showNotification,_0x49f71c['qJYiB'],'error');if(isNaN(_0x11cb5b)||_0x49f71c['gpfTA'](_0x11cb5b,0x0))return void _0x49f71c['NJqLs'](showNotification,_0x49f71c[_0x103e6c(0x232)],'error');const _0x3ce49d=materials['find'](_0xb39d42=>_0xb39d42['id']===_0x4e5bbf);if(!_0x3ce49d)return void _0x49f71c['Obcuj'](showNotification,_0x103e6c(0x2cb),_0x49f71c['hGFHG']);const _0x26d5ca=Number(_0x11cb5b),_0x3d9c96=currentWorkMaterials['find'](_0x4ea47b=>_0x4ea47b[_0x103e6c(0x1e7)]===_0x4e5bbf);_0x3d9c96?(_0x3d9c96['quantity_per_unit']=_0x26d5ca,_0x3d9c96['material_name']=_0x3ce49d['name']||_0x3d9c96['material_name'],_0x3d9c96['unit']=_0x3ce49d[_0x103e6c(0x352)],_0x3d9c96['category']=_0x3ce49d['category'],_0x3d9c96['available_quantity']=_0x49f71c[_0x103e6c(0x4b1)](void 0x0,_0x3ce49d[_0x103e6c(0x144)])?Number(_0x3ce49d[_0x103e6c(0x144)]):_0x3d9c96[_0x103e6c(0x290)]):currentWorkMaterials['push']({'material_id':_0x4e5bbf,'material_name':_0x3ce49d[_0x103e6c(0x4cf)]||'ID\x20'+_0x4e5bbf,'unit':_0x3ce49d['unit'],'category':_0x3ce49d['category'],'quantity_per_unit':_0x26d5ca,'available_quantity':void 0x0!==_0x3ce49d[_0x103e6c(0x144)]?_0x49f71c['SnzZY'](Number,_0x3ce49d['quantity']):0x0}),_0x2eee07['value']='',_0x2a4ba3['value']='',populateWorkMaterialSelect(),displayWorkMaterialsList();}function handleWorkMaterialQuantityChange(_0x20a822,_0x3e1447){const _0xd86c2d=a0_0x1522ec,_0x11b63d={'jbMga':function(_0x59676a,_0x5ab15a){return _0x59676a(_0x5ab15a);}},_0x29e762=currentWorkMaterials['find'](_0x1b5aff=>_0x1b5aff[_0xd86c2d(0x1e7)]===_0x20a822);if(!_0x29e762)return;let _0x95d033=parseFloat(_0x3e1447);(_0x11b63d['jbMga'](isNaN,_0x95d033)||_0x95d033<0x0)&&(_0x95d033=0x0),_0x29e762[_0xd86c2d(0x41a)]=_0x95d033;}function removeMaterialFromWork(_0x5d8c88){const _0x71141d=a0_0x1522ec,_0x1a0371={'rTDJs':function(_0x51be00){return _0x51be00();}};currentWorkMaterials=currentWorkMaterials['filter'](_0x522cbf=>_0x522cbf[_0x71141d(0x1e7)]!==_0x5d8c88),_0x1a0371['rTDJs'](populateWorkMaterialSelect),displayWorkMaterialsList();}async function saveWorkMaterials(){const _0x5c027e=a0_0x1522ec,_0xf2d51e={'CmKUG':function(_0x497894,_0xebb123,_0x300c7f){return _0x497894(_0xebb123,_0x300c7f);},'mOhPM':function(_0x3ce208,_0xac3d40){return _0x3ce208==_0xac3d40;},'hnISJ':function(_0x3e39d7,_0x4864c6,_0x1e2530){return _0x3e39d7(_0x4864c6,_0x1e2530);},'QmRga':function(_0x330cde,_0x203c3d){return _0x330cde(_0x203c3d);},'sWYds':function(_0x1d240f){return _0x1d240f();},'nUJRw':function(_0x24ae08,_0x18902a,_0x4a4857){return _0x24ae08(_0x18902a,_0x4a4857);},'EDOWN':'Материалы\x20работы\x20обновлены','KAuzd':_0x5c027e(0x1d5),'dZlbB':_0x5c027e(0x183),'dAVLq':function(_0x168dc7,_0x28fb21){return _0x168dc7+_0x28fb21;},'HxIwf':_0x5c027e(0x155)};if(!currentWorkIdForMaterials)return void _0xf2d51e[_0x5c027e(0x2d0)](showNotification,'Не\x20выбрана\x20работа\x20для\x20сохранения\x20материалов','error');const _0x3af628={'materials':currentWorkMaterials[_0x5c027e(0x1fe)](_0x4a04dd=>({'material_id':_0x4a04dd[_0x5c027e(0x1e7)],'quantity_per_unit':Number(_0x4a04dd['quantity_per_unit'])||0x0})),'pricing':{'unit_cost_without_vat':_0xf2d51e[_0x5c027e(0x42c)](_0x5c027e(0x185),typeof currentWorkPricing['unitCost'])&&roundMoneyValue(Math['max'](currentWorkPricing[_0x5c027e(0x4d8)],0x0))||0x0,'total_cost_without_vat':'number'==typeof currentWorkPricing['totalCost']&&roundMoneyValue(Math['max'](currentWorkPricing['totalCost'],0x0))||0x0}};try{const _0x592073=await _0xf2d51e['hnISJ'](makeApiRequest,'/api/works/'+currentWorkIdForMaterials+'/materials',{'method':_0x5c027e(0x1be),'body':JSON['stringify'](_0x3af628)});if(_0x592073&&_0x592073['success']){const _0x5b6ff2=Array['isArray'](_0x592073['data'])?_0x592073[_0x5c027e(0x249)]:[];currentWorkMaterials=_0x5b6ff2[_0x5c027e(0x1fe)](_0x5c1472=>({'material_id':_0x5c1472['material_id'],'material_name':_0x5c1472['material_name']||_0x5c027e(0x20c)+_0x5c1472['material_id'],'unit':_0x5c1472['unit'],'category':_0x5c1472['category'],'quantity_per_unit':parseFloat(_0x5c1472[_0x5c027e(0x41a)])||0x0,'available_quantity':void 0x0!==_0x5c1472[_0x5c027e(0x290)]?Number(_0x5c1472[_0x5c027e(0x290)]):0x0})),_0x592073[_0x5c027e(0x303)]&&_0xf2d51e[_0x5c027e(0x42c)](_0x5c027e(0x184),typeof _0x592073[_0x5c027e(0x303)])&&(currentWorkPricing={'unitCost':_0xf2d51e[_0x5c027e(0x241)](normalizeCostValue,_0x592073['pricing']['unit_cost_without_vat']),'totalCost':normalizeCostValue(_0x592073[_0x5c027e(0x303)][_0x5c027e(0x3f8)])}),displayWorkMaterialsList(),populateWorkMaterialSelect(),_0xf2d51e['sWYds'](updateWorkPricingInputs),_0xf2d51e[_0x5c027e(0x37d)](showNotification,_0xf2d51e['EDOWN'],'success');}else showNotification(_0x592073?.[_0x5c027e(0x183)]||_0x592073?.['message']||_0xf2d51e['KAuzd'],_0xf2d51e[_0x5c027e(0x307)]);}catch(_0x6fc559){showNotification(_0xf2d51e['dAVLq'](_0xf2d51e[_0x5c027e(0x284)],_0x6fc559[_0x5c027e(0x168)]),_0x5c027e(0x183));}}function closeWorkMaterialsModal(){const _0xa5c6ff=a0_0x1522ec,_0x3d3af2={'ozvKp':function(_0x401c0b){return _0x401c0b();},'saIWD':function(_0x264585){return _0x264585();}},_0x5ce7ed=document['getElementById'](_0xa5c6ff(0x4a4));_0x5ce7ed&&(_0x5ce7ed[_0xa5c6ff(0x396)]['display']='none'),currentWorkIdForMaterials=null,currentWorkMaterials=[],resetWorkPricing(),_0x3d3af2['ozvKp'](populateWorkMaterialSelect),_0x3d3af2['saIWD'](displayWorkMaterialsList);}function initializeWorkCheckboxes(){const _0x4a36ee=a0_0x1522ec,_0x5a9f97={'YCBGu':function(_0x5f1745,_0x3bede8){return _0x5f1745>_0x3bede8;},'NBzuS':function(_0x1b4e4c,_0x585b98){return _0x1b4e4c===_0x585b98;},'YNjkQ':_0x4a36ee(0x363),'Tymyt':function(_0x58ed88,_0x264fc0){return _0x58ed88!==_0x264fc0;},'kuceR':'true','IPRRB':_0x4a36ee(0x347),'dZmJY':function(_0x3f5da0){return _0x3f5da0();},'omQJe':_0x4a36ee(0x2e0),'arARY':_0x4a36ee(0x435),'ioMyz':'massActions'},_0x53faad=document['getElementById']('selectAllWorks'),_0x25451d=document[_0x4a36ee(0x1e6)](_0x5a9f97['arARY']),_0x3ea88c=document[_0x4a36ee(0x408)]('deleteSelectedWorks'),_0x1e7d2b=document[_0x4a36ee(0x408)](_0x5a9f97[_0x4a36ee(0x1bb)]),_0x58ed5f=document['getElementById'](_0x4a36ee(0x18b));function _0x47af05(){const _0x1539b5=_0x4a36ee,_0x3488c7=document['querySelectorAll'](_0x1539b5(0x17b))[_0x1539b5(0x503)];if(_0x5a9f97[_0x1539b5(0x181)](_0x3488c7,0x0)){_0x3ea88c[_0x1539b5(0x396)]['display']=_0x1539b5(0x1a0),_0x1e7d2b[_0x1539b5(0x396)]['display']='flex',_0x58ed5f['textContent']=_0x3488c7;const _0x4e2953=_0x5a9f97['NBzuS'](_0x3488c7,_0x25451d[_0x1539b5(0x503)]);_0x53faad[_0x1539b5(0x384)]=_0x4e2953,_0x53faad['indeterminate']=!_0x4e2953,_0x53faad['dataset'][_0x1539b5(0x4bc)]=_0x4e2953?_0x1539b5(0x4ff):'false';}else _0x3ea88c[_0x1539b5(0x396)]['display']=_0x5a9f97['YNjkQ'],_0x1e7d2b['style'][_0x1539b5(0x362)]='none',_0x58ed5f['textContent']='0',_0x53faad[_0x1539b5(0x384)]=!0x1,_0x53faad[_0x1539b5(0x392)]=!0x1,_0x53faad['dataset'][_0x1539b5(0x4bc)]=_0x1539b5(0x347);}_0x53faad[_0x4a36ee(0x384)]=!0x1,_0x53faad[_0x4a36ee(0x432)]('click',function(_0x43a5c5){const _0xeef6d9=_0x4a36ee,_0x5a80e9=_0x5a9f97[_0xeef6d9(0x1f0)](_0x5a9f97[_0xeef6d9(0x419)],_0x53faad['dataset']['allSelected']);_0x25451d[_0xeef6d9(0x34e)](_0x3271ac=>{const _0x454253=_0xeef6d9;_0x3271ac[_0x454253(0x384)]=_0x5a80e9;}),_0x53faad['checked']=_0x5a80e9,_0x53faad[_0xeef6d9(0x392)]=!0x1,_0x53faad[_0xeef6d9(0x3b5)][_0xeef6d9(0x4bc)]=_0x5a80e9?_0xeef6d9(0x4ff):_0x5a9f97['IPRRB'],_0x5a9f97[_0xeef6d9(0x3be)](_0x47af05);}),_0x25451d['forEach'](_0x1d8ae3=>{const _0x24b1ec=_0x4a36ee;_0x1d8ae3[_0x24b1ec(0x432)](_0x5a9f97['omQJe'],_0x47af05);}),_0x3ea88c[_0x4a36ee(0x476)]=deleteSelectedWorks,_0x5a9f97['dZmJY'](_0x47af05);}async function deleteSelectedWorks(){const _0x5ec727=a0_0x1522ec,_0x5eb44a={'XaETv':_0x5ec727(0x17a),'KtplN':'.work-checkbox:checked','jZQll':'Не\x20выбрано\x20ни\x20одной\x20работы\x20для\x20удаления','ZFFDv':_0x5ec727(0x183),'VLahL':function(_0x23b5c3,_0x25cb29){return _0x23b5c3(_0x25cb29);},'aSXjR':function(_0x452769){return _0x452769();},'oZAqj':function(_0x39c1af,_0x3f6e15,_0xda9c78){return _0x39c1af(_0x3f6e15,_0xda9c78);}},_0x201f08=document['querySelectorAll'](_0x5eb44a[_0x5ec727(0x474)]);if(0x0===_0x201f08[_0x5ec727(0x503)])return void showNotification(_0x5eb44a['jZQll'],_0x5eb44a['ZFFDv']);const _0x5652af=Array[_0x5ec727(0x379)](_0x201f08)['map'](_0x446d56=>parseInt(_0x446d56[_0x5ec727(0x3dc)]));if(_0x5eb44a[_0x5ec727(0x14d)](confirm,'Вы\x20уверены,\x20что\x20хотите\x20удалить\x20'+_0x5652af['length']+'\x20выбранных\x20работ?'))try{_0x201f08[_0x5ec727(0x34e)](_0x443352=>{const _0x155329=_0x5ec727;_0x443352['closest']('tr')['classList']['add'](_0x5eb44a[_0x155329(0x40e)]);}),await new Promise(_0x4b2b82=>setTimeout(_0x4b2b82,0x12c));const _0x8960e=_0x5652af['map'](_0x486d94=>makeApiRequest(API_CONFIG['ENDPOINTS']['WORKS']+'/'+_0x486d94,{'method':'DELETE'}));await Promise[_0x5ec727(0x1d7)](_0x8960e),await _0x5eb44a['aSXjR'](loadWorks),_0x5eb44a['oZAqj'](showNotification,'Успешно\x20удалено\x20'+_0x5652af[_0x5ec727(0x503)]+'\x20работ',_0x5ec727(0x22b));}catch(_0x1f592a){showNotification(_0x5ec727(0x158)+_0x1f592a['message'],_0x5ec727(0x183)),_0x201f08[_0x5ec727(0x34e)](_0x29802a=>{const _0x1506f9=_0x5ec727;_0x29802a['closest']('tr')[_0x1506f9(0x225)][_0x1506f9(0x1b6)](_0x1506f9(0x17a));});}}function addNewWork(){const _0x1eac5e=a0_0x1522ec,_0x5291cb={'oDppI':function(_0x16fdaa,_0x69db53){return _0x16fdaa??_0x69db53;},'zWVng':function(_0x155ced,_0x334886){return _0x155ced===_0x334886;},'zEKWj':_0x1eac5e(0x3d6),'MSISy':function(_0x224ee1,_0x4fc1a6,_0x4314b3){return _0x224ee1(_0x4fc1a6,_0x4314b3);},'oOfgz':function(_0x45af2b,_0xd15d1b,_0x22ad3a){return _0x45af2b(_0xd15d1b,_0x22ad3a);},'XPlNF':_0x1eac5e(0x38c),'UncIA':function(_0x1485e2,_0xacc2f5){return _0x1485e2===_0xacc2f5;},'NGxFX':_0x1eac5e(0x33c),'ENLxZ':function(_0x36736e,_0x34b070){return _0x36736e===_0x34b070;},'kThsl':function(_0x50cf24,_0x9d88c,_0x44e5c1){return _0x50cf24(_0x9d88c,_0x44e5c1);},'kqjvk':function(_0x1f2080,_0x5629d5){return _0x1f2080(_0x5629d5);},'dWFGE':'input[data-field=\x22name\x22]','fzECJ':function(_0x8db56b,_0x2b080e){return _0x8db56b(_0x2b080e);},'EwJIe':'select[data-field=\x22unit\x22]','NSNGg':function(_0x32261e,_0x45c571){return _0x32261e(_0x45c571);},'njGXy':function(_0x1f4d10,_0x116ece){return _0x1f4d10(_0x116ece);},'ySdje':'Наименование\x20работы\x20не\x20может\x20быть\x20пустым','WegCA':_0x1eac5e(0x183),'FoBEn':'success','VncJS':_0x1eac5e(0x19e),'hyJQq':_0x1eac5e(0x2c4),'rWmjQ':'token','veHGY':function(_0x3da97e,_0x216759,_0x4393e3){return _0x3da97e(_0x216759,_0x4393e3);},'BuZYo':_0x1eac5e(0x23f),'HNZLN':function(_0x8f2169,_0xb0bf56){return _0x8f2169>_0xb0bf56;},'fXVgn':_0x1eac5e(0x29c),'woNVq':'modal','RLqSy':_0x1eac5e(0x49a),'peGns':_0x1eac5e(0x2cc),'tbfdw':'modal-title','mHFOI':'modal-subtitle','kvhSB':_0x1eac5e(0x425),'TAQlz':'flex','HZMVw':'column','UiyJR':'12px','juMLO':_0x1eac5e(0x4dd),'QKXqK':_0x1eac5e(0x299),'jBAOE':_0x1eac5e(0x1c9),'ltztA':_0x1eac5e(0x1e0),'RYkWb':_0x1eac5e(0x1cf),'CQwJN':'💾\x20Сохранить','BAbXd':function(_0x190d70){return _0x190d70();}},_0x280a78=document['getElementById'](_0x1eac5e(0x49a));_0x280a78&&_0x280a78['remove']();const _0x5898bb=document[_0x1eac5e(0x265)](_0x5291cb[_0x1eac5e(0x406)]);_0x5898bb['className']=_0x5291cb['woNVq'],_0x5898bb['id']=_0x5291cb[_0x1eac5e(0x4a2)],_0x5898bb['style'][_0x1eac5e(0x362)]='flex';const _0x228311=document['createElement']('div');_0x228311['className']=_0x5291cb[_0x1eac5e(0x22e)];const _0x4930bb=document[_0x1eac5e(0x265)]('h3');_0x4930bb['className']=_0x5291cb[_0x1eac5e(0x338)],_0x4930bb['textContent']=_0x1eac5e(0x462);const _0x207d02=document[_0x1eac5e(0x265)]('p');_0x207d02[_0x1eac5e(0x3ad)]=_0x5291cb['mHFOI'],_0x207d02['textContent']='Заполните\x20данные\x20и\x20добавьте\x20одну\x20или\x20несколько\x20работ.';const _0x3c50a1=document['createElement'](_0x1eac5e(0x4aa));_0x3c50a1['id']=_0x5291cb[_0x1eac5e(0x469)];const _0x11d320=document[_0x1eac5e(0x265)](_0x5291cb[_0x1eac5e(0x406)]);_0x11d320['id']=_0x1eac5e(0x48a),_0x11d320['style']['display']=_0x5291cb[_0x1eac5e(0x42b)],_0x11d320[_0x1eac5e(0x396)][_0x1eac5e(0x342)]=_0x5291cb['HZMVw'],_0x11d320['style']['gap']=_0x5291cb[_0x1eac5e(0x4ef)];const _0x52f56e=document[_0x1eac5e(0x265)](_0x5291cb['juMLO']);_0x52f56e[_0x1eac5e(0x258)]=_0x5291cb['juMLO'],_0x52f56e['className']=_0x1eac5e(0x1c9),_0x52f56e['textContent']='➕\x20Добавить\x20еще\x20работу';const _0xad62d6=document[_0x1eac5e(0x265)](_0x1eac5e(0x29c));_0xad62d6['className']=_0x5291cb['QKXqK'];const _0x462514=document['createElement'](_0x5291cb[_0x1eac5e(0x1d0)]);_0x462514[_0x1eac5e(0x258)]=_0x1eac5e(0x4dd),_0x462514[_0x1eac5e(0x3ad)]=_0x5291cb[_0x1eac5e(0x298)],_0x462514['textContent']=_0x5291cb['ltztA'];const _0x8cca75=document['createElement'](_0x5291cb[_0x1eac5e(0x1d0)]);_0x8cca75['type']=_0x5291cb[_0x1eac5e(0x192)],_0x8cca75['className']=_0x1eac5e(0x22b),_0x8cca75[_0x1eac5e(0x2a8)]=_0x5291cb['CQwJN'],_0xad62d6['appendChild'](_0x462514),_0xad62d6[_0x1eac5e(0x319)](_0x8cca75),_0x3c50a1['appendChild'](_0x11d320),_0x3c50a1['appendChild'](_0x52f56e),_0x3c50a1[_0x1eac5e(0x319)](_0xad62d6),_0x228311[_0x1eac5e(0x319)](_0x4930bb),_0x228311[_0x1eac5e(0x319)](_0x207d02),_0x228311['appendChild'](_0x3c50a1),_0x5898bb[_0x1eac5e(0x319)](_0x228311),document['body']['appendChild'](_0x5898bb);const _0x48e7d3=Array['isArray'](categories)&&categories['length']>0x0?categories['map'](_0x1ca8bb=>_0x1ca8bb['name']):[''],_0x70e152=Array['isArray'](UNITS)&&UNITS[_0x1eac5e(0x503)]>0x0?UNITS['slice']():['шт'];function _0x4dfed4(_0x1767ca,_0x1a0724=''){const _0x152670=_0x1eac5e;return _0x1767ca[_0x152670(0x1fe)](_0x304ee5=>{const _0x209c10=_0x152670,_0x2cb35b=_0x5291cb['oDppI'](_0x304ee5,'');return'<option\x20value=\x22'+_0x2cb35b+'\x22'+(_0x5291cb[_0x209c10(0x14a)](_0x2cb35b,_0x1a0724)?_0x209c10(0x3d6):'')+'>'+_0x2cb35b+_0x209c10(0x323);})[_0x152670(0x3d0)]('');}function _0x5b5f1e(_0x417583={}){const _0x493054=function(_0x375433={}){const _0x3d39c7=a0_0x1f48,_0x33f10b={'IScIn':'.add-work-item'},_0x2d78bc=document[_0x3d39c7(0x265)](_0x3d39c7(0x29c));return _0x2d78bc[_0x3d39c7(0x3ad)]=_0x3d39c7(0x37c),_0x2d78bc[_0x3d39c7(0x1d1)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22modal-form-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label>Наименование</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20class=\x22editable\x22\x20data-field=\x22name\x22\x20placeholder=\x22Наименование\x20работы\x22\x20value=\x22'+(_0x375433['name']||'')+'\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22modal-form-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label>Раздел</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20class=\x22editable\x22\x20data-field=\x22category\x22></select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22modal-form-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label>Единица\x20измерения</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20class=\x22editable\x22\x20data-field=\x22unit\x22></select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22modal-form-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label>На\x20балансе</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22number\x22\x20class=\x22editable\x22\x20data-field=\x22balance\x22\x20step=\x221\x22\x20value=\x22'+(_0x375433[_0x3d39c7(0x43b)]??0x0)+_0x3d39c7(0x146)+(_0x375433['project_total']??0x0)+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22modal-form-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label>Активно</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20class=\x22editable\x22\x20data-field=\x22is_active\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x221\x22'+(0x0===_0x375433[_0x3d39c7(0x1b2)]?'':_0x5291cb[_0x3d39c7(0x29a)])+_0x3d39c7(0x468)+(0x0===_0x375433[_0x3d39c7(0x1b2)]?_0x5291cb[_0x3d39c7(0x29a)]:'')+'>Нет</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22secondary\x20remove-add-work-button\x22>Удалить</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x2d78bc['querySelector'](_0x3d39c7(0x313))['innerHTML']=_0x5291cb[_0x3d39c7(0x4f4)](_0x4dfed4,_0x48e7d3,_0x375433['category']||_0x48e7d3[0x0]||''),_0x2d78bc[_0x3d39c7(0x1f3)](_0x3d39c7(0x2a5))[_0x3d39c7(0x1d1)]=_0x5291cb[_0x3d39c7(0x353)](_0x4dfed4,_0x70e152,_0x375433['unit']||_0x70e152[0x0]),_0x2d78bc['querySelector']('.remove-add-work-button')[_0x3d39c7(0x432)](_0x5291cb[_0x3d39c7(0x32a)],()=>{const _0x57a907=_0x3d39c7;_0x2d78bc[_0x57a907(0x1b6)](),_0x11d320['querySelector'](_0x33f10b[_0x57a907(0x410)])||_0x5b5f1e();}),_0x2d78bc;}(_0x417583);_0x11d320['appendChild'](_0x493054);}_0x52f56e['addEventListener']('click',()=>_0x5b5f1e()),_0x462514[_0x1eac5e(0x432)](_0x1eac5e(0x38c),()=>{const _0x5724ab=_0x1eac5e;_0x5898bb[_0x5724ab(0x1b6)]();}),_0x5898bb[_0x1eac5e(0x432)](_0x5291cb[_0x1eac5e(0x32a)],_0x40d135=>{const _0x3b3463=_0x1eac5e;_0x5291cb[_0x3b3463(0x380)](_0x40d135[_0x3b3463(0x45a)],_0x5898bb)&&_0x5898bb[_0x3b3463(0x1b6)]();}),_0x228311[_0x1eac5e(0x432)](_0x5291cb['XPlNF'],_0x1b7195=>_0x1b7195['stopPropagation']()),_0x5291cb[_0x1eac5e(0x43a)](_0x5b5f1e),_0x3c50a1[_0x1eac5e(0x432)](_0x1eac5e(0x1cf),async _0xf9c9cf=>{const _0x1b7e58=_0x1eac5e;_0xf9c9cf[_0x1b7e58(0x415)]();const _0x59cc51=Array[_0x1b7e58(0x379)](_0x11d320[_0x1b7e58(0x1e6)](_0x5291cb['NGxFX']));if(_0x5291cb['ENLxZ'](0x0,_0x59cc51[_0x1b7e58(0x503)]))return void _0x5291cb[_0x1b7e58(0x3c0)](showNotification,_0x1b7e58(0x1a6),'error');const _0x174e5e=[];for(const _0x512198 of _0x59cc51){const _0x38cee2=_0x41c56c=>_0x512198['querySelector'](_0x41c56c),_0x5dcf92=_0x5291cb['kqjvk'](_0x38cee2,_0x5291cb['dWFGE']),_0x1faa8c=_0x5291cb['fzECJ'](_0x38cee2,'select[data-field=\x22category\x22]'),_0x1dfe0e=_0x5291cb[_0x1b7e58(0x2f1)](_0x38cee2,_0x5291cb[_0x1b7e58(0x21e)]),_0x2d0b4c=_0x38cee2(_0x1b7e58(0x4d3)),_0x2fc635=_0x5291cb[_0x1b7e58(0x233)](_0x38cee2,_0x1b7e58(0x461)),_0x3fe065=_0x5291cb['njGXy'](_0x38cee2,'select[data-field=\x22is_active\x22]'),_0x4c8ded=(_0x5dcf92['value']||'')[_0x1b7e58(0x4eb)]();if(!_0x4c8ded)return showNotification(_0x5291cb['ySdje'],_0x5291cb['WegCA']),void _0x5dcf92[_0x1b7e58(0x174)]();_0x174e5e[_0x1b7e58(0x1e9)]({'name':_0x4c8ded,'category':(_0x1faa8c?.['value']||'')['trim'](),'unit':_0x1dfe0e?.['value']||'','balance':_0x5291cb['fzECJ'](parseFloat,_0x2d0b4c?.['value']||'0')||0x0,'project_total':_0x5291cb[_0x1b7e58(0x159)](parseFloat,_0x2fc635?.['value']||'0')||0x0,'is_active':parseInt(_0x3fe065?.[_0x1b7e58(0x3dc)]||'1',0xa)||0x0});}_0x8cca75[_0x1b7e58(0x365)]=!0x0,_0x462514[_0x1b7e58(0x365)]=!0x0,_0x52f56e['disabled']=!0x0;let _0x289d1a=0x0,_0x4bb6a3=[];for(const _0x4c3e3a of _0x174e5e)try{_0x5291cb['oOfgz'](showNotification,'Добавление\x20работы...',_0x5291cb['FoBEn']);const _0x2ba9ea=await fetch(buildApiUrl(API_CONFIG['ENDPOINTS'][_0x1b7e58(0x154)]),{'method':_0x5291cb[_0x1b7e58(0x172)],'headers':{'Content-Type':_0x5291cb['hyJQq'],'Authorization':'Bearer\x20'+localStorage['getItem'](_0x5291cb[_0x1b7e58(0x400)])},'body':JSON[_0x1b7e58(0x18d)]({'name':_0x4c3e3a['name'],'category':_0x4c3e3a[_0x1b7e58(0x15e)],'unit':_0x4c3e3a[_0x1b7e58(0x352)],'balance':_0x4c3e3a[_0x1b7e58(0x43b)],'project_total':_0x4c3e3a['project_total'],'is_active':_0x4c3e3a['is_active']})});if(await checkIfWorkExists(_0x4c3e3a['name'],_0x4c3e3a[_0x1b7e58(0x15e)]))_0x289d1a++,_0x5291cb['veHGY'](showNotification,'Работа\x20\x22'+_0x4c3e3a['name']+_0x1b7e58(0x19f),_0x1b7e58(0x22b));else{let _0x4c8679='Работа\x20не\x20была\x20добавлена\x20в\x20базе\x20данных';try{const _0x4c2f56=await _0x2ba9ea['text']();if(_0x4c2f56){const _0x2f158f=JSON[_0x1b7e58(0x42f)](_0x4c2f56);_0x4c8679=_0x2f158f['detail']||_0x2f158f['error']||_0x4c8679;}}catch(_0xbb0416){}_0x4bb6a3[_0x1b7e58(0x1e9)](_0x4c8679);}}catch(_0x5ad675){_0x4bb6a3[_0x1b7e58(0x1e9)](_0x5291cb['BuZYo']+_0x5ad675['message']);}_0x5291cb[_0x1b7e58(0x50d)](_0x289d1a,0x0)?_0x5898bb['remove']():(_0x8cca75[_0x1b7e58(0x365)]=!0x1,_0x462514['disabled']=!0x1,_0x52f56e[_0x1b7e58(0x365)]=!0x1),_0x4bb6a3['length']>0x0&&showNotification(_0x4bb6a3[_0x1b7e58(0x3d0)]('\x20'),_0x5291cb[_0x1b7e58(0x1ba)]);});}function removeNewWork(_0x102600){const _0x5b9689=a0_0x1522ec,_0x40be83={'PEbNH':function(_0x44883c,_0x4e2f16){return _0x44883c===_0x4e2f16;}};_0x102600[_0x5b9689(0x2a1)]('tr')[_0x5b9689(0x1b6)]();const _0x1f4d66=document['getElementById']('worksTableBody');_0x40be83['PEbNH'](0x0,_0x1f4d66['children'][_0x5b9689(0x503)])&&(_0x1f4d66[_0x5b9689(0x1d1)]=_0x5b9689(0x3b0));}async function saveNewWork(_0x44332e){const _0x49ce66=a0_0x1522ec,_0x221eac={'MeUtL':_0x49ce66(0x464),'eSfvI':'balance','xDNuh':'project_total','dWpgf':function(_0x27a08c,_0x5ce658){return _0x27a08c(_0x5ce658);},'GdPwL':_0x49ce66(0x1ec),'TYXzG':function(_0x3842a6,_0x35cb69,_0x5d0cf3){return _0x3842a6(_0x35cb69,_0x5d0cf3);},'HEOTt':_0x49ce66(0x1ce),'vyBWT':_0x49ce66(0x183),'YoaNe':function(_0x4df1cb,_0x29fc4d,_0x2c0a5e){return _0x4df1cb(_0x29fc4d,_0x2c0a5e);},'XHAwX':function(_0x55b56e,_0x1bfdeb){return _0x55b56e+_0x1bfdeb;}},_0x2f423c=_0x44332e[_0x49ce66(0x2a1)]('tr')['querySelectorAll']('.editable'),_0x56bd8c={};_0x2f423c['forEach'](_0x345a14=>{const _0x1e9292=_0x49ce66,_0x409340=_0x345a14['getAttribute'](_0x221eac['MeUtL']);let _0x2a8b1a=_0x345a14[_0x1e9292(0x3dc)];_0x221eac['eSfvI']!==_0x409340&&_0x221eac['xDNuh']!==_0x409340||(_0x2a8b1a=parseFloat(_0x2a8b1a)),'is_active'===_0x409340&&(_0x2a8b1a=_0x221eac['dWpgf'](parseInt,_0x2a8b1a)),_0x56bd8c[_0x409340]=_0x2a8b1a;});const _0x293340=_0x56bd8c['name'],_0x22dc78=_0x56bd8c[_0x49ce66(0x15e)],_0x228153={'name':_0x56bd8c[_0x49ce66(0x4cf)],'category':_0x56bd8c[_0x49ce66(0x15e)],'unit':_0x56bd8c['unit'],'balance':_0x56bd8c['balance'],'project_total':_0x56bd8c['project_total'],'is_active':_0x56bd8c[_0x49ce66(0x1b2)]};try{showNotification(_0x221eac[_0x49ce66(0x490)],'success');const _0x42bec5=await fetch(buildApiUrl(API_CONFIG[_0x49ce66(0x41e)][_0x49ce66(0x154)]),{'method':'POST','headers':{'Content-Type':_0x49ce66(0x2c4),'Authorization':_0x49ce66(0x170)+localStorage['getItem'](_0x49ce66(0x465))},'body':JSON['stringify'](_0x228153)});if(await _0x221eac['TYXzG'](checkIfWorkExists,_0x293340,_0x22dc78))_0x221eac['TYXzG'](showNotification,'Работа\x20успешно\x20добавлена','success');else{let _0x5bbb51=_0x221eac['HEOTt'];try{const _0x32e730=await _0x42bec5['text']();if(_0x32e730){const _0x1c378d=JSON['parse'](_0x32e730);_0x5bbb51=_0x1c378d[_0x49ce66(0x374)]||_0x1c378d['error']||_0x5bbb51;}}catch(_0x159091){}_0x221eac['TYXzG'](showNotification,'Ошибка:\x20'+_0x5bbb51,_0x221eac['vyBWT']);}}catch(_0x1c23d4){_0x221eac['YoaNe'](showNotification,_0x221eac['XHAwX']('Ошибка\x20при\x20добавлении\x20работы:\x20',_0x1c23d4[_0x49ce66(0x168)]),_0x49ce66(0x183));}}async function checkIfWorkExists(_0x2c2f72,_0x1afa88,_0x14fb1e=0x5){for(let _0x588fa7=0x0;_0x588fa7<_0x14fb1e;_0x588fa7++){await loadWorks();if(works['some'](_0x5a7caa=>{const _0xad1dfc=a0_0x1f48,_0x5912e4=_0x5a7caa[_0xad1dfc(0x317)]||_0x5a7caa['Категория']||'';return _0x5a7caa['Название\x20работы']===_0x2c2f72&&_0x5912e4===_0x1afa88;}))return!0x0;await new Promise(_0x26477d=>setTimeout(_0x26477d,0x1f4));}return!0x1;}async function saveWork(_0x3ce8f4){const _0x5c0891=a0_0x1522ec,_0xae940={'JftWT':'data-field','PtkTf':_0x5c0891(0x43b),'LSlgH':'project_total','wJHVY':function(_0x18eed6,_0x3ea7e6){return _0x18eed6(_0x3ea7e6);},'JwNIB':function(_0x5df922,_0x2c300f){return _0x5df922===_0x2c300f;},'Lkgaa':_0x5c0891(0x178),'MBChk':function(_0x2ee601,_0x3ecb97,_0x5ceeb5){return _0x2ee601(_0x3ecb97,_0x5ceeb5);},'yIHOB':_0x5c0891(0x37b),'eucPF':_0x5c0891(0x183),'eXjso':_0x5c0891(0x22b),'XFNfG':'PUT','kHqMb':_0x5c0891(0x2c4),'WovEc':function(_0x42806e){return _0x42806e();},'iYqOE':_0x5c0891(0x2bf),'gmpEw':'Название\x20работы','EYOnZ':function(_0x20b1fc,_0x25cb7f){return _0x20b1fc===_0x25cb7f;},'tblwX':function(_0x483c74,_0x332898){return _0x483c74===_0x332898;},'aYwYD':_0x5c0891(0x3f9),'cawcL':function(_0xde6f9b,_0x4eb685){return _0xde6f9b(_0x4eb685);},'PszGS':function(_0x4d1f63,_0x460718){return _0x4d1f63(_0x460718);},'UrdvB':_0x5c0891(0x306),'MsUXw':function(_0xbf64a9,_0x267c55){return _0xbf64a9(_0x267c55);},'vTTkl':'Работа\x20не\x20была\x20обновлена\x20в\x20базе\x20данных','TTpHR':function(_0x5e1dfd,_0x5e9ca2){return _0x5e1dfd+_0x5e9ca2;},'lLjhU':_0x5c0891(0x18c)},_0x4bcfd0=document['querySelector'](_0x5c0891(0x413)+_0x3ce8f4+'\x22])')[_0x5c0891(0x1e6)](_0xae940[_0x5c0891(0x26a)]),_0x1057b0={'id':_0x3ce8f4};_0x4bcfd0['forEach'](_0xae4be6=>{const _0x3fab3a=_0x5c0891,_0x1d5f3f=_0xae4be6['getAttribute'](_0xae940[_0x3fab3a(0x47a)]);let _0x35f96d=_0xae4be6['value'];_0xae940[_0x3fab3a(0x2eb)]!==_0x1d5f3f&&_0xae940['LSlgH']!==_0x1d5f3f||(_0x35f96d=_0xae940['wJHVY'](parseFloat,_0x35f96d)),_0xae940[_0x3fab3a(0x2be)]('is_active',_0x1d5f3f)&&(_0x35f96d=parseInt(_0x35f96d)),_0x1057b0[_0x1d5f3f]=_0x35f96d;});const _0xcab371={'name':_0x1057b0[_0x5c0891(0x4cf)],'category':_0x1057b0[_0x5c0891(0x15e)],'unit':_0x1057b0[_0x5c0891(0x352)],'balance':_0x1057b0['balance'],'project_total':_0x1057b0[_0x5c0891(0x169)],'is_active':_0x1057b0['is_active']};try{if(!works['find'](_0x444811=>_0x444811['id']===_0x3ce8f4))return void _0xae940[_0x5c0891(0x47d)](showNotification,_0xae940[_0x5c0891(0x390)],_0xae940[_0x5c0891(0x42e)]);showNotification('Обновление\x20работы...',_0xae940[_0x5c0891(0x45b)]);const _0x5ac3e8=await _0xae940['MBChk'](fetch,buildApiUrl(API_CONFIG[_0x5c0891(0x41e)][_0x5c0891(0x154)]+'/'+_0x3ce8f4),{'method':_0xae940['XFNfG'],'headers':{'Content-Type':_0xae940['kHqMb'],'Authorization':_0x5c0891(0x170)+localStorage['getItem'](_0x5c0891(0x465))},'body':JSON['stringify'](_0xcab371)});await new Promise(_0x5983e9=>setTimeout(_0x5983e9,0x3e8)),await _0xae940[_0x5c0891(0x2f5)](loadWorks);const _0x4bee50=works[_0x5c0891(0x3eb)](_0x352659=>_0x352659['id']===_0x3ce8f4);if(_0x4bee50){const _0x4e2bdb=_0x4bee50[_0x5c0891(0x317)]||_0x4bee50[_0xae940['iYqOE']]||'';_0xae940[_0x5c0891(0x2be)](_0x4bee50[_0xae940['gmpEw']],_0x1057b0['name'])&&_0xae940['EYOnZ'](_0x4e2bdb,_0x1057b0['category'])&&_0xae940['tblwX'](_0x4bee50[_0xae940['aYwYD']],_0x1057b0[_0x5c0891(0x352)])&&_0xae940[_0x5c0891(0x160)](parseFloat,_0x4bee50[_0x5c0891(0x50c)])===_0x1057b0['balance']&&_0xae940['PszGS'](parseFloat,_0x4bee50[_0xae940['UrdvB']]||0x0)===_0x1057b0[_0x5c0891(0x169)]&&_0xae940[_0x5c0891(0x2be)](_0xae940['MsUXw'](Boolean,_0x4bee50['is_active']),_0xae940['wJHVY'](Boolean,_0x1057b0[_0x5c0891(0x1b2)]))?showNotification(_0x5c0891(0x2d3),_0xae940[_0x5c0891(0x45b)]):_0xae940[_0x5c0891(0x47d)](showNotification,'Работа\x20найдена,\x20но\x20данные\x20не\x20были\x20обновлены','warning');}else{let _0x4d91a5=_0xae940['vTTkl'];try{const _0x4e219d=await _0x5ac3e8[_0x5c0891(0x2ae)]();if(_0x4e219d){const _0x275aaf=JSON[_0x5c0891(0x42f)](_0x4e219d);_0x4d91a5=_0x275aaf['detail']||_0x275aaf[_0x5c0891(0x183)]||_0x4d91a5;}}catch(_0x4ee6f5){}showNotification('Ошибка:\x20'+_0x4d91a5,'error');}}catch(_0x5859a0){showNotification(_0xae940['TTpHR'](_0xae940['lLjhU'],_0x5859a0['message']),_0x5c0891(0x183));}}async function saveAllWorks(){const _0x5de355=a0_0x1522ec,_0x3e6a2a={'asOeD':'data-field','CKHBu':_0x5de355(0x43b),'zABru':function(_0x496a3e,_0x36acca){return _0x496a3e!==_0x36acca;},'vRxER':function(_0x44ff5f,_0x3e242d){return _0x44ff5f===_0x3e242d;},'lFGGD':'is_active','JeeuR':function(_0x2a0c9d,_0x29b00b,_0x2aaf7c){return _0x2a0c9d(_0x29b00b,_0x2aaf7c);},'DXFRo':_0x5de355(0x22b),'rfJQr':'td:nth-child(2)\x20input','UPidn':function(_0x19b331,_0x204947){return _0x19b331(_0x204947);},'YYqgT':'PUT','uMQhc':_0x5de355(0x465),'HGAjb':function(_0x4014d3,_0x59c666){return _0x4014d3+_0x59c666;},'qhnuQ':function(_0x3472ff,_0x12d2b0){return _0x3472ff-_0x12d2b0;},'yWCAQ':'Нет\x20изменений\x20для\x20сохранения'},_0x5e2c7f=document[_0x5de355(0x1e6)](_0x5de355(0x434));let _0x1447af=!0x1,_0x21af2d=0x0,_0x28efea=0x0;_0x3e6a2a[_0x5de355(0x237)](showNotification,'Сохранение\x20всех\x20изменений...',_0x3e6a2a['DXFRo']);for(const _0x12a036 of _0x5e2c7f){const _0x14635d=_0x12a036['querySelector'](_0x3e6a2a['rfJQr']);if(!_0x14635d||'новый'===_0x14635d[_0x5de355(0x3dc)])continue;const _0x9fcd1c=_0x3e6a2a['UPidn'](parseInt,_0x14635d[_0x5de355(0x3dc)]),_0x8281f0=_0x12a036[_0x5de355(0x1e6)](_0x5de355(0x178)),_0xb87592={'id':_0x9fcd1c};_0x8281f0[_0x5de355(0x34e)](_0x9f4da4=>{const _0x2cf2c5=_0x5de355,_0x3ac701=_0x9f4da4[_0x2cf2c5(0x30c)](_0x3e6a2a['asOeD']);let _0x5f5539=_0x9f4da4[_0x2cf2c5(0x3dc)];_0x3e6a2a['CKHBu']!==_0x3ac701&&_0x3e6a2a['zABru'](_0x2cf2c5(0x169),_0x3ac701)||(_0x5f5539=parseFloat(_0x5f5539)),_0x3e6a2a[_0x2cf2c5(0x1fc)](_0x3e6a2a[_0x2cf2c5(0x1ff)],_0x3ac701)&&(_0x5f5539=parseInt(_0x5f5539)),_0xb87592[_0x3ac701]=_0x5f5539;});const _0x1967a0={'name':_0xb87592['name'],'category':_0xb87592[_0x5de355(0x15e)],'unit':_0xb87592['unit'],'balance':_0xb87592['balance'],'project_total':_0xb87592[_0x5de355(0x169)],'is_active':_0xb87592[_0x5de355(0x1b2)]};try{await fetch(_0x3e6a2a[_0x5de355(0x31d)](buildApiUrl,API_CONFIG[_0x5de355(0x41e)]['WORKS']+'/'+_0x9fcd1c),{'method':_0x3e6a2a['YYqgT'],'headers':{'Content-Type':'application/json','Authorization':'Bearer\x20'+localStorage['getItem'](_0x3e6a2a[_0x5de355(0x4fc)])},'body':JSON['stringify'](_0x1967a0)}),(await new Promise(_0x43ce88=>setTimeout(_0x43ce88,0x1f4)),_0x3e6a2a[_0x5de355(0x3bc)](_0x21af2d,_0x28efea)===_0x3e6a2a['qhnuQ'](_0x5e2c7f[_0x5de355(0x503)],0x1)&&await loadWorks(),_0x21af2d++,_0x1447af=!0x0);}catch(_0x550ec4){_0x28efea++;}}if(await loadWorks(),_0x1447af){let _0x13198e='Все\x20изменения\x20успешно\x20сохранены.\x20Обновлено\x20работ:\x20'+_0x21af2d;_0x28efea>0x0&&(_0x13198e+=',\x20ошибок:\x20'+_0x28efea),showNotification(_0x13198e,_0x3e6a2a[_0x5de355(0x31a)]);}else showNotification(_0x3e6a2a['yWCAQ'],_0x5de355(0x22b));}async function deleteWork(_0x40609b){const _0x4555a7=a0_0x1522ec,_0x3a7261={'unEGL':'Вы\x20уверены,\x20что\x20хотите\x20удалить\x20эту\x20работу?','quczP':_0x4555a7(0x149),'EQOzb':function(_0x44af67){return _0x44af67();},'JpZDT':function(_0x69abae,_0x4533e8,_0x1f212d){return _0x69abae(_0x4533e8,_0x1f212d);},'HpaJZ':function(_0x109e69,_0x598f8f){return _0x109e69+_0x598f8f;},'Vprvn':'error','QLVFG':function(_0x27727d,_0x109080){return _0x27727d+_0x109080;}};if(confirm(_0x3a7261['unEGL']))try{document['querySelector'](_0x4555a7(0x413)+_0x40609b+_0x4555a7(0x2ad))['classList']['add'](_0x4555a7(0x17a)),await new Promise(_0x256d30=>setTimeout(_0x256d30,0x12c));const _0x2dbbd1=await makeApiRequest(API_CONFIG['ENDPOINTS']['WORKS']+'/'+_0x40609b,{'method':_0x3a7261[_0x4555a7(0x395)]});_0x2dbbd1['success']?(await _0x3a7261['EQOzb'](loadWorks),_0x3a7261[_0x4555a7(0x423)](showNotification,'Работа\x20успешно\x20удалена','success')):showNotification(_0x3a7261['HpaJZ']('Ошибка\x20при\x20удалении\x20работы:\x20',_0x2dbbd1[_0x4555a7(0x183)]||'Неизвестная\x20ошибка'),_0x3a7261['Vprvn']);}catch(_0x5d36fc){showNotification(_0x3a7261['QLVFG'](_0x4555a7(0x46c),_0x5d36fc['message']),_0x3a7261['Vprvn']);}}function filterWorks(){const _0x5b1614=a0_0x1522ec,_0x2ba542={'rXMyn':'Категория','BXioy':'Название\x20работы','uCivZ':'Единица\x20измерения','GTbiX':function(_0x100d28,_0x3fbe5c){return _0x100d28(_0x3fbe5c);}},_0x426329=document[_0x5b1614(0x408)](_0x5b1614(0x481))['value']['toLowerCase']();_0x2ba542['GTbiX'](displayWorks,works[_0x5b1614(0x3ae)](_0x44c3ea=>{const _0x15df82=_0x5b1614,_0x1145c0=(_0x44c3ea['Раздел']||_0x44c3ea[_0x2ba542[_0x15df82(0x4d7)]]||'')[_0x15df82(0x148)]();return _0x44c3ea[_0x2ba542[_0x15df82(0x3a5)]]['toLowerCase']()[_0x15df82(0x28f)](_0x426329)||_0x1145c0['includes'](_0x426329)||_0x44c3ea[_0x2ba542[_0x15df82(0x277)]][_0x15df82(0x148)]()['includes'](_0x426329);}));}async function exportWorksToExcel(){const _0x4bf275=a0_0x1522ec,_0x2879ac={'CvjmI':'Список\x20работ','IRRGc':_0x4bf275(0x27f),'dChiV':_0x4bf275(0x309),'wRRAO':_0x4bf275(0x3ed),'IqNSv':'Файл\x20успешно\x20скачан','iLTpQ':function(_0x3b363f,_0x12e3ff,_0x53193d){return _0x3b363f(_0x12e3ff,_0x53193d);},'bdZga':function(_0x30c6e4,_0x17a7c3){return _0x30c6e4+_0x17a7c3;}};try{showNotification('Подготовка\x20файла\x20для\x20скачивания...',_0x4bf275(0x22b));const _0x65adae=XLSX['utils']['book_new']();_0x65adae['Props']={'Title':_0x2879ac[_0x4bf275(0x2ec)],'Subject':_0x2879ac['IRRGc'],'Author':_0x2879ac[_0x4bf275(0x455)],'CreatedDate':new Date()};const _0x560376=works[_0x4bf275(0x1fe)](_0x5c2e09=>({'ID':_0x5c2e09['id'],'Название\x20работы':_0x5c2e09['Название\x20работы'],'Раздел':_0x5c2e09['Раздел']||_0x5c2e09[_0x4bf275(0x2bf)]||'','Единица\x20измерения':_0x5c2e09['Единица\x20измерения'],'На\x20балансе':_0x5c2e09['На\x20балансе'],'Проект':_0x5c2e09[_0x4bf275(0x306)]||0x0,'Стоимость\x20за\x20единицу':_0x5c2e09[_0x4bf275(0x2b1)]??_0x5c2e09[_0x4bf275(0x1a7)]??0x0,'Активна':_0x5c2e09[_0x4bf275(0x1b2)]?'Да':'Нет'})),_0x586a9f=XLSX[_0x4bf275(0x496)][_0x4bf275(0x1dc)](_0x560376),_0x21a8f1=[{'wch':0x8},{'wch':0x28},{'wch':0x14},{'wch':0xf},{'wch':0xc},{'wch':0xc},{'wch':0x12},{'wch':0xa}];_0x586a9f['!cols']=_0x21a8f1,XLSX['utils']['book_append_sheet'](_0x65adae,_0x586a9f,_0x2879ac['wRRAO']);const _0x219995='works_export_'+new Date()[_0x4bf275(0x327)]()[_0x4bf275(0x3a4)]('T')[0x0]+_0x4bf275(0x3b7);XLSX['writeFile'](_0x65adae,_0x219995),showNotification(_0x2879ac[_0x4bf275(0x296)],_0x4bf275(0x22b));}catch(_0xf117bc){console['error']('Export\x20error:',_0xf117bc),_0x2879ac['iLTpQ'](showNotification,_0x2879ac[_0x4bf275(0x44a)](_0x4bf275(0x3f3),_0xf117bc[_0x4bf275(0x168)]),_0x4bf275(0x183));}}function triggerImportWorks(){const _0x5155af=a0_0x1522ec;document[_0x5155af(0x408)](_0x5155af(0x156))[_0x5155af(0x38c)]();}async function handleWorksImport(_0xd75d5e){const _0x475f5b=a0_0x1522ec,_0xf1b1ee={'qnUkF':function(_0x3ebfea,_0x53a119,_0x1d9879){return _0x3ebfea(_0x53a119,_0x1d9879);},'OXHnR':'success','QaVVX':'Ошибка\x20при\x20импорте\x20файла:\x20','nIrkV':'error'},_0x3d9aef=_0xd75d5e['target']['files'][0x0];if(_0x3d9aef){_0xd75d5e['target']['value']='';try{_0xf1b1ee['qnUkF'](showNotification,_0x475f5b(0x40b),_0xf1b1ee[_0x475f5b(0x1e5)]);const _0x1b43ad=await readExcelFile(_0x3d9aef);await importWorksFromExcel(_0x1b43ad);}catch(_0x68286c){console['error']('Import\x20error:',_0x68286c),showNotification(_0xf1b1ee['QaVVX']+_0x68286c['message'],_0xf1b1ee['nIrkV']);}}}function readExcelFile(_0x3de268){const _0x3689c0={'hxtrK':function(_0x393f08,_0x49aa92){return _0x393f08(_0x49aa92);}};return new Promise((_0x1df541,_0x18f409)=>{const _0x1b5ef3=a0_0x1f48,_0xefe572={'tYEEb':function(_0x39e24d,_0x473fff){return _0x39e24d(_0x473fff);},'tLJhT':function(_0x2d4f6f,_0x131ca6){return _0x3689c0['hxtrK'](_0x2d4f6f,_0x131ca6);},'KXQUR':'Ошибка\x20чтения\x20файла'},_0x261ac1=new FileReader();_0x261ac1[_0x1b5ef3(0x348)]=function(_0x449fe3){const _0x2dae2b=_0x1b5ef3;try{const _0x55ee40=new Uint8Array(_0x449fe3[_0x2dae2b(0x45a)]['result']),_0x5b56ca=XLSX[_0x2dae2b(0x405)](_0x55ee40,{'type':_0x2dae2b(0x4f8)}),_0xb7e5b4=_0x5b56ca[_0x2dae2b(0x1b9)][0x0],_0x1490ac=_0x5b56ca[_0x2dae2b(0x367)][_0xb7e5b4],_0x12c847=XLSX[_0x2dae2b(0x496)][_0x2dae2b(0x272)](_0x1490ac);_0x1df541(_0x12c847);}catch(_0x35317c){_0xefe572[_0x2dae2b(0x199)](_0x18f409,_0x35317c);}},_0x261ac1[_0x1b5ef3(0x28e)]=function(){const _0x3332dd=_0x1b5ef3;_0xefe572[_0x3332dd(0x2b3)](_0x18f409,new Error(_0xefe572['KXQUR']));},_0x261ac1[_0x1b5ef3(0x4d2)](_0x3de268);});}async function importWorksFromExcel(_0x2c1d64){const _0x16fce4=a0_0x1522ec,_0x4dcedc={'LzoAU':function(_0x7feb41,_0x2d0e43){return _0x7feb41===_0x2d0e43;},'NKAAk':'Файл\x20не\x20содержит\x20данных','RCbzG':_0x16fce4(0x173),'dEWmq':'Единица\x20измерения','ZAdzD':function(_0x429717,_0x1bd84f){return _0x429717(_0x1bd84f);},'bmStR':function(_0x392c62,_0x4a700b){return _0x392c62(_0x4a700b);},'tzcXt':'На\x20балансе','TLrdR':'Проект','bOVvR':function(_0x166b4b,_0x5d8a63){return _0x166b4b*_0x5d8a63;},'aEvsr':function(_0xb4d1d0,_0x449574){return _0xb4d1d0(_0x449574);},'wEdQC':function(_0x4c8c17,_0x4de32e){return _0x4c8c17===_0x4de32e;},'Mqsju':_0x16fce4(0x1be),'QdXmI':function(_0x55cd9c,_0xcac856){return _0x55cd9c+_0xcac856;},'gtvsZ':function(_0x19107d,_0x218209,_0x5aee17){return _0x19107d(_0x218209,_0x5aee17);},'uqtbi':'POST','EvbpH':function(_0x173e74){return _0x173e74();},'vvJKe':function(_0x56c10e,_0x2db076){return _0x56c10e>_0x2db076;},'gyEHS':'Import\x20errors:','HcjlC':_0x16fce4(0x22b)};if(!_0x2c1d64||_0x4dcedc[_0x16fce4(0x235)](0x0,_0x2c1d64[_0x16fce4(0x503)]))throw new Error(_0x4dcedc[_0x16fce4(0x2a6)]);let _0x1705e7=0x0,_0x39adff=0x0,_0x219625=[];showNotification('Начинаем\x20импорт\x20'+_0x2c1d64['length']+'\x20записей...',_0x16fce4(0x22b));for(let _0x353b81=0x0;_0x353b81<_0x2c1d64[_0x16fce4(0x503)];_0x353b81++){const _0x1cc69e=_0x2c1d64[_0x353b81];try{const _0x25c080=_0x1cc69e['Раздел']??_0x1cc69e['Категория'];if(!_0x1cc69e[_0x4dcedc['RCbzG']]||!_0x25c080||!_0x1cc69e[_0x4dcedc[_0x16fce4(0x3b6)]]){_0x219625[_0x16fce4(0x1e9)](_0x16fce4(0x4d1)+(_0x353b81+0x2)+_0x16fce4(0x46a));continue;}const _0x1e782b=_0x4dcedc[_0x16fce4(0x1f9)](String,_0x25c080)['trim'](),_0x3c28f1=_0x4dcedc[_0x16fce4(0x430)](parseFloat,_0x1cc69e['Стоимость\x20за\x20единицу'])||0x0,_0x2eb263={'name':_0x4dcedc['ZAdzD'](String,_0x1cc69e[_0x4dcedc[_0x16fce4(0x2b4)]])[_0x16fce4(0x4eb)](),'category':_0x1e782b,'unit':_0x4dcedc['ZAdzD'](String,_0x1cc69e['Единица\x20измерения'])['trim'](),'balance':parseFloat(_0x1cc69e[_0x4dcedc[_0x16fce4(0x3cb)]])||0x0,'project_total':parseFloat(_0x1cc69e[_0x4dcedc[_0x16fce4(0x1d4)]])||0x0,'unit_cost_without_vat':_0x3c28f1,'total_cost_without_vat':_0x4dcedc[_0x16fce4(0x1a9)](_0x3c28f1,_0x4dcedc['aEvsr'](parseFloat,_0x1cc69e['Проект'])||0x0),'is_active':_0x4dcedc['wEdQC']('да',String(_0x1cc69e[_0x16fce4(0x231)])[_0x16fce4(0x148)]())?0x1:0x0},_0x416d95=_0x1cc69e['ID']?parseInt(_0x1cc69e['ID']):null;if(_0x416d95&&works[_0x16fce4(0x3eb)](_0x1e7026=>_0x1e7026['id']===_0x416d95)){const _0x4ff5e8=await makeApiRequest(API_CONFIG['ENDPOINTS'][_0x16fce4(0x154)]+'/'+_0x416d95,{'method':_0x4dcedc['Mqsju'],'body':JSON[_0x16fce4(0x18d)](_0x2eb263)});_0x4ff5e8&&_0x4ff5e8[_0x16fce4(0x22b)]?_0x39adff++:_0x219625[_0x16fce4(0x1e9)](_0x16fce4(0x4d1)+_0x4dcedc['QdXmI'](_0x353b81,0x2)+_0x16fce4(0x1fd)+_0x416d95);}else{const _0x543824=await _0x4dcedc[_0x16fce4(0x26b)](makeApiRequest,API_CONFIG['ENDPOINTS']['WORKS'],{'method':_0x4dcedc[_0x16fce4(0x36b)],'body':JSON['stringify'](_0x2eb263)});_0x543824&&_0x543824[_0x16fce4(0x22b)]?_0x1705e7++:_0x219625['push'](_0x16fce4(0x4d1)+(_0x353b81+0x2)+':\x20Ошибка\x20создания\x20работы\x20\x22'+_0x2eb263[_0x16fce4(0x4cf)]+'\x22');}}catch(_0x171906){_0x219625[_0x16fce4(0x1e9)]('Строка\x20'+_0x4dcedc[_0x16fce4(0x1cc)](_0x353b81,0x2)+':\x20'+_0x171906[_0x16fce4(0x168)]);}}await _0x4dcedc['EvbpH'](loadWorks);let _0x1fb425=_0x16fce4(0x2d8)+_0x1705e7+',\x20обновлено:\x20'+_0x39adff;_0x4dcedc[_0x16fce4(0x3ba)](_0x219625[_0x16fce4(0x503)],0x0)&&(_0x1fb425+='.\x20Ошибок:\x20'+_0x219625[_0x16fce4(0x503)],console['error'](_0x4dcedc[_0x16fce4(0x318)],_0x219625)),showNotification(_0x1fb425,_0x4dcedc['vvJKe'](_0x219625['length'],0x0)?_0x16fce4(0x183):_0x4dcedc['HcjlC']);}async function loadMaterials(){const _0x2d31e1=a0_0x1522ec,_0x3515af={'rURwl':function(_0x23382a,_0x390bb6){return _0x23382a!==_0x390bb6;},'zYXsV':_0x2d31e1(0x195),'oIwkF':'block','zxJkB':function(_0x2bb13e,_0x307a92){return _0x2bb13e(_0x307a92);},'WKyah':function(_0x4ddd68,_0x385f8a){return _0x4ddd68>_0x385f8a;},'GuUCI':function(_0x500771){return _0x500771();},'gZAWE':'Неизвестная\x20ошибка','zoNIp':_0x2d31e1(0x183),'RUyhH':_0x2d31e1(0x363)},_0x5b4411=document[_0x2d31e1(0x408)]('materialsLoading'),_0x3779b0=document[_0x2d31e1(0x408)](_0x3515af['zYXsV']);if(_0x5b4411&&_0x3779b0){_0x5b4411[_0x2d31e1(0x396)][_0x2d31e1(0x362)]=_0x3515af[_0x2d31e1(0x1af)],_0x3779b0['innerHTML']='';try{const _0x345084=await _0x3515af[_0x2d31e1(0x305)](makeApiRequest,API_CONFIG['ENDPOINTS']['MATERIALS']);_0x345084[_0x2d31e1(0x22b)]?(materials=_0x345084[_0x2d31e1(0x249)]||[],_0x3515af['zxJkB'](displayMaterials,materials),currentWorkMaterials&&_0x3515af['WKyah'](currentWorkMaterials['length'],0x0)&&(currentWorkMaterials=currentWorkMaterials['map'](_0x178ffe=>{const _0xafd655=_0x2d31e1,_0x1e5441=materials[_0xafd655(0x3eb)](_0x4d931e=>_0x4d931e['id']===_0x178ffe[_0xafd655(0x1e7)]);return _0x1e5441?{..._0x178ffe,'material_name':_0x1e5441['name']||_0x178ffe['material_name'],'unit':_0x1e5441['unit'],'category':_0x1e5441[_0xafd655(0x15e)],'available_quantity':_0x3515af['rURwl'](void 0x0,_0x1e5441[_0xafd655(0x144)])?Number(_0x1e5441['quantity']):_0x178ffe['available_quantity']}:_0x178ffe;}),_0x3515af['GuUCI'](displayWorkMaterialsList)),populateWorkMaterialSelect()):showNotification(_0x2d31e1(0x27a)+(_0x345084[_0x2d31e1(0x183)]||_0x3515af[_0x2d31e1(0x389)]),_0x3515af['zoNIp']);}catch(_0x51d848){showNotification('Ошибка\x20при\x20загрузке\x20материалов:\x20'+_0x51d848[_0x2d31e1(0x168)],_0x3515af['zoNIp']);}finally{_0x5b4411[_0x2d31e1(0x396)][_0x2d31e1(0x362)]=_0x3515af['RUyhH'];}}}function displayMaterials(_0x46f0cf=materials){const _0x4ecb77=a0_0x1522ec,_0x4b3c1d={'LUmUR':'<option\x20value=\x22\x22\x20selected>Не\x20выбрано</option>','DTywe':_0x4ecb77(0x35a),'wYFkb':function(_0x425bde,_0x504424){return _0x425bde(_0x504424);}},_0x1774ab=document[_0x4ecb77(0x408)]('materialsTableBody');if(_0x1774ab){if(_0x1774ab[_0x4ecb77(0x1d1)]='',!_0x46f0cf||0x0===_0x46f0cf[_0x4ecb77(0x503)])return _0x1774ab['innerHTML']=_0x4b3c1d[_0x4ecb77(0x260)],void refreshTableSorting('materialsTable');_0x46f0cf[_0x4ecb77(0x34e)](_0x546bc5=>{const _0x3b8dc2=_0x4ecb77,_0xd848ea=document['createElement']('tr');_0xd848ea['setAttribute']('data-material-id',_0x546bc5['id']);const _0x198bc2=void 0x0!==_0x546bc5['quantity']&&null!==_0x546bc5['quantity']?Number(_0x546bc5[_0x3b8dc2(0x144)]):0x0,_0x317cca=[...categories[_0x3b8dc2(0x1fe)](_0x1e0cfe=>'<option\x20value=\x22'+_0x1e0cfe['name']+'\x22\x20'+(_0x1e0cfe[_0x3b8dc2(0x4cf)]===_0x546bc5[_0x3b8dc2(0x15e)]?'selected':'')+'>'+_0x1e0cfe[_0x3b8dc2(0x4cf)]+_0x3b8dc2(0x323))];!categories['find'](_0x44058c=>_0x44058c['name']===_0x546bc5['category'])&&_0x546bc5[_0x3b8dc2(0x15e)]&&_0x317cca['push']('<option\x20value=\x22'+_0x546bc5[_0x3b8dc2(0x15e)]+'\x22\x20selected>'+_0x546bc5[_0x3b8dc2(0x15e)]+'</option>'),_0x546bc5[_0x3b8dc2(0x15e)]||_0x317cca['unshift'](_0x3b8dc2(0x3fb));const _0x45251d=[...UNITS[_0x3b8dc2(0x1fe)](_0x516612=>_0x3b8dc2(0x304)+_0x516612+'\x22\x20'+(_0x516612===_0x546bc5['unit']?'selected':'')+'>'+_0x516612+'</option>')];_0x546bc5['unit']&&!UNITS[_0x3b8dc2(0x28f)](_0x546bc5[_0x3b8dc2(0x352)])&&_0x45251d['push']('<option\x20value=\x22'+_0x546bc5[_0x3b8dc2(0x352)]+_0x3b8dc2(0x2f6)+_0x546bc5[_0x3b8dc2(0x352)]+'</option>'),_0x546bc5[_0x3b8dc2(0x352)]||_0x45251d[_0x3b8dc2(0x2d7)](_0x4b3c1d['LUmUR']),_0xd848ea['innerHTML']=_0x3b8dc2(0x2e5)+_0x546bc5['id']+'\x22\x20readonly></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20class=\x22editable\x22\x20data-field=\x22category\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x317cca[_0x3b8dc2(0x3d0)]('')+_0x3b8dc2(0x43f)+(_0x546bc5['name']||'')+_0x3b8dc2(0x454)+_0x45251d['join']('')+_0x3b8dc2(0x4de)+_0x198bc2+_0x3b8dc2(0x20a)+_0x546bc5['id']+')\x22\x20class=\x22secondary\x22>💾</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22openMaterialPricing('+_0x546bc5['id']+_0x3b8dc2(0x393)+_0x546bc5['id']+_0x3b8dc2(0x4f2)+_0x546bc5['id']+')\x22\x20class=\x22danger\x22>🗑️</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x1774ab[_0x3b8dc2(0x319)](_0xd848ea);}),_0x4b3c1d['wYFkb'](refreshTableSorting,'materialsTable');}}async function loadMaterialHistory(_0x181f4d=!0x1){const _0x3ae0bf=a0_0x1522ec,_0x20d00b={'LtKHV':_0x3ae0bf(0x4e6),'EsaXh':function(_0x1c90d6,_0x91babe){return _0x1c90d6&&_0x91babe;},'OOqLh':function(_0x5596e5,_0x383090){return _0x5596e5(_0x383090);},'HUBAp':function(_0x35c29f,_0x347ae6){return _0x35c29f+_0x347ae6;},'GgYtD':'Неизвестная\x20ошибка','gVcKi':'error','PseQQ':function(_0x1d6867,_0x1648bd,_0x44f6e1){return _0x1d6867(_0x1648bd,_0x44f6e1);},'WQPXk':function(_0x324441,_0x2ee487){return _0x324441+_0x2ee487;},'LmCBj':_0x3ae0bf(0x343),'MQIHK':_0x3ae0bf(0x363)},_0x30fe0a=document['getElementById'](_0x3ae0bf(0x2e9)),_0x262c1a=document['getElementById'](_0x20d00b[_0x3ae0bf(0x3fd)]);if(_0x20d00b['EsaXh'](_0x30fe0a,_0x262c1a)){if(_0x181f4d&&(materialHistoryLoaded=!0x1),!materialHistoryLoaded||_0x181f4d){_0x30fe0a['style'][_0x3ae0bf(0x362)]='block',_0x262c1a[_0x3ae0bf(0x1d1)]='';try{const _0xbfc513=await _0x20d00b['OOqLh'](makeApiRequest,API_CONFIG['ENDPOINTS'][_0x3ae0bf(0x36e)]);_0xbfc513['success']?(materialHistory=_0xbfc513['data']||[],materialHistoryLoaded=!0x0,displayMaterialHistory(materialHistory)):showNotification(_0x20d00b['HUBAp'](_0x3ae0bf(0x343),_0xbfc513[_0x3ae0bf(0x183)]||_0x20d00b[_0x3ae0bf(0x4f5)]),_0x20d00b['gVcKi']);}catch(_0x2d745a){_0x20d00b[_0x3ae0bf(0x3d1)](showNotification,_0x20d00b['WQPXk'](_0x20d00b[_0x3ae0bf(0x24d)],_0x2d745a['message']),_0x3ae0bf(0x183));}finally{_0x30fe0a['style']['display']=_0x20d00b['MQIHK'];}}else displayMaterialHistory(materialHistory);}}function formatHistoryNumber(_0x5f16a3,_0xab8368){const _0x5bc9eb=a0_0x1522ec,_0xbaad44={'Crbol':function(_0x498b36,_0x22a6f6){return _0x498b36(_0x22a6f6);},'yNnkr':'ru-RU'};if(null==_0x5f16a3||''===_0x5f16a3)return'';const _0x1a8599=_0xbaad44[_0x5bc9eb(0x321)](Number,_0x5f16a3);if(!Number['isFinite'](_0x1a8599))return _0x5f16a3;const _0x1130f3=_0x1a8599['toLocaleString'](_0xbaad44[_0x5bc9eb(0x3d8)],{'maximumFractionDigits':0x2});return _0xab8368?_0x1130f3+'\x20'+_0xab8368:_0x1130f3;}function formatHistoryChange(_0x25919f,_0x5c4938){const _0xf0d3f8=a0_0x1522ec,_0x15135e={'YLxMo':function(_0x5dad9b,_0x564f99){return _0x5dad9b>_0x564f99;},'ISSqM':function(_0x377d43,_0x1d6fbb){return _0x377d43<_0x1d6fbb;},'eAUnd':'ru-RU'};if(null==_0x25919f||''===_0x25919f)return'';const _0x1f4f54=Number(_0x25919f);if(!Number[_0xf0d3f8(0x331)](_0x1f4f54))return _0x25919f;const _0x16d7ef=_0x15135e[_0xf0d3f8(0x1ef)](_0x1f4f54,0x0)?'+':_0x15135e[_0xf0d3f8(0x285)](_0x1f4f54,0x0)?'-':'',_0x3fd007=Math['abs'](_0x1f4f54)['toLocaleString'](_0x15135e['eAUnd'],{'maximumFractionDigits':0x2});return _0x5c4938?''+_0x16d7ef+_0x3fd007+'\x20'+_0x5c4938:''+_0x16d7ef+_0x3fd007;}function formatHistoryDate(_0x569b17){const _0x46ecb8=a0_0x1522ec;if(!_0x569b17)return'';const _0xdd5949=_0x46ecb8(0x34c)==typeof _0x569b17?_0x569b17[_0x46ecb8(0x1b1)]('\x20','T'):_0x569b17,_0x5bb055=new Date(_0xdd5949);return Number[_0x46ecb8(0x443)](_0x5bb055[_0x46ecb8(0x1ad)]())?_0x569b17:_0x5bb055['toLocaleString']('ru-RU');}function displayMaterialHistory(_0xcb417a=materialHistory){const _0x3a3f4d=a0_0x1522ec,_0x1005c5={'VykxN':function(_0x1bf66c,_0x3308b2){return _0x1bf66c(_0x3308b2);},'aGMBu':function(_0x28b053,_0x5a53d6){return _0x28b053(_0x5a53d6);},'eYzvQ':function(_0x27a035,_0x221161,_0x1b9c9c){return _0x27a035(_0x221161,_0x1b9c9c);},'gjsSk':function(_0xe3310d,_0x542887){return _0xe3310d(_0x542887);},'PmbhE':_0x3a3f4d(0x162),'biimD':'materialHistoryTable'},_0x17d40c=document['getElementById']('materialHistoryTableBody');if(_0x17d40c){if(_0x17d40c[_0x3a3f4d(0x1d1)]='',!_0xcb417a||0x0===_0xcb417a['length'])return _0x17d40c[_0x3a3f4d(0x1d1)]=_0x1005c5['PmbhE'],void _0x1005c5['aGMBu'](refreshTableSorting,_0x3a3f4d(0x391));_0xcb417a['forEach'](_0xf050d2=>{const _0x24acf0=_0x3a3f4d,_0x20b0a6=document[_0x24acf0(0x265)]('tr'),_0x493afe=_0xf050d2['unit']||'',_0x47392b=_0x1005c5['VykxN'](Number,_0xf050d2['change_amount']),_0x15896a=Number(_0xf050d2[_0x24acf0(0x2c0)]),_0x37a7f6=Number[_0x24acf0(0x331)](_0x47392b)?_0x47392b:'',_0x5b55b0=Number[_0x24acf0(0x331)](_0x15896a)?_0x15896a:'',_0x2368ce=_0xf050d2['created_at']?_0x1005c5['aGMBu'](String,_0xf050d2['created_at'])[_0x24acf0(0x1b1)]('\x20','T'):'';_0x20b0a6[_0x24acf0(0x1d1)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+(_0xf050d2['id']??'')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+(_0xf050d2['material_name']||'-')+_0x24acf0(0x50f)+(_0xf050d2['change_type']||'-')+_0x24acf0(0x3f0)+_0x37a7f6+'\x22>'+_0x1005c5[_0x24acf0(0x3ff)](formatHistoryChange,_0xf050d2[_0x24acf0(0x197)],_0x493afe)+_0x24acf0(0x3f0)+_0x5b55b0+'\x22>'+_0x1005c5[_0x24acf0(0x3ff)](formatHistoryNumber,_0xf050d2[_0x24acf0(0x2c0)],_0x493afe)+_0x24acf0(0x50f)+(_0xf050d2[_0x24acf0(0x18f)]||'')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+(_0xf050d2['performed_by']||'')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20data-sort-value=\x22'+_0x2368ce+'\x22>'+_0x1005c5[_0x24acf0(0x334)](formatHistoryDate,_0xf050d2[_0x24acf0(0x236)])+_0x24acf0(0x30e),_0x17d40c[_0x24acf0(0x319)](_0x20b0a6);}),refreshTableSorting(_0x1005c5['biimD']);}}function filterMaterialHistory(_0xba51a1){const _0x31bc98=a0_0x1522ec,_0x3b2c56={'sIiSr':function(_0x436f92,_0x742680){return _0x436f92(_0x742680);}};if(!_0xba51a1)return void _0x3b2c56[_0x31bc98(0x1aa)](displayMaterialHistory,materialHistory);const _0x4e5bc7=_0xba51a1['toLowerCase']();displayMaterialHistory(materialHistory[_0x31bc98(0x3ae)](_0x24ad59=>[_0x24ad59['id'],_0x24ad59['material_id'],_0x24ad59['material_name'],_0x24ad59[_0x31bc98(0x4d0)],_0x24ad59[_0x31bc98(0x197)],_0x24ad59['resulting_quantity'],_0x24ad59[_0x31bc98(0x3ce)],_0x24ad59['description'],_0x24ad59['created_at']][_0x31bc98(0x143)](_0x4c7b05=>null!=_0x4c7b05&&String(_0x4c7b05)[_0x31bc98(0x148)]()[_0x31bc98(0x28f)](_0x4e5bc7))));}async function toggleMaterialHistoryView(){const _0x379f94=a0_0x1522ec,_0x23b9df={'WXfwG':_0x379f94(0x438),'llbiR':_0x379f94(0x404),'xwfLg':'searchMaterials','hcDkQ':'exportMaterials','cibYu':function(_0x52da4e,_0x99fad4){return _0x52da4e&&_0x99fad4;},'zLFuO':_0x379f94(0x363),'Eywhn':_0x379f94(0x300),'yPfIM':function(_0x30a170,_0x2764bf){return _0x30a170(_0x2764bf);},'Czoyp':'📦\x20Материалы'},_0x1aa67e=document['getElementById'](_0x23b9df['WXfwG']),_0x1f6cfc=document[_0x379f94(0x408)]('materialsTableContainer'),_0x1547ed=document[_0x379f94(0x408)](_0x23b9df[_0x379f94(0x193)]),_0x56aef9=document['getElementById'](_0x379f94(0x442)),_0x17a13b=document['getElementById']('materialsHistoryLoading'),_0x48b5c3=document['getElementById'](_0x23b9df[_0x379f94(0x23e)]),_0x75e2bd=document['getElementById']('addMaterial'),_0x3d97d9=document[_0x379f94(0x408)](_0x23b9df[_0x379f94(0x39c)]),_0x1e3fad=document[_0x379f94(0x408)]('importMaterials');_0x23b9df[_0x379f94(0x385)](_0x1aa67e,_0x1f6cfc)&&_0x1547ed&&(isMaterialHistoryView?(isMaterialHistoryView=!0x1,_0x1aa67e[_0x379f94(0x2a8)]='📜\x20История',_0x1547ed['style'][_0x379f94(0x362)]=_0x23b9df[_0x379f94(0x355)],_0x17a13b&&(_0x17a13b[_0x379f94(0x396)][_0x379f94(0x362)]=_0x379f94(0x363)),_0x1f6cfc['style']['display']=_0x23b9df[_0x379f94(0x239)],_0x75e2bd&&(_0x75e2bd['style'][_0x379f94(0x362)]=''),_0x3d97d9&&(_0x3d97d9[_0x379f94(0x396)]['display']=''),_0x1e3fad&&(_0x1e3fad[_0x379f94(0x396)]['display']=''),_0x48b5c3?filterMaterials({'target':_0x48b5c3}):_0x23b9df[_0x379f94(0x4a9)](displayMaterials,materials)):(isMaterialHistoryView=!0x0,_0x1aa67e[_0x379f94(0x2a8)]=_0x23b9df[_0x379f94(0x16e)],_0x1f6cfc['style']['display']='none',_0x56aef9&&(_0x56aef9['style']['display']=_0x23b9df[_0x379f94(0x355)]),_0x1547ed[_0x379f94(0x396)][_0x379f94(0x362)]='block',_0x17a13b&&(_0x17a13b['style']['display']=_0x379f94(0x300)),_0x75e2bd&&(_0x75e2bd[_0x379f94(0x396)][_0x379f94(0x362)]=_0x23b9df[_0x379f94(0x355)]),_0x3d97d9&&(_0x3d97d9['style'][_0x379f94(0x362)]=_0x23b9df[_0x379f94(0x355)]),_0x1e3fad&&(_0x1e3fad[_0x379f94(0x396)]['display']='none'),await _0x23b9df['yPfIM'](loadMaterialHistory,!0x0),_0x48b5c3&&_0x48b5c3['value']&&_0x23b9df['yPfIM'](filterMaterialHistory,_0x48b5c3['value'][_0x379f94(0x148)]())));}function filterMaterials(_0x558292){const _0x5ddba0=a0_0x1522ec,_0x5e2011={'Ltamk':function(_0x5888e3,_0x15b3fa){return _0x5888e3(_0x15b3fa);}},_0x8d6e58=(_0x558292['target'][_0x5ddba0(0x3dc)]||'')['toLowerCase']();if(isMaterialHistoryView)return void filterMaterialHistory(_0x8d6e58);if(!_0x8d6e58)return void _0x5e2011[_0x5ddba0(0x409)](displayMaterials,materials);displayMaterials(materials['filter'](_0x5f3b51=>[_0x5f3b51['id'],_0x5f3b51['name'],_0x5f3b51[_0x5ddba0(0x15e)],_0x5f3b51['unit'],_0x5f3b51['quantity']][_0x5ddba0(0x143)](_0xfb856f=>null!=_0xfb856f&&String(_0xfb856f)[_0x5ddba0(0x148)]()['includes'](_0x8d6e58))));}function addNewMaterial(){const _0xa67f2b=a0_0x1522ec,_0x144f98={'nTrbV':_0xa67f2b(0x325),'vsZca':function(_0x270840,_0x4ce7ae,_0x348617,_0x26a3a6,_0x2633ed){return _0x270840(_0x4ce7ae,_0x348617,_0x26a3a6,_0x2633ed);},'QGAEr':'.remove-add-material-button','fOyaX':function(_0x1125ca,_0x4a8742){return _0x1125ca===_0x4a8742;},'RuEWY':function(_0x2e5238,_0x13b64c){return _0x2e5238===_0x13b64c;},'maUfz':'Добавьте\x20хотя\x20бы\x20один\x20материал','ZJECR':_0xa67f2b(0x183),'WtZGA':function(_0x51cb93,_0x3c2145){return _0x51cb93(_0x3c2145);},'URefr':_0xa67f2b(0x313),'yphKQ':function(_0x12ee9b,_0x3427a9){return _0x12ee9b(_0x3427a9);},'pwSIr':_0xa67f2b(0x2a5),'uTPpE':'input[data-field=\x22quantity\x22]','yBNiP':function(_0x1609b1,_0x289255,_0x422b52){return _0x1609b1(_0x289255,_0x422b52);},'dqhOg':_0xa67f2b(0x37e),'KhmpP':'Выберите\x20единицу\x20измерения','QsXey':function(_0x2ae34b,_0x4aa354){return _0x2ae34b<_0x4aa354;},'rOUUy':function(_0x43e6b9,_0x4fb776,_0x5798f1){return _0x43e6b9(_0x4fb776,_0x5798f1);},'pxyac':'POST','cbiYu':'Не\x20удалось\x20добавить\x20материал','ftJrq':function(_0xecf26c){return _0xecf26c();},'EwAjG':_0xa67f2b(0x4a6),'IlXeY':_0xa67f2b(0x29c),'zuIjl':_0xa67f2b(0x4a5),'VufWw':_0xa67f2b(0x504),'xFBPh':'modal-subtitle','cNczd':'Заполните\x20данные\x20и\x20добавьте\x20один\x20или\x20несколько\x20материалов.','JrAJB':_0xa67f2b(0x4aa),'cluxQ':_0xa67f2b(0x44e),'OaddT':_0xa67f2b(0x264),'DemZv':'button','rZvMA':_0xa67f2b(0x1c9),'sFWbH':'modal-actions','tlOgL':'Отмена','RluiL':_0xa67f2b(0x4e1),'RpqWq':function(_0x434744,_0x175033){return _0x434744>_0x175033;},'lLEdD':_0xa67f2b(0x38c),'pPYVC':'submit'},_0x580182=document[_0xa67f2b(0x408)](_0x144f98['EwAjG']);_0x580182&&_0x580182[_0xa67f2b(0x1b6)]();const _0x1aaa76=document['createElement'](_0x144f98[_0xa67f2b(0x26d)]);_0x1aaa76['className']=_0xa67f2b(0x4b7),_0x1aaa76['id']='addMaterialModal',_0x1aaa76[_0xa67f2b(0x396)][_0xa67f2b(0x362)]=_0xa67f2b(0x4c3);const _0x362240=document['createElement'](_0x144f98['IlXeY']);_0x362240[_0xa67f2b(0x3ad)]='modal-content';const _0x27b4ac=document[_0xa67f2b(0x265)]('h3');_0x27b4ac[_0xa67f2b(0x3ad)]=_0x144f98['zuIjl'],_0x27b4ac[_0xa67f2b(0x2a8)]=_0x144f98['VufWw'];const _0x35c51f=document['createElement']('p');_0x35c51f[_0xa67f2b(0x3ad)]=_0x144f98['xFBPh'],_0x35c51f[_0xa67f2b(0x2a8)]=_0x144f98[_0xa67f2b(0x41b)];const _0x5091af=document['createElement'](_0x144f98['JrAJB']);_0x5091af['id']=_0x144f98['cluxQ'];const _0x28a0a7=document['createElement'](_0x144f98[_0xa67f2b(0x26d)]);_0x28a0a7['id']='addMaterialItemsContainer',_0x28a0a7['style'][_0xa67f2b(0x362)]='flex',_0x28a0a7[_0xa67f2b(0x396)]['flexDirection']='column',_0x28a0a7[_0xa67f2b(0x396)][_0xa67f2b(0x4b9)]=_0x144f98['OaddT'];const _0x553690=document[_0xa67f2b(0x265)](_0x144f98[_0xa67f2b(0x43e)]);_0x553690[_0xa67f2b(0x258)]=_0x144f98[_0xa67f2b(0x43e)],_0x553690[_0xa67f2b(0x3ad)]=_0x144f98['rZvMA'],_0x553690[_0xa67f2b(0x2a8)]=_0xa67f2b(0x1ab);const _0x25c82b=document['createElement'](_0x144f98['IlXeY']);_0x25c82b['className']=_0x144f98[_0xa67f2b(0x3f1)];const _0x1e7045=document['createElement'](_0x144f98['DemZv']);_0x1e7045[_0xa67f2b(0x258)]=_0x144f98['DemZv'],_0x1e7045['className']=_0xa67f2b(0x1c9),_0x1e7045['textContent']=_0x144f98[_0xa67f2b(0x1cb)];const _0xa7e89=document['createElement']('button');_0xa7e89['type']='submit',_0xa7e89['className']='success',_0xa7e89['textContent']=_0x144f98[_0xa67f2b(0x24e)],_0x25c82b[_0xa67f2b(0x319)](_0x1e7045),_0x25c82b[_0xa67f2b(0x319)](_0xa7e89),_0x5091af[_0xa67f2b(0x319)](_0x28a0a7),_0x5091af['appendChild'](_0x553690),_0x5091af['appendChild'](_0x25c82b),_0x362240['appendChild'](_0x27b4ac),_0x362240['appendChild'](_0x35c51f),_0x362240[_0xa67f2b(0x319)](_0x5091af),_0x1aaa76[_0xa67f2b(0x319)](_0x362240),document['body'][_0xa67f2b(0x319)](_0x1aaa76);const _0x4a097d=Array[_0xa67f2b(0x204)](categories)&&_0x144f98['RpqWq'](categories[_0xa67f2b(0x503)],0x0)?categories['map'](_0x54776e=>_0x54776e['name'])[_0xa67f2b(0x3ae)](Boolean):[],_0x25436d=Array[_0xa67f2b(0x204)](UNITS)&&_0x144f98[_0xa67f2b(0x1c7)](UNITS[_0xa67f2b(0x503)],0x0)?UNITS[_0xa67f2b(0x312)]():['шт'];function _0x2ef472(_0x17978e,_0x167d2a,_0xcb85a2='',_0x307a4f=_0xa67f2b(0x2d4)){const _0x534ab8=_0xa67f2b,_0x48c9db=Array[_0x534ab8(0x379)](new Set((_0x167d2a||[])[_0x534ab8(0x1fe)](_0x4d1f89=>(_0x4d1f89??'')['trim']())['filter'](_0x425271=>_0x425271))),_0x50a3ce=[];_0x307a4f&&_0x50a3ce[_0x534ab8(0x1e9)](_0x534ab8(0x339)+(_0xcb85a2?'':'\x20selected')+'>'+_0x307a4f+_0x534ab8(0x323)),_0x48c9db['forEach'](_0x4b5fd9=>{const _0x5b4fbb=_0x534ab8,_0x40b431=_0x4b5fd9===_0xcb85a2;_0x50a3ce['push']('<option\x20value=\x22'+_0x4b5fd9+'\x22'+(_0x40b431?_0x5b4fbb(0x3d6):'')+'>'+_0x4b5fd9+_0x5b4fbb(0x323));}),_0xcb85a2&&!_0x48c9db[_0x534ab8(0x28f)](_0xcb85a2)&&_0x50a3ce[_0x534ab8(0x1e9)](_0x534ab8(0x304)+_0xcb85a2+'\x22\x20selected>'+_0xcb85a2+'</option>'),_0x17978e['innerHTML']=_0x50a3ce['join']('');}function _0x2b7e32(_0xd66f7={}){const _0x54aeb8=_0xa67f2b,_0x551582={'vChAs':_0x144f98[_0x54aeb8(0x36d)],'niriO':function(_0x23f18a){return _0x23f18a();},'ynVff':_0x54aeb8(0x29c),'gnqku':function(_0x3576de,_0x2f018e,_0x265839,_0x1b673d,_0x5dd77d){const _0x555e1e=_0x54aeb8;return _0x144f98[_0x555e1e(0x43c)](_0x3576de,_0x2f018e,_0x265839,_0x1b673d,_0x5dd77d);},'rKoBl':_0x54aeb8(0x216),'RHmlJ':_0x144f98[_0x54aeb8(0x206)]},_0x5d93dc=function(_0x7fe90c={}){const _0x333fe1=_0x54aeb8,_0xead8f0=document['createElement'](_0x551582['ynVff']);return _0xead8f0['className']='report-work-item\x20add-material-item',_0xead8f0['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22modal-form-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label>Раздел</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20class=\x22editable\x22\x20data-field=\x22category\x22></select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22modal-form-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label>Наименование</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20class=\x22editable\x22\x20data-field=\x22name\x22\x20placeholder=\x22Название\x20материала\x22\x20value=\x22'+(_0x7fe90c[_0x333fe1(0x4cf)]||'')+'\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22modal-form-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label>Единица\x20измерения</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20class=\x22editable\x22\x20data-field=\x22unit\x22></select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22modal-form-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label>Количество</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22number\x22\x20class=\x22editable\x22\x20data-field=\x22quantity\x22\x20step=\x221\x22\x20min=\x220\x22\x20value=\x22'+(_0x7fe90c[_0x333fe1(0x144)]??0x0)+_0x333fe1(0x457),_0x2ef472(_0xead8f0[_0x333fe1(0x1f3)]('select[data-field=\x22category\x22]'),_0x4a097d,_0x7fe90c['category']||'',_0x333fe1(0x3c4)),_0x551582['gnqku'](_0x2ef472,_0xead8f0[_0x333fe1(0x1f3)](_0x333fe1(0x2a5)),_0x25436d,_0x7fe90c['unit']||'',_0x551582[_0x333fe1(0x378)]),_0xead8f0[_0x333fe1(0x1f3)](_0x551582[_0x333fe1(0x350)])[_0x333fe1(0x432)](_0x333fe1(0x38c),()=>{const _0x27f8e6=_0x333fe1;_0xead8f0['remove'](),_0x28a0a7[_0x27f8e6(0x1f3)](_0x551582['vChAs'])||_0x551582[_0x27f8e6(0x203)](_0x2b7e32);}),_0xead8f0;}(_0xd66f7);_0x28a0a7[_0x54aeb8(0x319)](_0x5d93dc);}_0x553690['addEventListener'](_0x144f98[_0xa67f2b(0x48d)],()=>_0x2b7e32()),_0x1e7045[_0xa67f2b(0x432)](_0x144f98['lLEdD'],()=>{const _0x30600d=_0xa67f2b;_0x1aaa76[_0x30600d(0x1b6)]();}),_0x1aaa76[_0xa67f2b(0x432)](_0xa67f2b(0x38c),_0x116c67=>{const _0x168861=_0xa67f2b;_0x144f98['fOyaX'](_0x116c67['target'],_0x1aaa76)&&_0x1aaa76[_0x168861(0x1b6)]();}),_0x362240[_0xa67f2b(0x432)]('click',_0x3e392b=>_0x3e392b[_0xa67f2b(0x2ef)]()),_0x144f98[_0xa67f2b(0x28c)](_0x2b7e32),_0x5091af[_0xa67f2b(0x432)](_0x144f98[_0xa67f2b(0x3e3)],async _0x4e2d93=>{const _0x1a2f4e=_0xa67f2b;_0x4e2d93[_0x1a2f4e(0x415)]();const _0x4d36fe=Array[_0x1a2f4e(0x379)](_0x28a0a7[_0x1a2f4e(0x1e6)]('.add-material-item'));if(_0x144f98['RuEWY'](0x0,_0x4d36fe[_0x1a2f4e(0x503)]))return void showNotification(_0x144f98[_0x1a2f4e(0x4b6)],_0x144f98['ZJECR']);const _0x18dc51=[];for(const _0x14aa72 of _0x4d36fe){const _0x46e5b5=_0x525366=>_0x14aa72['querySelector'](_0x525366),_0x21ac5e=_0x144f98['WtZGA'](_0x46e5b5,_0x144f98[_0x1a2f4e(0x4ad)]),_0x3ad76e=_0x46e5b5(_0x1a2f4e(0x1a5)),_0x4d039c=_0x144f98['yphKQ'](_0x46e5b5,_0x144f98['pwSIr']),_0x3f049b=_0x144f98[_0x1a2f4e(0x20e)](_0x46e5b5,_0x144f98['uTPpE']),_0x186cbc=(_0x3ad76e?.['value']||'')[_0x1a2f4e(0x4eb)](),_0x35b7a6=(_0x21ac5e?.[_0x1a2f4e(0x3dc)]||'')['trim'](),_0x256f7b=(_0x4d039c?.[_0x1a2f4e(0x3dc)]||'')['trim'](),_0x5e4dab=parseFloat(_0x3f049b?.['value']||'0')||0x0;if(!_0x35b7a6)return _0x144f98['yBNiP'](showNotification,_0x144f98['dqhOg'],_0x144f98[_0x1a2f4e(0x219)]),void _0x21ac5e[_0x1a2f4e(0x174)]();if(!_0x186cbc)return showNotification('Наименование\x20материала\x20не\x20может\x20быть\x20пустым',_0x144f98['ZJECR']),void _0x3ad76e['focus']();if(!_0x256f7b)return _0x144f98['yBNiP'](showNotification,_0x144f98['KhmpP'],_0x144f98[_0x1a2f4e(0x219)]),void _0x4d039c['focus']();if(_0x144f98[_0x1a2f4e(0x3f4)](_0x5e4dab,0x0))return _0x144f98[_0x1a2f4e(0x458)](showNotification,'Количество\x20не\x20может\x20быть\x20отрицательным',_0x144f98['ZJECR']),void _0x3f049b['focus']();_0x18dc51['push']({'name':_0x186cbc,'category':_0x35b7a6,'unit':_0x256f7b,'quantity':_0x5e4dab,'performed_by':getCurrentUsername()});}_0xa7e89[_0x1a2f4e(0x365)]=!0x0,_0x1e7045['disabled']=!0x0,_0x553690['disabled']=!0x0;let _0x11356f=0x0;const _0x1cb805=[];for(const _0x1a27e8 of _0x18dc51)try{showNotification(_0x1a2f4e(0x411)+_0x1a27e8['name']+_0x1a2f4e(0x208),_0x1a2f4e(0x22b));const _0x229f58=await _0x144f98[_0x1a2f4e(0x2e6)](makeApiRequest,API_CONFIG[_0x1a2f4e(0x41e)]['MATERIALS'],{'method':_0x144f98['pxyac'],'body':JSON[_0x1a2f4e(0x18d)](_0x1a27e8)});if(_0x229f58&&_0x229f58[_0x1a2f4e(0x22b)])_0x11356f++;else{const _0x3dc9aa=_0x229f58?.[_0x1a2f4e(0x374)]||_0x229f58?.['error']||_0x144f98[_0x1a2f4e(0x45e)];_0x1cb805[_0x1a2f4e(0x1e9)](_0x3dc9aa);}}catch(_0x10fa60){_0x1cb805['push']('Ошибка\x20при\x20добавлении\x20материала:\x20'+_0x10fa60[_0x1a2f4e(0x168)]);}_0x11356f>0x0?(materialHistoryLoaded=!0x1,await _0x144f98[_0x1a2f4e(0x28c)](loadMaterials),_0x1aaa76['remove'](),showNotification('Материалов\x20успешно\x20добавлено:\x20'+_0x11356f,'success')):(_0xa7e89[_0x1a2f4e(0x365)]=!0x1,_0x1e7045['disabled']=!0x1,_0x553690['disabled']=!0x1),_0x1cb805[_0x1a2f4e(0x503)]>0x0&&showNotification(_0x1cb805['join']('\x0a'),_0x144f98[_0x1a2f4e(0x219)]);});}async function saveMaterial(_0x498239){const _0x361a7c=a0_0x1522ec,_0xc7a2b3={'YZYpc':'Строка\x20материала\x20не\x20найдена','ltTGu':'error','mTBYU':function(_0x2a2d6b){return _0x2a2d6b();},'hnxHu':function(_0x5aa7b3,_0x39a3f9){return _0x5aa7b3<_0x39a3f9;},'nKOYr':_0x361a7c(0x2c1),'nvoHr':function(_0x5b0fef,_0x4eef7c,_0x73956f){return _0x5b0fef(_0x4eef7c,_0x73956f);},'nfhfO':_0x361a7c(0x14f),'eDBpA':function(_0x3b082b){return _0x3b082b();},'mkpCt':_0x361a7c(0x3a1),'VWEVB':function(_0x58a31b,_0x8c36b5,_0x3c9fdf){return _0x58a31b(_0x8c36b5,_0x3c9fdf);},'RsWjq':_0x361a7c(0x1ac)},_0x54ba2f=document[_0x361a7c(0x1f3)]('#materialsTableBody\x20tr[data-material-id=\x22'+_0x498239+'\x22]');if(!_0x54ba2f)return void showNotification(_0xc7a2b3['YZYpc'],_0xc7a2b3['ltTGu']);const _0xd0e816=_0x54ba2f[_0x361a7c(0x1e6)]('.editable'),_0x3d4923={};if(_0xd0e816[_0x361a7c(0x34e)](_0x1caa7b=>{const _0x484666=_0x361a7c,_0x382233=_0x1caa7b['getAttribute'](_0x484666(0x464));_0x3d4923[_0x382233]=_0x1caa7b['value'];}),_0x3d4923['performed_by']=_0xc7a2b3['mTBYU'](getCurrentUsername),_0x3d4923['name']&&_0x3d4923['category']&&_0x3d4923[_0x361a7c(0x352)]){if(_0x3d4923['quantity']=parseFloat(_0x3d4923['quantity']),isNaN(_0x3d4923[_0x361a7c(0x144)])||_0xc7a2b3['hnxHu'](_0x3d4923['quantity'],0x0))showNotification(_0xc7a2b3['nKOYr'],_0xc7a2b3[_0x361a7c(0x478)]);else try{const _0x48afae=await _0xc7a2b3[_0x361a7c(0x228)](makeApiRequest,API_CONFIG[_0x361a7c(0x41e)][_0x361a7c(0x3a2)]+'/'+_0x498239,{'method':_0x361a7c(0x1be),'body':JSON['stringify'](_0x3d4923)});if(_0x48afae&&_0x48afae['success'])_0xc7a2b3['nvoHr'](showNotification,_0xc7a2b3['nfhfO'],'success'),materialHistoryLoaded=!0x1,await _0xc7a2b3['eDBpA'](loadMaterials);else showNotification(_0x48afae?.['detail']||_0x48afae?.[_0x361a7c(0x183)]||_0xc7a2b3[_0x361a7c(0x4bf)],_0xc7a2b3['ltTGu']);}catch(_0x5303fd){_0xc7a2b3[_0x361a7c(0x4f1)](showNotification,_0xc7a2b3['RsWjq']+_0x5303fd['message'],_0x361a7c(0x183));}}else _0xc7a2b3['nvoHr'](showNotification,'Заполните\x20все\x20обязательные\x20поля\x20для\x20материала','error');}async function deleteMaterial(_0x1b260c){const _0x3063dd=a0_0x1522ec,_0x243c16={'sKOXR':function(_0x523eeb,_0x2cb59c){return _0x523eeb(_0x2cb59c);},'FdhkH':'Вы\x20уверены,\x20что\x20хотите\x20удалить\x20этот\x20материал?','jNrQo':function(_0x27cd99,_0x55326f,_0x4bddb4){return _0x27cd99(_0x55326f,_0x4bddb4);},'tuouW':'Материал\x20успешно\x20удален','VySOB':function(_0x2c27bd){return _0x2c27bd();},'JLFPw':function(_0x16f9ec,_0x311aec,_0x2ab749){return _0x16f9ec(_0x311aec,_0x2ab749);},'aOGbf':function(_0x169d1b,_0x118dd5){return _0x169d1b+_0x118dd5;},'IuujJ':'Ошибка\x20при\x20удалении\x20материала:\x20'};if(_0x243c16['sKOXR'](confirm,_0x243c16[_0x3063dd(0x447)]))try{const _0x4ca1e9=await makeApiRequest(API_CONFIG[_0x3063dd(0x41e)]['MATERIALS']+'/'+_0x1b260c,{'method':'DELETE'});if(_0x4ca1e9&&_0x4ca1e9[_0x3063dd(0x22b)])_0x243c16[_0x3063dd(0x34b)](showNotification,_0x243c16['tuouW'],_0x3063dd(0x22b)),materialHistoryLoaded=!0x1,await _0x243c16[_0x3063dd(0x3b3)](loadMaterials);else _0x243c16[_0x3063dd(0x34b)](showNotification,_0x4ca1e9?.['detail']||_0x4ca1e9?.[_0x3063dd(0x183)]||_0x3063dd(0x1e4),'error');}catch(_0x15d235){_0x243c16['JLFPw'](showNotification,_0x243c16['aOGbf'](_0x243c16['IuujJ'],_0x15d235[_0x3063dd(0x168)]),_0x3063dd(0x183));}}async function exportMaterialsToExcel(){const _0x50e3f7=a0_0x1522ec,_0x4d7de4={'TUgrv':function(_0x52b8ce,_0x307e28,_0x439512){return _0x52b8ce(_0x307e28,_0x439512);},'rUPNb':function(_0x13fdff,_0xda8d57){return _0x13fdff(_0xda8d57);},'NxDqO':function(_0x566f9f,_0x27fc61){return _0x566f9f||_0x27fc61;},'Lxfzb':_0x50e3f7(0x22b),'gzVUb':function(_0x5c7042,_0x4da557,_0x59201f){return _0x5c7042(_0x4da557,_0x59201f);},'HhmRQ':'Ошибка\x20при\x20экспорте\x20материалов:\x20','GNSIH':_0x50e3f7(0x183)};try{const _0x55d523=localStorage['getItem']('token'),_0x133e01=await _0x4d7de4[_0x50e3f7(0x36a)](fetch,_0x4d7de4['rUPNb'](buildApiUrl,API_CONFIG[_0x50e3f7(0x41e)][_0x50e3f7(0x369)]),{'headers':_0x55d523?{'Authorization':'Bearer\x20'+_0x55d523}:{}});if(!_0x133e01['ok']){const _0x4fc583=await _0x133e01[_0x50e3f7(0x2ae)]();throw new Error(_0x4d7de4[_0x50e3f7(0x16b)](_0x4fc583,'Ошибка\x20скачивания\x20файла'));}const _0x2889b7=await _0x133e01[_0x50e3f7(0x30f)](),_0x503038=window['URL']['createObjectURL'](_0x2889b7),_0x40ff2a=document['createElement']('a');_0x40ff2a['href']=_0x503038,_0x40ff2a['download']=_0x50e3f7(0x403)+new Date()['toISOString']()[_0x50e3f7(0x3a4)]('T')[0x0]+'.xlsx',document[_0x50e3f7(0x2a9)]['appendChild'](_0x40ff2a),_0x40ff2a['click'](),document[_0x50e3f7(0x2a9)][_0x50e3f7(0x1c1)](_0x40ff2a),window['URL']['revokeObjectURL'](_0x503038),showNotification(_0x50e3f7(0x427),_0x4d7de4['Lxfzb']);}catch(_0x1347e8){_0x4d7de4['gzVUb'](showNotification,_0x4d7de4['HhmRQ']+_0x1347e8['message'],_0x4d7de4[_0x50e3f7(0x15d)]);}}function triggerImportMaterials(){const _0x3482f7=a0_0x1522ec,_0x4df8b6=document[_0x3482f7(0x408)]('materialsImportInput');_0x4df8b6&&_0x4df8b6['click']();}async function handleMaterialsImport(_0x228b19){const _0x5a4ea5=a0_0x1522ec,_0x47adb1={'kIwdf':function(_0x1d6ef3,_0x14ae7d,_0x48be4b){return _0x1d6ef3(_0x14ae7d,_0x48be4b);},'ebyOv':function(_0x5b567c,_0x24196f){return _0x5b567c(_0x24196f);},'oTOBq':'Импорт\x20успешно\x20выполнен','WzFqn':function(_0x4b0a39,_0xf22e5b){return _0x4b0a39>_0xf22e5b;},'jFTuY':_0x5a4ea5(0x492),'CGIiG':'success','YNWSd':_0x5a4ea5(0x183)},_0x4288b7=_0x228b19['target'][_0x5a4ea5(0x4d5)][0x0];if(_0x4288b7){_0x228b19[_0x5a4ea5(0x45a)]['value']='';try{const _0x151dff=new FormData();_0x151dff['append']('file',_0x4288b7);const _0x450875=localStorage[_0x5a4ea5(0x21a)](_0x5a4ea5(0x465)),_0xb14b61=await _0x47adb1['kIwdf'](fetch,_0x47adb1[_0x5a4ea5(0x42a)](buildApiUrl,API_CONFIG['ENDPOINTS'][_0x5a4ea5(0x4c1)]),{'method':'POST','headers':_0x450875?{'Authorization':'Bearer\x20'+_0x450875}:{},'body':_0x151dff}),_0x4c3249=await _0xb14b61['text']();let _0x4efa7f={};try{_0x4efa7f=_0x4c3249?JSON[_0x5a4ea5(0x42f)](_0x4c3249):{};}catch(_0x888d0b){throw new Error('Не\x20удалось\x20обработать\x20ответ\x20сервера');}if(!_0xb14b61['ok']||!_0x4efa7f[_0x5a4ea5(0x22b)]){const _0x1ecd04=_0x4efa7f[_0x5a4ea5(0x374)]||_0x4efa7f[_0x5a4ea5(0x183)]||_0x5a4ea5(0x4dc);throw new Error(_0x1ecd04);}await loadMaterials(),materialHistoryLoaded=!0x1;let _0x5c7991=_0x4efa7f[_0x5a4ea5(0x168)]||_0x47adb1['oTOBq'];_0x4efa7f[_0x5a4ea5(0x2ee)]&&_0x47adb1[_0x5a4ea5(0x1f7)](_0x4efa7f[_0x5a4ea5(0x2ee)]['length'],0x0)?(_0x5c7991+='.\x20Ошибок:\x20'+_0x4efa7f[_0x5a4ea5(0x2ee)][_0x5a4ea5(0x503)],console[_0x5a4ea5(0x2e4)](_0x47adb1[_0x5a4ea5(0x3d7)],_0x4efa7f[_0x5a4ea5(0x2ee)]),showNotification(_0x5c7991,_0x5a4ea5(0x275))):showNotification(_0x5c7991,_0x47adb1[_0x5a4ea5(0x4c4)]);}catch(_0x1dff87){showNotification(_0x5a4ea5(0x383)+_0x1dff87[_0x5a4ea5(0x168)],_0x47adb1['YNWSd']);}}}async function downloadMaterialsTemplate(){const _0x5b9f5b=a0_0x1522ec,_0x4a6c85={'RjgAB':_0x5b9f5b(0x465),'DhUNS':function(_0x1f4e79,_0x5a3b3e,_0x5f31a1){return _0x1f4e79(_0x5a3b3e,_0x5f31a1);},'CLxLJ':function(_0x4f14fb,_0xa2d854,_0x4cf81f){return _0x4f14fb(_0xa2d854,_0x4cf81f);},'ahIAJ':'success','vUTQZ':_0x5b9f5b(0x183)};try{const _0x388e15=localStorage['getItem'](_0x4a6c85['RjgAB']),_0x26c0b6=await _0x4a6c85['DhUNS'](fetch,buildApiUrl(API_CONFIG['ENDPOINTS']['MATERIALS_TEMPLATE']),{'headers':_0x388e15?{'Authorization':_0x5b9f5b(0x170)+_0x388e15}:{}});if(!_0x26c0b6['ok']){const _0x590744=await _0x26c0b6['text']();throw new Error(_0x590744||_0x5b9f5b(0x147));}const _0x269e06=await _0x26c0b6['blob'](),_0x586676=window['URL']['createObjectURL'](_0x269e06),_0x57051b=document['createElement']('a');_0x57051b['href']=_0x586676,_0x57051b['download']='materials_template.xlsx',document['body']['appendChild'](_0x57051b),_0x57051b[_0x5b9f5b(0x38c)](),document['body'][_0x5b9f5b(0x1c1)](_0x57051b),window['URL'][_0x5b9f5b(0x428)](_0x586676),_0x4a6c85[_0x5b9f5b(0x28d)](showNotification,_0x5b9f5b(0x22c),_0x4a6c85[_0x5b9f5b(0x37f)]);}catch(_0xe1203){showNotification(_0x5b9f5b(0x1b0)+_0xe1203['message'],_0x4a6c85['vUTQZ']);}}async function loadCategories(){const _0x480db6=a0_0x1522ec,_0x56d106={'mxSmt':function(_0x5b9923,_0x5b8703){return _0x5b9923(_0x5b8703);},'pGNKu':_0x480db6(0x497),'IGZNF':_0x480db6(0x426),'meVeu':_0x480db6(0x4c3),'ReGmy':function(_0x1c1582,_0x2a7bd6,_0x4dec4b){return _0x1c1582(_0x2a7bd6,_0x4dec4b);},'YBGDS':'Ошибка\x20при\x20загрузке\x20разделов:\x20','OOckb':_0x480db6(0x183)};try{const _0x5153d4=await _0x56d106['mxSmt'](makeApiRequest,API_CONFIG[_0x480db6(0x41e)]['CATEGORIES']);if(_0x5153d4[_0x480db6(0x22b)]){categories=_0x5153d4[_0x480db6(0x249)]||[],document['getElementById'](_0x56d106['pGNKu'])[_0x480db6(0x225)]['contains'](_0x56d106['IGZNF'])&&await loadWorks(),displayMaterials(materials);const _0x4ce18e=document['getElementById'](_0x480db6(0x2d2));_0x4ce18e&&_0x56d106['meVeu']===_0x4ce18e['style'][_0x480db6(0x362)]&&(populateForemanSectionsSelect(),displayForemanSectionsList());}else showNotification('Ошибка\x20при\x20загрузке\x20разделов:\x20'+_0x5153d4[_0x480db6(0x183)],'error');}catch(_0x373426){_0x56d106['ReGmy'](showNotification,_0x56d106[_0x480db6(0x2fc)]+_0x373426[_0x480db6(0x168)],_0x56d106[_0x480db6(0x1f2)]);}}function displayCategoriesInModal(){const _0x470b12=a0_0x1522ec,_0x366604={'UrBTe':'category-name','afNDo':'category-actions','Pevtb':_0x470b12(0x1c9),'eogLJ':_0x470b12(0x38c),'znukE':_0x470b12(0x4dd),'tGrcq':'🗑️','dlCQB':function(_0x2af5b3,_0x57b51a){return _0x2af5b3!==_0x57b51a;}},_0x853df3=document['getElementById'](_0x470b12(0x27c));_0x853df3['innerHTML']='',_0x366604[_0x470b12(0x1a3)](0x0,categories['length'])?categories['forEach'](_0x474bbb=>{const _0x29d4ef=_0x470b12,_0x3b2a81=document['createElement']('div');_0x3b2a81['className']=_0x29d4ef(0x330),_0x3b2a81['dataset'][_0x29d4ef(0x46d)]=_0x474bbb['id'];const _0x4e2b4e=document['createElement'](_0x29d4ef(0x32c));_0x4e2b4e['className']=_0x366604[_0x29d4ef(0x450)],_0x4e2b4e[_0x29d4ef(0x2a8)]=_0x474bbb[_0x29d4ef(0x4cf)];const _0x64368b=document[_0x29d4ef(0x265)](_0x29d4ef(0x29c));_0x64368b['className']=_0x366604['afNDo'];const _0x1638f7=document['createElement'](_0x29d4ef(0x4dd));_0x1638f7[_0x29d4ef(0x3ad)]=_0x366604['Pevtb'],_0x1638f7[_0x29d4ef(0x2a8)]='✏️',_0x1638f7['addEventListener'](_0x366604['eogLJ'],()=>startEditCategory(_0x474bbb['id']));const _0x297c22=document['createElement'](_0x366604['znukE']);_0x297c22['className']=_0x29d4ef(0x46f),_0x297c22[_0x29d4ef(0x2a8)]=_0x366604[_0x29d4ef(0x35f)],_0x297c22['addEventListener'](_0x366604['eogLJ'],()=>deleteCategory(_0x474bbb['id'])),_0x64368b[_0x29d4ef(0x319)](_0x1638f7),_0x64368b[_0x29d4ef(0x319)](_0x297c22),_0x3b2a81[_0x29d4ef(0x319)](_0x4e2b4e),_0x3b2a81['appendChild'](_0x64368b),_0x853df3['appendChild'](_0x3b2a81);}):_0x853df3['innerHTML']='<div\x20style=\x22text-align:\x20center;\x20color:\x20var(--accent);\x20opacity:\x200.7;\x22>Нет\x20разделов</div>';}function openCategoryModal(){const _0x2b823b=a0_0x1522ec,_0x26105e={'FxyfY':function(_0x1d0d0b){return _0x1d0d0b();},'KClBa':'categoryModal','afJzx':_0x2b823b(0x4c3),'EBcTF':'newCategoryName'};_0x26105e['FxyfY'](displayCategoriesInModal),document['getElementById'](_0x26105e[_0x2b823b(0x3da)])[_0x2b823b(0x396)][_0x2b823b(0x362)]=_0x26105e[_0x2b823b(0x1ae)],document['getElementById']('newCategoryName')[_0x2b823b(0x3dc)]='',document['getElementById'](_0x26105e[_0x2b823b(0x488)])['focus']();}function closeCategoryModal(){const _0x1fc13d=a0_0x1522ec,_0x448956={'GeZZj':_0x1fc13d(0x363)};document['getElementById']('categoryModal')['style'][_0x1fc13d(0x362)]=_0x448956['GeZZj'];}function startEditCategory(_0x1e1e81){const _0x4023d0=a0_0x1522ec,_0x59a8e2={'JCoUx':_0x4023d0(0x28a),'LNonW':function(_0x1ad27d,_0x25df88){return _0x1ad27d===_0x25df88;},'LykQN':'Escape','gHBwA':function(_0x53c91c,_0x509773){return _0x53c91c(_0x509773);},'FPUBx':'editing','WeQai':_0x4023d0(0x2ae),'yUdWc':'login-input','Cgxez':_0x4023d0(0x2c8),'iCgQH':_0x4023d0(0x4ff),'ldNSx':'div','YzUyC':_0x4023d0(0x23d),'iATWr':'button','RJDsy':_0x4023d0(0x1c9),'EBPxR':_0x4023d0(0x485)},_0x16d874=document[_0x4023d0(0x1f3)]('.category-item[data-category-id=\x22'+_0x1e1e81+'\x22]');if(!_0x16d874)return;const _0x33a4b1=categories['find'](_0x361b64=>_0x361b64['id']===_0x1e1e81);if(!_0x33a4b1)return;_0x16d874[_0x4023d0(0x225)]['add'](_0x59a8e2['FPUBx']),_0x16d874[_0x4023d0(0x1d1)]='';const _0x32d38a=document['createElement'](_0x4023d0(0x161));_0x32d38a['type']=_0x59a8e2['WeQai'],_0x32d38a['value']=_0x33a4b1['name'],_0x32d38a['className']=_0x59a8e2[_0x4023d0(0x308)],_0x32d38a['setAttribute'](_0x59a8e2['Cgxez'],_0x59a8e2['iCgQH']);const _0x38326f=document[_0x4023d0(0x265)](_0x59a8e2['ldNSx']);_0x38326f[_0x4023d0(0x3ad)]=_0x59a8e2['YzUyC'];const _0x1c2cae=document[_0x4023d0(0x265)](_0x59a8e2['iATWr']);_0x1c2cae[_0x4023d0(0x3ad)]='success',_0x1c2cae['textContent']='💾',_0x1c2cae[_0x4023d0(0x432)]('click',()=>confirmEditCategory(_0x1e1e81));const _0x5ab2eb=document['createElement']('button');_0x5ab2eb['className']=_0x59a8e2['RJDsy'],_0x5ab2eb['textContent']='↩️',_0x5ab2eb[_0x4023d0(0x432)](_0x4023d0(0x38c),()=>cancelEditCategory(_0x1e1e81)),_0x38326f['appendChild'](_0x1c2cae),_0x38326f['appendChild'](_0x5ab2eb),_0x16d874[_0x4023d0(0x319)](_0x32d38a),_0x16d874[_0x4023d0(0x319)](_0x38326f),_0x32d38a[_0x4023d0(0x174)](),_0x32d38a[_0x4023d0(0x2e8)](),_0x32d38a['addEventListener'](_0x59a8e2[_0x4023d0(0x3e9)],_0x3b64d9=>{const _0x4103e3=_0x4023d0;_0x59a8e2['JCoUx']===_0x3b64d9['key']?(_0x3b64d9['preventDefault'](),confirmEditCategory(_0x1e1e81)):_0x59a8e2[_0x4103e3(0x25f)](_0x59a8e2[_0x4103e3(0x2a7)],_0x3b64d9['key'])&&(_0x3b64d9['preventDefault'](),_0x59a8e2['gHBwA'](cancelEditCategory,_0x1e1e81));});}function cancelEditCategory(_0x1c0848){const _0x234263=a0_0x1522ec,_0x16c813={'pplFH':_0x234263(0x27c)};displayCategoriesInModal();const _0x17c6e9=document[_0x234263(0x408)](_0x16c813['pplFH']);if(_0x17c6e9){const _0x4325c5=_0x17c6e9['querySelector']('.category-item[data-category-id=\x22'+_0x1c0848+_0x234263(0x1a2));_0x4325c5&&_0x4325c5[_0x234263(0x25d)]();}}async function confirmEditCategory(_0x549c57){const _0x53fb6e=a0_0x1522ec,_0x213c98={'lhtLP':function(_0x1654f5,_0x3c82c2,_0x187c91){return _0x1654f5(_0x3c82c2,_0x187c91);},'XCosq':'Обновление\x20раздела...','kMVQO':_0x53fb6e(0x22b),'zioGc':function(_0x41c34d){return _0x41c34d();},'PYaiK':function(_0x2ea9a3,_0x26ea10){return _0x2ea9a3+_0x26ea10;},'HQwSb':'Ошибка\x20при\x20обновлении\x20раздела:\x20','UKvRn':_0x53fb6e(0x183),'EbJQX':function(_0x381f1a){return _0x381f1a();}},_0x5c7ce6=categories['find'](_0x297cb4=>_0x297cb4['id']===_0x549c57);if(!_0x5c7ce6)return;const _0xdf9598=document[_0x53fb6e(0x1f3)]('.category-item[data-category-id=\x22'+_0x549c57+'\x22]'),_0x221f3d=_0xdf9598?_0xdf9598['querySelector'](_0x53fb6e(0x48e)):null,_0x36a964=_0x221f3d?_0x221f3d['value'][_0x53fb6e(0x4eb)]():'';if(!_0x36a964)return _0x213c98[_0x53fb6e(0x2b5)](showNotification,'Введите\x20название\x20раздела','error'),void(_0x221f3d&&_0x221f3d[_0x53fb6e(0x174)]());if(_0x5c7ce6['name']!==_0x36a964)try{showNotification(_0x213c98[_0x53fb6e(0x39b)],_0x53fb6e(0x22b));const _0x2c9df5=await makeApiRequest(API_CONFIG[_0x53fb6e(0x41e)]['CATEGORIES']+'/'+_0x549c57,{'method':_0x53fb6e(0x1be),'body':JSON['stringify']({'name':_0x36a964})});if(_0x2c9df5&&_0x2c9df5[_0x53fb6e(0x22b)])_0x213c98['lhtLP'](showNotification,'Раздел\x20успешно\x20обновлен',_0x213c98['kMVQO']),await loadCategories(),displayCategoriesInModal();else showNotification(_0x53fb6e(0x4ce)+(_0x2c9df5?.[_0x53fb6e(0x183)]||_0x2c9df5?.['detail']||_0x53fb6e(0x25c)),_0x53fb6e(0x183)),_0x213c98['zioGc'](displayCategoriesInModal);}catch(_0x4195e5){showNotification(_0x213c98['PYaiK'](_0x213c98[_0x53fb6e(0x2c9)],_0x4195e5[_0x53fb6e(0x168)]),_0x213c98[_0x53fb6e(0x337)]),_0x213c98['EbJQX'](displayCategoriesInModal);}else displayCategoriesInModal();}async function saveNewCategory(){const _0x165bcd=a0_0x1522ec,_0x2d77a7={'jdYXS':_0x165bcd(0x36c),'OABSX':_0x165bcd(0x22b),'XdWzt':function(_0x42afb2,_0x11dc1b,_0x28294f){return _0x42afb2(_0x11dc1b,_0x28294f);},'PMcqW':'token','EjLyy':_0x165bcd(0x242),'dLbss':'newCategoryName','ySMqL':function(_0x25093e){return _0x25093e();},'bBfQy':'Раздел\x20не\x20был\x20добавлен\x20в\x20базу\x20данных','tqylC':function(_0x2e5f0c,_0x3d613c,_0x2d5589){return _0x2e5f0c(_0x3d613c,_0x2d5589);},'iaUJN':_0x165bcd(0x183),'KvmZX':function(_0x51a079,_0x29a64e,_0xfc7d04){return _0x51a079(_0x29a64e,_0xfc7d04);},'jzLXx':_0x165bcd(0x2ea)},_0xd2c117=document[_0x165bcd(0x408)](_0x165bcd(0x1c2))[_0x165bcd(0x3dc)]['trim']();if(_0xd2c117)try{showNotification(_0x2d77a7[_0x165bcd(0x2b9)],_0x2d77a7[_0x165bcd(0x302)]);const _0x2ba531=await _0x2d77a7['XdWzt'](fetch,buildApiUrl(API_CONFIG[_0x165bcd(0x41e)][_0x165bcd(0x1de)]),{'method':_0x165bcd(0x19e),'headers':{'Content-Type':_0x165bcd(0x2c4),'Authorization':'Bearer\x20'+localStorage[_0x165bcd(0x21a)](_0x2d77a7['PMcqW'])},'body':JSON[_0x165bcd(0x18d)]({'name':_0xd2c117})});if(await checkIfCategoryExists(_0xd2c117))showNotification(_0x2d77a7[_0x165bcd(0x4e5)],_0x165bcd(0x22b)),document['getElementById'](_0x2d77a7['dLbss'])['value']='',_0x2d77a7[_0x165bcd(0x46e)](displayCategoriesInModal),document[_0x165bcd(0x408)]('works')[_0x165bcd(0x225)][_0x165bcd(0x200)]('active')&&await loadWorks();else{let _0x274f4e=_0x2d77a7[_0x165bcd(0x4e3)];try{const _0x3c6e00=await _0x2ba531['text']();if(_0x3c6e00){const _0x27a8c1=JSON['parse'](_0x3c6e00);_0x274f4e=_0x27a8c1['detail']||_0x27a8c1['error']||_0x274f4e;}}catch(_0x5376b5){}_0x2d77a7['tqylC'](showNotification,_0x165bcd(0x4ce)+_0x274f4e,_0x2d77a7['iaUJN']);}}catch(_0x2f351d){_0x2d77a7[_0x165bcd(0x3ca)](showNotification,_0x2d77a7[_0x165bcd(0x4ec)]+_0x2f351d['message'],_0x2d77a7['iaUJN']);}else showNotification('Введите\x20название\x20раздела',_0x165bcd(0x183));}async function checkIfCategoryExists(_0x4bcd75,_0x2d523b=0x5){const _0x26e7b2=a0_0x1522ec;for(let _0x17628a=0x0;_0x17628a<_0x2d523b;_0x17628a++){await loadCategories();if(categories['some'](_0x2efe56=>_0x2efe56[_0x26e7b2(0x4cf)]===_0x4bcd75))return!0x0;await new Promise(_0x313bfa=>setTimeout(_0x313bfa,0x1f4));}return!0x1;}async function deleteCategory(_0xdc446){const _0x2598d1=a0_0x1522ec,_0x3226b5={'MNeqN':function(_0x3ce55f,_0x15dc8a){return _0x3ce55f(_0x15dc8a);},'Udjdx':_0x2598d1(0x245),'PNXXd':function(_0x1a36c4,_0x5365e3,_0x5a7ddd){return _0x1a36c4(_0x5365e3,_0x5a7ddd);},'rtoZj':function(_0xe46a4a){return _0xe46a4a();},'aiIWS':'error','RKnCK':function(_0x1a3616,_0x31dc25,_0x1df064){return _0x1a3616(_0x31dc25,_0x1df064);},'ePhxs':_0x2598d1(0x426)};if(_0x3226b5[_0x2598d1(0x4f9)](confirm,_0x3226b5['Udjdx']))try{const _0x219aec=categories[_0x2598d1(0x3eb)](_0x31fe28=>_0x31fe28['id']===_0xdc446);if(!_0x219aec)return;_0x219aec[_0x2598d1(0x4cf)];const _0x3af7f3=await _0x3226b5['PNXXd'](fetch,_0x3226b5['MNeqN'](buildApiUrl,API_CONFIG['ENDPOINTS'][_0x2598d1(0x1de)]+'/'+_0xdc446),{'method':'DELETE','headers':{'Authorization':_0x2598d1(0x170)+localStorage[_0x2598d1(0x21a)](_0x2598d1(0x465))}});await new Promise(_0xa0f30e=>setTimeout(_0xa0f30e,0x3e8)),await _0x3226b5['rtoZj'](loadCategories);if(categories['some'](_0x6d1213=>_0x6d1213['id']===_0xdc446)){let _0x58741d=_0x2598d1(0x310);try{const _0x1bbe04=await _0x3af7f3['text']();if(_0x1bbe04){const _0x31ad18=JSON['parse'](_0x1bbe04);_0x58741d=_0x31ad18[_0x2598d1(0x374)]||_0x31ad18[_0x2598d1(0x183)]||_0x58741d;}}catch(_0xb662e9){}_0x3226b5['PNXXd'](showNotification,_0x2598d1(0x4ce)+_0x58741d,_0x3226b5[_0x2598d1(0x17f)]);}else _0x3226b5['RKnCK'](showNotification,_0x2598d1(0x4e9),_0x2598d1(0x22b)),displayCategoriesInModal(),document['getElementById']('works')['classList']['contains'](_0x3226b5['ePhxs'])&&await loadWorks();}catch(_0x131bec){showNotification('Ошибка\x20при\x20удалении\x20раздела:\x20'+_0x131bec[_0x2598d1(0x168)],_0x2598d1(0x183));}}function addBalance(_0x2446fd){const _0x524726=a0_0x1522ec,_0xdb2583={'sNokb':function(_0x1a1074,_0x21e806){return _0x1a1074(_0x21e806);},'vQMeT':_0x524726(0x50c),'HpGMh':'Название\x20работы','oixkk':_0x524726(0x3f9),'EawVZ':'addBalanceAmount','SUeWC':'addBalanceModal','DorUw':_0x524726(0x4c3)},_0x309650=works[_0x524726(0x3eb)](_0x45cc12=>_0x45cc12['id']===_0x2446fd);_0x309650&&(currentWorkIdForBalance=_0x2446fd,currentWorkBalance=_0xdb2583['sNokb'](parseFloat,_0x309650[_0xdb2583[_0x524726(0x287)]])||0x0,document['getElementById'](_0x524726(0x24a))['textContent']=_0x309650[_0xdb2583['HpGMh']],document[_0x524726(0x408)](_0x524726(0x402))[_0x524726(0x2a8)]=currentWorkBalance+'\x20'+_0x309650[_0xdb2583['oixkk']],document['getElementById'](_0xdb2583[_0x524726(0x2f4)])[_0x524726(0x3dc)]='',document[_0x524726(0x408)](_0xdb2583['SUeWC'])['style']['display']=_0xdb2583[_0x524726(0x201)],document['getElementById']('addBalanceAmount')['focus']());}function closeAddBalanceModal(){const _0x18fd98=a0_0x1522ec;document[_0x18fd98(0x408)](_0x18fd98(0x20d))['style']['display']=_0x18fd98(0x363),currentWorkIdForBalance=null,currentWorkBalance=0x0;}async function confirmAddBalance(){const _0x165618=a0_0x1522ec,_0x4f9c29={'OHgAm':function(_0x1dea52,_0x4ba564){return _0x1dea52(_0x4ba564);},'ECfHZ':function(_0x141f40,_0x3129d3,_0x41ed4e){return _0x141f40(_0x3129d3,_0x41ed4e);},'zFIgN':'Введите\x20положительное\x20число','fBxGa':'error','MlDaE':'Работа\x20не\x20найдена','cgmhW':'success','oCUVl':_0x165618(0x1be),'reHFj':_0x165618(0x465),'cHriA':_0x165618(0x3c6),'MFWLB':function(_0x36a2f8){return _0x36a2f8();},'zfHkZ':function(_0x28c84f,_0xb1e5fb){return _0x28c84f+_0xb1e5fb;},'naDQg':function(_0x598c26,_0x59fc6d){return _0x598c26+_0x59fc6d;},'VyXDj':_0x165618(0x1d6),'yKymD':'Add\x20balance\x20error:','MYxPD':function(_0x20504e,_0x3263c9,_0xe10b2){return _0x20504e(_0x3263c9,_0xe10b2);},'NhRcC':function(_0x498317,_0x480e0b){return _0x498317+_0x480e0b;}},_0x350145=_0x4f9c29[_0x165618(0x4e2)](parseFloat,document[_0x165618(0x408)](_0x165618(0x224))[_0x165618(0x3dc)]);if(!_0x350145||_0x350145<=0x0)_0x4f9c29['ECfHZ'](showNotification,_0x4f9c29['zFIgN'],_0x4f9c29['fBxGa']);else try{if(!works['find'](_0x47a91f=>_0x47a91f['id']===currentWorkIdForBalance))return void showNotification(_0x4f9c29['MlDaE'],_0x4f9c29['fBxGa']);_0x4f9c29['ECfHZ'](showNotification,'Добавление\x20к\x20балансу...',_0x4f9c29['cgmhW']);const _0x28ef2d=await fetch(_0x4f9c29[_0x165618(0x4e2)](buildApiUrl,API_CONFIG[_0x165618(0x41e)][_0x165618(0x154)]+'/'+currentWorkIdForBalance+_0x165618(0x47f)),{'method':_0x4f9c29[_0x165618(0x14b)],'headers':{'Content-Type':_0x165618(0x2c4),'Authorization':_0x165618(0x170)+localStorage[_0x165618(0x21a)](_0x4f9c29[_0x165618(0x18e)])},'body':JSON[_0x165618(0x18d)]({'amount':_0x350145})});if(!_0x28ef2d['ok']){const _0x5cc9e3=await _0x28ef2d[_0x165618(0x2ae)]();throw new Error(_0x5cc9e3||'HTTP\x20error!\x20status:\x20'+_0x28ef2d[_0x165618(0x2e1)]);}const _0x1acc8c=await _0x28ef2d['json']();if(_0x1acc8c['success']){_0x4f9c29[_0x165618(0x27e)](showNotification,_0x4f9c29[_0x165618(0x17e)],'success'),_0x4f9c29[_0x165618(0x29b)](closeAddBalanceModal);const _0x496740=document[_0x165618(0x1f3)](_0x165618(0x413)+currentWorkIdForBalance+'\x22])\x20td:nth-child(6)\x20input');if(_0x496740){const _0x2df88f=currentWorkBalance+_0x350145;_0x496740['value']=_0x2df88f;}const _0x3ccdfd=works['findIndex'](_0x1ba227=>_0x1ba227['id']===currentWorkIdForBalance);-0x1!==_0x3ccdfd&&(works[_0x3ccdfd][_0x165618(0x50c)]=_0x4f9c29['zfHkZ'](currentWorkBalance,_0x350145));}else showNotification(_0x4f9c29['naDQg'](_0x4f9c29[_0x165618(0x377)],_0x1acc8c['error']),_0x165618(0x183));}catch(_0x286ddc){console['error'](_0x4f9c29['yKymD'],_0x286ddc),_0x4f9c29[_0x165618(0x401)](showNotification,_0x4f9c29['NhRcC'](_0x4f9c29['VyXDj'],_0x286ddc['message']),_0x4f9c29[_0x165618(0x4db)]);}}function addMaterialQuantity(_0x3e9bc8){const _0x46f094=a0_0x1522ec,_0x462905={'sbvtX':_0x46f094(0x183),'qGDyx':function(_0x264d3d,_0x17ecc0){return _0x264d3d!==_0x17ecc0;},'BuNIA':function(_0x6947f6,_0x1e2e47){return _0x6947f6(_0x1e2e47);},'GaanC':'materialQuantityName'},_0x110ed8=materials[_0x46f094(0x3eb)](_0x2f95b7=>_0x2f95b7['id']===_0x3e9bc8);if(!_0x110ed8)return void showNotification('Материал\x20не\x20найден',_0x462905[_0x46f094(0x375)]);currentMaterialIdForQuantity=_0x3e9bc8,currentMaterialQuantity=void 0x0!==_0x110ed8[_0x46f094(0x144)]&&_0x462905['qGDyx'](null,_0x110ed8['quantity'])?_0x462905['BuNIA'](Number,_0x110ed8[_0x46f094(0x144)]):0x0,currentMaterialUnit=_0x110ed8['unit']||'';const _0x51b8a8=document['getElementById'](_0x462905['GaanC']);_0x51b8a8&&(_0x51b8a8['textContent']=_0x110ed8['name']||_0x46f094(0x20c)+_0x3e9bc8);const _0x93f220=document['getElementById']('materialCurrentQuantity');if(_0x93f220){const _0x6c7d72=Number['isFinite'](currentMaterialQuantity)?currentMaterialQuantity['toLocaleString'](_0x46f094(0x1a4),{'maximumFractionDigits':0x2}):'0';_0x93f220['textContent']=currentMaterialUnit?_0x6c7d72+'\x20'+currentMaterialUnit:_0x6c7d72;}const _0x3d0525=document['getElementById']('addMaterialQuantityAmount');_0x3d0525&&(_0x3d0525[_0x46f094(0x3dc)]='',_0x3d0525['focus']());const _0x5e3e84=document[_0x46f094(0x408)]('addMaterialQuantityModal');_0x5e3e84&&(_0x5e3e84['style'][_0x46f094(0x362)]='flex');}function closeAddMaterialQuantityModal(){const _0x266d97=a0_0x1522ec,_0x34731a={'KbZDE':'addMaterialQuantityModal','kdtdw':_0x266d97(0x363)},_0x18d324=document[_0x266d97(0x408)](_0x34731a['KbZDE']);_0x18d324&&(_0x18d324['style'][_0x266d97(0x362)]=_0x34731a[_0x266d97(0x32d)]),currentMaterialIdForQuantity=null,currentMaterialQuantity=0x0,currentMaterialUnit='';}async function confirmAddMaterialQuantity(){const _0x5878ee=a0_0x1522ec,_0x1f42ce={'oRTAN':'Поле\x20количества\x20не\x20найдено','VVnPU':_0x5878ee(0x183),'qQUGl':'Введите\x20положительное\x20число','ZUInq':function(_0x160801,_0x2bc9a5,_0x1f56cd){return _0x160801(_0x2bc9a5,_0x1f56cd);},'OfAxe':_0x5878ee(0x22d),'ovOvL':function(_0xae6045,_0x3980ba,_0x41c0d9){return _0xae6045(_0x3980ba,_0x41c0d9);},'iCDIi':_0x5878ee(0x2fa),'JjLbx':function(_0x562aaa){return _0x562aaa();},'lkCQM':'Пополнение\x20через\x20панель\x20управления','xBlBy':function(_0x329303,_0x25faf2){return _0x329303+_0x25faf2;},'NSGVq':_0x5878ee(0x22b),'vSjPt':function(_0x30d70e,_0x2d3a55,_0x3bacf4){return _0x30d70e(_0x2d3a55,_0x3bacf4);},'HhNSl':function(_0x4b2315,_0x35fbfb){return _0x4b2315+_0x35fbfb;},'iaZJy':_0x5878ee(0x4d4)},_0xd7e0ed=document[_0x5878ee(0x408)](_0x5878ee(0x4a8));if(!_0xd7e0ed)return void showNotification(_0x1f42ce[_0x5878ee(0x292)],_0x1f42ce['VVnPU']);const _0x70da20=parseFloat(_0xd7e0ed['value']);if(!_0x70da20||_0x70da20<=0x0)return void showNotification(_0x1f42ce[_0x5878ee(0x360)],_0x5878ee(0x183));if(!currentMaterialIdForQuantity)return void _0x1f42ce[_0x5878ee(0x499)](showNotification,_0x1f42ce['OfAxe'],_0x1f42ce[_0x5878ee(0x47e)]);const _0x12bf42=currentMaterialIdForQuantity,_0x3b8158=currentMaterialQuantity;try{_0x1f42ce['ovOvL'](showNotification,_0x1f42ce[_0x5878ee(0x397)],'success');const _0x499a6e=await _0x1f42ce['ovOvL'](fetch,buildApiUrl(API_CONFIG[_0x5878ee(0x41e)]['MATERIALS']+'/'+_0x12bf42+_0x5878ee(0x38d)),{'method':_0x5878ee(0x1be),'headers':{'Content-Type':_0x5878ee(0x2c4),'Authorization':'Bearer\x20'+localStorage['getItem'](_0x5878ee(0x465))},'body':JSON[_0x5878ee(0x18d)]({'amount':_0x70da20,'performed_by':_0x1f42ce['JjLbx'](getCurrentUsername),'description':_0x1f42ce[_0x5878ee(0x4ed)]})});if(!_0x499a6e['ok']){const _0x3ec4ad=await _0x499a6e[_0x5878ee(0x2ae)]();throw new Error(_0x3ec4ad||'HTTP\x20error!\x20status:\x20'+_0x499a6e['status']);}const _0x1d93e6=await _0x499a6e['json']();if(_0x1d93e6[_0x5878ee(0x22b)]){const _0x261fcd=_0x1f42ce['xBlBy'](_0x3b8158,_0x70da20);showNotification('Количество\x20материала\x20обновлено',_0x1f42ce[_0x5878ee(0x50e)]),closeAddMaterialQuantityModal(),materialHistoryLoaded=!0x1;const _0x1eff77=document[_0x5878ee(0x1f3)]('#materialsTableBody\x20tr[data-material-id=\x22'+_0x12bf42+'\x22]\x20input[data-field=\x22quantity\x22]');_0x1eff77&&(_0x1eff77[_0x5878ee(0x3dc)]=_0x261fcd);const _0x58b8e1=materials['findIndex'](_0x430335=>_0x430335['id']===_0x12bf42);-0x1!==_0x58b8e1&&(materials[_0x58b8e1][_0x5878ee(0x144)]=_0x261fcd);}else _0x1f42ce['vSjPt'](showNotification,_0x1f42ce['HhNSl'](_0x1f42ce['iaZJy'],_0x1d93e6[_0x5878ee(0x183)]||_0x1d93e6[_0x5878ee(0x374)]||_0x5878ee(0x47c)),_0x1f42ce[_0x5878ee(0x47e)]);}catch(_0x83ef0){console[_0x5878ee(0x183)](_0x5878ee(0x3cc),_0x83ef0),_0x1f42ce['ovOvL'](showNotification,_0x1f42ce['iaZJy']+_0x83ef0[_0x5878ee(0x168)],_0x5878ee(0x183));}}async function loadForemen(){const _0x4c8f45=a0_0x1522ec,_0x2c2549={'gjRbQ':'foremenTableBody','opNnb':'block','JJtwp':function(_0x100cf7,_0x4f2121,_0x26b9a0){return _0x100cf7(_0x4f2121,_0x26b9a0);},'mykXj':function(_0x400e10,_0x41d5cb){return _0x400e10+_0x41d5cb;},'CJOEU':'Ошибка\x20при\x20загрузке\x20бригадиров:\x20','kJBkZ':'none'},_0x1ac758=document['getElementById']('foremenLoading'),_0x402489=document['getElementById'](_0x2c2549['gjRbQ']);_0x1ac758[_0x4c8f45(0x396)][_0x4c8f45(0x362)]=_0x2c2549['opNnb'],_0x402489['innerHTML']='';try{const _0x3cccc5=await makeApiRequest(API_CONFIG[_0x4c8f45(0x41e)]['FOREMEN']);_0x3cccc5[_0x4c8f45(0x22b)]?(foremen=_0x3cccc5['data']||[],displayForemen(foremen)):_0x2c2549['JJtwp'](showNotification,'Ошибка\x20при\x20загрузке\x20бригадиров:\x20'+_0x3cccc5[_0x4c8f45(0x183)],_0x4c8f45(0x183));}catch(_0x2fbd0c){showNotification(_0x2c2549[_0x4c8f45(0x502)](_0x2c2549[_0x4c8f45(0x1b4)],_0x2fbd0c['message']),'error');}finally{_0x1ac758[_0x4c8f45(0x396)]['display']=_0x2c2549['kJBkZ'];}}function displayForemen(_0x31a7cb){const _0x111ac7=a0_0x1522ec,_0x2fc8b7={'udEvS':'selected','GzZiX':_0x111ac7(0x273),'xSGmX':_0x111ac7(0x2fd),'ykLrk':function(_0x3de9f4,_0x3f3cbd){return _0x3de9f4(_0x3f3cbd);},'tHiXX':_0x111ac7(0x398)},_0x3e4d31=document['getElementById'](_0x2fc8b7[_0x111ac7(0x2e2)]);if(_0x3e4d31['innerHTML']='',0x0===_0x31a7cb['length'])return _0x3e4d31['innerHTML']=_0x2fc8b7[_0x111ac7(0x1ea)],void _0x2fc8b7['ykLrk'](refreshTableSorting,_0x2fc8b7['tHiXX']);_0x31a7cb[_0x111ac7(0x34e)](_0x23334e=>{const _0x112f68=_0x111ac7,_0x1fd245=document[_0x112f68(0x265)]('tr');_0x1fd245['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td><input\x20type=\x22text\x22\x20value=\x22'+_0x23334e['id']+'\x22\x20readonly></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td><input\x20type=\x22text\x22\x20value=\x22'+(_0x23334e[_0x112f68(0x4be)]||'')+'\x22\x20class=\x22editable\x22\x20data-field=\x22full_name\x22></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td><input\x20type=\x22text\x22\x20value=\x22'+(_0x23334e[_0x112f68(0x3fe)]||'')+'\x22\x20class=\x22editable\x22\x20data-field=\x22position\x22></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td><input\x20type=\x22text\x22\x20value=\x22'+(_0x23334e[_0x112f68(0x250)]||'')+_0x112f68(0x29f)+(_0x23334e['registration_date']||'')+_0x112f68(0x351)+(_0x23334e['is_active']?_0x2fc8b7['udEvS']:'')+_0x112f68(0x50b)+(_0x23334e[_0x112f68(0x1b2)]?'':'selected')+_0x112f68(0x266)+_0x23334e['id']+')\x22\x20class=\x22secondary\x22>💾\x20Сохранить</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22openForemanSections('+_0x23334e['id']+_0x112f68(0x2b6)+_0x23334e['id']+_0x112f68(0x2de),_0x3e4d31[_0x112f68(0x319)](_0x1fd245);}),refreshTableSorting(_0x2fc8b7['tHiXX']);}async function openForemanSections(_0x438c0d){const _0x78c8da=a0_0x1522ec,_0x45bac4={'IvMtR':function(_0x421834,_0xa9806,_0x446ee2){return _0x421834(_0xa9806,_0x446ee2);},'NrMin':function(_0x24cb38){return _0x24cb38();},'fbttz':function(_0x491a2c,_0x472971){return _0x491a2c(_0x472971);},'IpVZn':function(_0x305c03){return _0x305c03();},'XvIKT':_0x78c8da(0x2fe)},_0x4e4a07=document[_0x78c8da(0x408)](_0x78c8da(0x2d2));if(!_0x4e4a07)return;const _0x14f564=foremen[_0x78c8da(0x3eb)](_0x5c9a38=>_0x5c9a38['id']===_0x438c0d);if(!_0x14f564)return void _0x45bac4[_0x78c8da(0x35d)](showNotification,_0x78c8da(0x2f9),'error');currentForemanIdForSections=_0x438c0d;const _0x345572=[];_0x14f564['full_name']&&_0x345572['push'](_0x14f564['full_name']),_0x14f564[_0x78c8da(0x3fe)]&&_0x345572[_0x78c8da(0x1e9)](_0x14f564[_0x78c8da(0x3fe)]),document[_0x78c8da(0x408)]('foremanSectionsName')['textContent']=_0x345572['join'](_0x78c8da(0x2b7))||_0x78c8da(0x20c)+_0x438c0d,categories&&0x0!==categories['length']||await _0x45bac4['NrMin'](loadCategories),await _0x45bac4[_0x78c8da(0x247)](loadForemanSections,_0x438c0d),_0x45bac4['IpVZn'](populateForemanSectionsSelect),displayForemanSectionsList();const _0x2fdc26=document[_0x78c8da(0x408)](_0x45bac4['XvIKT']);_0x2fdc26&&(_0x2fdc26[_0x78c8da(0x3dc)]=''),_0x4e4a07['style'][_0x78c8da(0x362)]=_0x78c8da(0x4c3);}async function loadForemanSections(_0x50164c){const _0xa1f0e5=a0_0x1522ec,_0x1e8606={'njYhT':function(_0x5066f5,_0x7c92fe,_0x3a4a52){return _0x5066f5(_0x7c92fe,_0x3a4a52);},'pfYly':_0xa1f0e5(0x1d8),'aqoDt':'error','oVmcy':'Ошибка\x20при\x20загрузке\x20разделов\x20бригадира:\x20'};try{const _0x1ed662=await makeApiRequest(API_CONFIG['ENDPOINTS']['FOREMEN']+'/'+_0x50164c+'/sections');if(_0x1ed662&&_0x1ed662['success'])currentForemanSections=(_0x1ed662[_0xa1f0e5(0x249)]||[])[_0xa1f0e5(0x1fe)](_0x4fc128=>({'id':_0x4fc128['id'],'name':_0x4fc128[_0xa1f0e5(0x4cf)]}));else currentForemanSections=[],_0x1e8606[_0xa1f0e5(0x1f1)](showNotification,_0x1ed662?.['error']||_0x1ed662?.[_0xa1f0e5(0x374)]||_0x1e8606[_0xa1f0e5(0x257)],_0x1e8606['aqoDt']);}catch(_0x4c7121){currentForemanSections=[],_0x1e8606['njYhT'](showNotification,_0x1e8606[_0xa1f0e5(0x3e0)]+_0x4c7121['message'],'error');}}function populateForemanSectionsSelect(){const _0x1f434a=a0_0x1522ec,_0x2e0d51={'JhlWj':'<option\x20value=\x22\x22>Нет\x20доступных\x20разделов</option>'},_0x3ffff5=document['getElementById'](_0x1f434a(0x2fe));if(!_0x3ffff5)return;const _0x1a5a17=new Set((currentForemanSections||[])[_0x1f434a(0x1fe)](_0x223cb2=>_0x223cb2['id']));if(!categories||0x0===categories['length'])return _0x3ffff5[_0x1f434a(0x1d1)]=_0x2e0d51[_0x1f434a(0x191)],void(_0x3ffff5['disabled']=!0x0);let _0x416eb0=_0x1f434a(0x276);categories[_0x1f434a(0x34e)](_0x11d591=>{const _0x28241b=_0x1f434a,_0x4f2618=_0x1a5a17['has'](_0x11d591['id'])?'disabled':'';_0x416eb0+='<option\x20value=\x22'+_0x11d591['id']+'\x22\x20'+_0x4f2618+'>'+_0x11d591[_0x28241b(0x4cf)]+_0x28241b(0x323);}),_0x3ffff5['innerHTML']=_0x416eb0,_0x3ffff5['disabled']=!0x1;}function displayForemanSectionsList(){const _0xa66edc=a0_0x1522ec,_0x4e1a3a=document[_0xa66edc(0x408)](_0xa66edc(0x297));if(!_0x4e1a3a)return;if(!currentForemanSections||0x0===currentForemanSections[_0xa66edc(0x503)])return void(_0x4e1a3a['innerHTML']=_0xa66edc(0x451));const _0x4768ad=currentForemanSections[_0xa66edc(0x1fe)](_0x4d3326=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22foreman-sections-list-item\x22\x20data-section-id=\x22'+_0x4d3326['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+(_0x4d3326['name']||_0xa66edc(0x20c)+_0x4d3326['id'])+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22danger\x22\x20onclick=\x22removeSectionFromForeman('+_0x4d3326['id']+')\x22>🗑️</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20');_0x4e1a3a['innerHTML']=_0x4768ad['join']('');}function addSectionToForeman(){const _0x53aeaf=a0_0x1522ec,_0x1c34ba={'bFyAH':_0x53aeaf(0x2fe),'JGDzS':'Выберите\x20раздел\x20для\x20добавления','DnauV':_0x53aeaf(0x183),'ifuNf':function(_0x15342d,_0x612abd,_0x525d6a){return _0x15342d(_0x612abd,_0x525d6a);},'rjsBb':function(_0x394f76,_0x4e157c){return _0x394f76<=_0x4e157c;},'vbhWC':function(_0x334817,_0x59444a,_0x18c127){return _0x334817(_0x59444a,_0x18c127);},'eIJjz':_0x53aeaf(0x2b8),'KPiHG':function(_0x5b09c3){return _0x5b09c3();}},_0xde46c5=document[_0x53aeaf(0x408)](_0x1c34ba['bFyAH']);if(!_0xde46c5)return;const _0x4fe678=_0xde46c5[_0x53aeaf(0x3dc)];if(!_0x4fe678)return void showNotification(_0x1c34ba[_0x53aeaf(0x220)],_0x1c34ba['DnauV']);let _0x2f9a72;try{_0x2f9a72=_0x1c34ba[_0x53aeaf(0x43d)](parseInt,_0x4fe678,0xa);}catch(_0x5bc433){_0x2f9a72=NaN;}if(!Number[_0x53aeaf(0x2a3)](_0x2f9a72)||_0x1c34ba['rjsBb'](_0x2f9a72,0x0))return void _0x1c34ba['vbhWC'](showNotification,'Некорректный\x20идентификатор\x20раздела',_0x1c34ba['DnauV']);if(currentForemanSections[_0x53aeaf(0x143)](_0x2bda35=>_0x2bda35['id']===_0x2f9a72))return void showNotification(_0x1c34ba[_0x53aeaf(0x252)],_0x53aeaf(0x183));const _0x503e33=categories['find'](_0x271eef=>_0x271eef['id']===_0x2f9a72);_0x503e33?(currentForemanSections=[...currentForemanSections,{'id':_0x503e33['id'],'name':_0x503e33[_0x53aeaf(0x4cf)]}],displayForemanSectionsList(),_0x1c34ba['KPiHG'](populateForemanSectionsSelect),_0xde46c5['value']=''):showNotification(_0x53aeaf(0x26f),'error');}function removeSectionFromForeman(_0x220029){const _0x259aea=a0_0x1522ec,_0x4de021={'xdZhU':function(_0x4b34b8){return _0x4b34b8();}};currentForemanSections=currentForemanSections['filter'](_0x3bf22d=>_0x3bf22d['id']!==_0x220029),_0x4de021[_0x259aea(0x491)](displayForemanSectionsList),populateForemanSectionsSelect();}async function saveForemanSections(){const _0x13c651=a0_0x1522ec,_0x1c07fa={'HoKDg':function(_0x27dadc,_0x30073b,_0x2ed61a){return _0x27dadc(_0x30073b,_0x2ed61a);},'oUDKF':_0x13c651(0x4fd),'EvXxJ':_0x13c651(0x183),'kySUT':'PUT','SsUWq':'success','ecMIq':function(_0x54b7e6,_0xf9095e,_0x2347ce){return _0x54b7e6(_0xf9095e,_0x2347ce);}};if(!currentForemanIdForSections)return void _0x1c07fa['HoKDg'](showNotification,_0x1c07fa[_0x13c651(0x2fb)],_0x1c07fa[_0x13c651(0x344)]);const _0x25fbb8=currentForemanSections[_0x13c651(0x1fe)](_0x465e87=>_0x465e87['id']);try{const _0x3d06bd=await makeApiRequest(API_CONFIG[_0x13c651(0x41e)][_0x13c651(0x1bf)]+'/'+currentForemanIdForSections+'/sections',{'method':_0x1c07fa['kySUT'],'body':JSON['stringify']({'category_ids':_0x25fbb8})});if(_0x3d06bd&&_0x3d06bd['success']){const _0x2a6998=Array[_0x13c651(0x204)](_0x3d06bd[_0x13c651(0x249)])?_0x3d06bd[_0x13c651(0x249)]:null;_0x2a6998&&(currentForemanSections=_0x2a6998[_0x13c651(0x1fe)](_0x104c7d=>({'id':_0x104c7d['id'],'name':_0x104c7d[_0x13c651(0x4cf)]})),displayForemanSectionsList(),populateForemanSectionsSelect()),showNotification(_0x13c651(0x229),_0x1c07fa[_0x13c651(0x3de)]);}else showNotification(_0x3d06bd?.['error']||_0x3d06bd?.['detail']||_0x13c651(0x1cd),_0x1c07fa[_0x13c651(0x344)]);}catch(_0x560e14){_0x1c07fa[_0x13c651(0x4c7)](showNotification,'Ошибка\x20при\x20сохранении\x20разделов:\x20'+_0x560e14['message'],_0x1c07fa[_0x13c651(0x344)]);}}function closeForemanSectionsModal(){const _0x2db514=a0_0x1522ec,_0x27cd1d={'cWVpq':_0x2db514(0x2d2),'cuBae':_0x2db514(0x363),'yTruF':_0x2db514(0x2fe),'mYnNW':function(_0x4e2451){return _0x4e2451();}},_0x57e984=document['getElementById'](_0x27cd1d['cWVpq']);_0x57e984&&(_0x57e984['style']['display']=_0x27cd1d['cuBae']),currentForemanIdForSections=null,currentForemanSections=[];const _0x55ad41=document[_0x2db514(0x408)](_0x27cd1d['yTruF']);_0x55ad41&&(_0x55ad41[_0x2db514(0x3dc)]=''),_0x27cd1d['mYnNW'](displayForemanSectionsList),populateForemanSectionsSelect();}async function saveForeman(_0x456279){const _0x376335=a0_0x1522ec,_0x4ea420={'bnhTf':'data-field','nyKyv':function(_0xf6a639,_0x1137a2){return _0xf6a639===_0x1137a2;},'ZAQYZ':function(_0x3872e8,_0x19cba4,_0x51646d){return _0x3872e8(_0x19cba4,_0x51646d);},'xZuQg':_0x376335(0x1be),'XVZRp':'Данные\x20бригадира\x20успешно\x20обновлены','fetnm':_0x376335(0x22b),'sZRFJ':function(_0x1856ff,_0xd35234,_0x31a0f6){return _0x1856ff(_0xd35234,_0x31a0f6);},'rVrpa':function(_0x105b45,_0x1959ea){return _0x105b45+_0x1959ea;},'gvzmh':'Ошибка\x20при\x20обновлении\x20бригадира:\x20','DjnVW':'Неизвестная\x20ошибка','Dkoxw':'error'},_0x4242dd=document['querySelector'](_0x376335(0x413)+_0x456279+'\x22])')[_0x376335(0x1e6)]('.editable'),_0x2b6ee7={'id':_0x456279};_0x4242dd['forEach'](_0x55f45e=>{const _0x1a1e09=_0x376335,_0x40a94d=_0x55f45e[_0x1a1e09(0x30c)](_0x4ea420['bnhTf']);let _0x44bcde=_0x55f45e['value'];_0x4ea420[_0x1a1e09(0x3a6)](_0x1a1e09(0x1b2),_0x40a94d)&&(_0x44bcde=parseInt(_0x44bcde)),_0x2b6ee7[_0x40a94d]=_0x44bcde;});try{const _0x21740d=await _0x4ea420[_0x376335(0x1f6)](makeApiRequest,API_CONFIG[_0x376335(0x41e)][_0x376335(0x1bf)]+'/'+_0x456279,{'method':_0x4ea420['xZuQg'],'body':JSON[_0x376335(0x18d)](_0x2b6ee7)});_0x21740d[_0x376335(0x22b)]?showNotification(_0x4ea420['XVZRp'],_0x4ea420['fetnm']):_0x4ea420[_0x376335(0x4da)](showNotification,_0x4ea420[_0x376335(0x2ff)](_0x4ea420[_0x376335(0x15f)],_0x21740d[_0x376335(0x183)]||_0x4ea420['DjnVW']),_0x4ea420['Dkoxw']);}catch(_0x1a04e5){_0x4ea420['ZAQYZ'](showNotification,'Ошибка\x20при\x20обновлении\x20бригадира:\x20'+_0x1a04e5[_0x376335(0x168)],_0x4ea420['Dkoxw']);}}async function deleteForeman(_0x4482cd){const _0x5bdc60=a0_0x1522ec,_0x41e4fa={'WKJfi':function(_0x5234db,_0x401eda){return _0x5234db(_0x401eda);},'KgZCV':function(_0xf4ee3d,_0x1c83af,_0x8a4cb3){return _0xf4ee3d(_0x1c83af,_0x8a4cb3);},'QPiGn':_0x5bdc60(0x149),'zqFQF':_0x5bdc60(0x22b),'qlmOv':function(_0x24b689){return _0x24b689();},'YZnTD':function(_0x2c2bca,_0x523c4f,_0x5d3600){return _0x2c2bca(_0x523c4f,_0x5d3600);},'KWCCX':_0x5bdc60(0x4d9),'LndBi':_0x5bdc60(0x183)};if(_0x41e4fa['WKJfi'](confirm,'Вы\x20уверены,\x20что\x20хотите\x20удалить\x20этого\x20бригадира?\x20Это\x20действие\x20нельзя\x20отменить.'))try{const _0x5c4508=await _0x41e4fa['KgZCV'](makeApiRequest,API_CONFIG['ENDPOINTS'][_0x5bdc60(0x1bf)]+'/'+_0x4482cd,{'method':_0x41e4fa['QPiGn']});_0x5c4508[_0x5bdc60(0x22b)]?(_0x41e4fa[_0x5bdc60(0x336)](showNotification,'Бригадир\x20успешно\x20удален',_0x41e4fa['zqFQF']),await _0x41e4fa['qlmOv'](loadForemen)):_0x41e4fa[_0x5bdc60(0x39e)](showNotification,_0x5bdc60(0x356)+(_0x5c4508['error']||_0x41e4fa['KWCCX']),_0x41e4fa[_0x5bdc60(0x42d)]);}catch(_0x2107e8){showNotification('Ошибка\x20при\x20удалении\x20бригадира:\x20'+_0x2107e8['message'],_0x41e4fa[_0x5bdc60(0x42d)]);}}async function saveAllForemen(){const _0x40da52=a0_0x1522ec,_0x507c0f={'rrZvr':_0x40da52(0x464),'PqtJT':function(_0x466608,_0x48c079,_0x453384){return _0x466608(_0x48c079,_0x453384);},'kACrI':'.editable','zKKNa':_0x40da52(0x3d2),'TxcaD':'#foremenTableBody\x20tr','LvNqi':'Нет\x20бригадиров\x20для\x20сохранения','QTRgs':_0x40da52(0x183),'ljBYF':function(_0x28898b,_0x37cfd1,_0x2f674c){return _0x28898b(_0x37cfd1,_0x2f674c);},'mGZhx':function(_0x17a276,_0x164c29,_0x4e8078){return _0x17a276(_0x164c29,_0x4e8078);},'DbUWz':'success'},_0x2d3820=document['getElementById'](_0x507c0f['zKKNa']),_0x115634=document['querySelectorAll'](_0x507c0f[_0x40da52(0x3e7)]);if(!_0x115634['length'])return void showNotification(_0x507c0f[_0x40da52(0x3d3)],_0x507c0f['QTRgs']);_0x2d3820&&(_0x2d3820[_0x40da52(0x365)]=!0x0);const _0x1f0af3=[];if(_0x115634['forEach'](_0x22261d=>{const _0x1ee7ae=_0x40da52,_0x564e75={'mTsLF':_0x507c0f[_0x1ee7ae(0x49f)],'hdJif':function(_0x2ae03f,_0x4629ea,_0x136c4b){return _0x2ae03f(_0x4629ea,_0x136c4b);}},_0x2a83dc=_0x22261d['querySelector'](_0x1ee7ae(0x3f5));if(!_0x2a83dc)return;const _0x31b293=_0x507c0f['PqtJT'](parseInt,_0x2a83dc['value'],0xa);if(!Number['isInteger'](_0x31b293))return;const _0x2165e8={'id':_0x31b293};_0x22261d['querySelectorAll'](_0x507c0f[_0x1ee7ae(0x270)])[_0x1ee7ae(0x34e)](_0x339cb3=>{const _0x4ee227=_0x1ee7ae,_0x436601=_0x339cb3[_0x4ee227(0x30c)](_0x564e75[_0x4ee227(0x460)]);if(!_0x436601)return;let _0x3e4b6b=_0x339cb3[_0x4ee227(0x3dc)];'is_active'===_0x436601&&(_0x3e4b6b=_0x564e75[_0x4ee227(0x445)](parseInt,_0x3e4b6b,0xa)),_0x2165e8[_0x436601]=_0x3e4b6b;}),_0x1f0af3['push'](_0x2165e8);}),!_0x1f0af3['length'])return _0x2d3820&&(_0x2d3820[_0x40da52(0x365)]=!0x1),void _0x507c0f[_0x40da52(0x361)](showNotification,_0x40da52(0x32f),_0x507c0f[_0x40da52(0x47b)]);let _0x318e9d=0x0;const _0x1f6305=[];for(const _0x403139 of _0x1f0af3)try{const _0x444057=await _0x507c0f[_0x40da52(0x4f3)](makeApiRequest,API_CONFIG[_0x40da52(0x41e)]['FOREMEN']+'/'+_0x403139['id'],{'method':'PUT','body':JSON['stringify'](_0x403139)});_0x444057&&_0x444057['success']?_0x318e9d+=0x1:_0x1f6305[_0x40da52(0x1e9)](_0x403139['id']);}catch(_0x38bef1){console[_0x40da52(0x183)]('Bulk\x20foreman\x20update\x20error:',_0x38bef1),_0x1f6305['push'](_0x403139['id']);}_0x2d3820&&(_0x2d3820[_0x40da52(0x365)]=!0x1),_0x318e9d>0x0&&(await loadForemen(),showNotification('Данные\x20'+_0x318e9d+'\x20бригадиров\x20сохранены',_0x507c0f['DbUWz'])),_0x1f6305['length']>0x0&&showNotification('Ошибка\x20сохранения\x20для\x20бригадиров:\x20'+_0x1f6305['join'](',\x20'),'error');}function filterForemen(){const _0x1fdc16=a0_0x1522ec,_0x4e15b3={'hdBox':'searchForemen','TeoJZ':function(_0x42762d,_0x1c02f7){return _0x42762d(_0x1c02f7);}},_0x5e8875=document['getElementById'](_0x4e15b3['hdBox'])['value'][_0x1fdc16(0x148)]();_0x4e15b3['TeoJZ'](displayForemen,foremen[_0x1fdc16(0x3ae)](_0x506494=>_0x506494[_0x1fdc16(0x4be)]&&_0x506494[_0x1fdc16(0x4be)]['toLowerCase']()['includes'](_0x5e8875)||_0x506494[_0x1fdc16(0x3fe)]&&_0x506494[_0x1fdc16(0x3fe)][_0x1fdc16(0x148)]()[_0x1fdc16(0x28f)](_0x5e8875)||_0x506494[_0x1fdc16(0x250)]&&_0x506494[_0x1fdc16(0x250)][_0x1fdc16(0x148)]()['includes'](_0x5e8875)));}async function loadReports(){const _0x564be9=a0_0x1522ec,_0x4d411f={'jpxJg':'block','CaGwb':function(_0x3e3e91,_0x44ecca){return _0x3e3e91(_0x44ecca);},'LLvec':function(_0x58db21,_0x5999d3){return _0x58db21+_0x5999d3;},'Lhroz':_0x564be9(0x388)},_0x241857=document[_0x564be9(0x408)]('reportsLoading'),_0x293ec5=document[_0x564be9(0x408)](_0x564be9(0x1fb));_0x241857[_0x564be9(0x396)]['display']=_0x4d411f['jpxJg'],_0x293ec5[_0x564be9(0x1d1)]='';try{reports=[],_0x4d411f[_0x564be9(0x15c)](displayReports,reports);}catch(_0x34eb2e){showNotification(_0x4d411f[_0x564be9(0x150)](_0x4d411f[_0x564be9(0x202)],_0x34eb2e[_0x564be9(0x168)]),_0x564be9(0x183));}finally{_0x241857['style'][_0x564be9(0x362)]=_0x564be9(0x363);}}function a0_0x1f48(_0x2f55e0,_0x53df5e){const _0x4f3067=a0_0x4f30();return a0_0x1f48=function(_0x1f48f0,_0x513840){_0x1f48f0=_0x1f48f0-0x142;let _0x3277b=_0x4f3067[_0x1f48f0];if(a0_0x1f48['oOtbtD']===undefined){var _0x5a3690=function(_0x1ecebc){const _0xa53bed='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x166cfc='',_0x5229bb='';for(let _0x27d797=0x0,_0x534372,_0x4c6c01,_0x5228e2=0x0;_0x4c6c01=_0x1ecebc['charAt'](_0x5228e2++);~_0x4c6c01&&(_0x534372=_0x27d797%0x4?_0x534372*0x40+_0x4c6c01:_0x4c6c01,_0x27d797++%0x4)?_0x166cfc+=String['fromCharCode'](0xff&_0x534372>>(-0x2*_0x27d797&0x6)):0x0){_0x4c6c01=_0xa53bed['indexOf'](_0x4c6c01);}for(let _0x1e6817=0x0,_0x8e4ad3=_0x166cfc['length'];_0x1e6817<_0x8e4ad3;_0x1e6817++){_0x5229bb+='%'+('00'+_0x166cfc['charCodeAt'](_0x1e6817)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x5229bb);};a0_0x1f48['ZKsfXU']=_0x5a3690,_0x2f55e0=arguments,a0_0x1f48['oOtbtD']=!![];}const _0x2d3f51=_0x4f3067[0x0],_0x664c41=_0x1f48f0+_0x2d3f51,_0x258336=_0x2f55e0[_0x664c41];return!_0x258336?(_0x3277b=a0_0x1f48['ZKsfXU'](_0x3277b),_0x2f55e0[_0x664c41]=_0x3277b):_0x3277b=_0x258336,_0x3277b;},a0_0x1f48(_0x2f55e0,_0x53df5e);}function displayReports(_0x2bbbb2){const _0x21b0ec=a0_0x1522ec,_0x8c0bac={'ydWZw':function(_0x1ee517,_0xe019f3){return _0x1ee517===_0xe019f3;},'JFhrk':'<tr><td\x20colspan=\x228\x22\x20style=\x22text-align:\x20center;\x22>Нет\x20данных\x20об\x20отчетах</td></tr>','RGMBW':'reportsTable','SbGDY':function(_0x247989,_0x3bbc41){return _0x247989(_0x3bbc41);}},_0x13a117=document['getElementById']('reportsTableBody');if(_0x13a117[_0x21b0ec(0x1d1)]='',_0x8c0bac[_0x21b0ec(0x2f3)](0x0,_0x2bbbb2[_0x21b0ec(0x503)]))return _0x13a117['innerHTML']=_0x8c0bac['JFhrk'],void refreshTableSorting(_0x8c0bac[_0x21b0ec(0x38e)]);_0x8c0bac[_0x21b0ec(0x2ce)](refreshTableSorting,_0x8c0bac['RGMBW']);}function addNewReport(){const _0x35a035=a0_0x1522ec,_0x28e3ef={'VEukE':_0x35a035(0x1e1),'yEfMD':'success'};showNotification(_0x28e3ef[_0x35a035(0x14c)],_0x28e3ef[_0x35a035(0x30a)]);}async function saveAllReports(){const _0x5c4320=a0_0x1522ec,_0x49b9af={'MFabr':function(_0x3d240f,_0x39f5a9,_0x5c1c0b){return _0x3d240f(_0x39f5a9,_0x5c1c0b);},'xxQFF':'success'};_0x49b9af['MFabr'](showNotification,'Функция\x20сохранения\x20отчетов\x20будет\x20реализована\x20в\x20следующем\x20обновлении',_0x49b9af[_0x5c4320(0x254)]);}function filterReports(){}document['addEventListener'](a0_0x1522ec(0x315),function(){const _0x3f821d=a0_0x1522ec,_0xd51806={'RUPNG':function(_0xc2eebc){return _0xc2eebc();},'fHJSJ':_0x3f821d(0x28a),'xCCOo':function(_0x563c98){return _0x563c98();},'fVTHt':_0x3f821d(0x250)};document['getElementById'](_0xd51806[_0x3f821d(0x32b)])['addEventListener']('keypress',function(_0x130159){'Enter'===_0x130159['key']&&_0xd51806['RUPNG'](login);}),document['getElementById'](_0x3f821d(0x218))[_0x3f821d(0x432)]('keypress',function(_0x6c1ea){const _0x359ecb=_0x3f821d;_0xd51806['fHJSJ']===_0x6c1ea['key']&&_0xd51806[_0x359ecb(0x2af)](login);}),checkAuth();});let accumulativeData=[];function initializeAccumulativeTab(){const _0xeeb72d=a0_0x1522ec,_0x4e47ec={'fKQTl':_0xeeb72d(0x38c),'yTDHc':_0xeeb72d(0x437)};document['getElementById']('refreshAccumulative')['addEventListener'](_0x4e47ec['fKQTl'],loadAccumulativeStatement),document[_0xeeb72d(0x408)](_0xeeb72d(0x1b7))['addEventListener']('click',exportAccumulativeToExcel),document[_0xeeb72d(0x408)](_0x4e47ec[_0xeeb72d(0x364)])[_0xeeb72d(0x432)](_0xeeb72d(0x161),filterAccumulative),document['getElementById']('foremanFilterButton')[_0xeeb72d(0x432)](_0x4e47ec['fKQTl'],toggleForemanDropdown),document['addEventListener']('click',handleForemanDropdownOutsideClick);}async function loadAccumulativeStatement(){const _0x4b5cbc=a0_0x1522ec,_0x460ce7={'AODCq':_0x4b5cbc(0x1b5),'ifENB':function(_0x3a3f32){return _0x3a3f32();},'qpmbm':function(_0x3b31c0,_0x55ad2f){return _0x3b31c0(_0x55ad2f);},'bmCts':_0x4b5cbc(0x4b8),'AnIKL':'error'},_0x2cb3fe=document[_0x4b5cbc(0x408)]('accumulativeLoading'),_0x1fee09=document['getElementById'](_0x460ce7['AODCq']);_0x2cb3fe['style'][_0x4b5cbc(0x362)]='block',_0x1fee09['innerHTML']='';try{const _0x4f9164=selectedAccumulativeForemanId?_0x4b5cbc(0x3cf)+selectedAccumulativeForemanId:'',_0x1cb0f2=await makeApiRequest('/api/accumulative-statement'+_0x4f9164);_0x1cb0f2['success']?(accumulativeData=_0x1cb0f2['data']||[],accumulativeForemen=_0x1cb0f2[_0x4b5cbc(0x24b)]||[],_0x460ce7[_0x4b5cbc(0x240)](updateAccumulativeForemanButton),populateForemanDropdown(),_0x460ce7['qpmbm'](displayAccumulativeStatement,accumulativeData)):showNotification(_0x460ce7['bmCts']+_0x1cb0f2[_0x4b5cbc(0x183)],_0x460ce7['AnIKL']);}catch(_0xecc4ab){showNotification(_0x460ce7[_0x4b5cbc(0x48c)]+_0xecc4ab['message'],'error');}finally{_0x2cb3fe[_0x4b5cbc(0x396)][_0x4b5cbc(0x362)]=_0x4b5cbc(0x363);}}function updateAccumulativeForemanButton(){const _0x464814=a0_0x1522ec,_0xca3dce={'FpHUX':_0x464814(0x1c4)},_0x3ee888=document['getElementById'](_0xca3dce[_0x464814(0x359)]);if(!_0x3ee888)return;const _0x539bef=accumulativeForemen['find'](_0x4dca00=>String(_0x4dca00['id'])===String(selectedAccumulativeForemanId)),_0x184324=_0x539bef?_0x539bef['full_name']:_0x464814(0x4b5);_0x3ee888['textContent']=_0x464814(0x1d2)+_0x184324;}function populateForemanDropdown(){const _0x22790f=a0_0x1522ec,_0x78610d={'URiTm':'button','gAiXw':'click','jcddM':'foremanDropdownMenu'},_0x2549dc=document[_0x22790f(0x408)](_0x78610d['jcddM']);if(!_0x2549dc)return;_0x2549dc['innerHTML']='';const _0x50e4b1=document['createElement'](_0x22790f(0x4dd));_0x50e4b1['className']='dropdown-item',_0x50e4b1[_0x22790f(0x258)]=_0x78610d['URiTm'],_0x50e4b1[_0x22790f(0x2a8)]=_0x22790f(0x4b5),_0x50e4b1[_0x22790f(0x432)]('click',()=>selectAccumulativeForeman(null)),_0x2549dc['appendChild'](_0x50e4b1),accumulativeForemen['forEach'](_0x57450e=>{const _0x17ba5c=_0x22790f,_0x59b7dc=document[_0x17ba5c(0x265)](_0x17ba5c(0x4dd));_0x59b7dc[_0x17ba5c(0x3ad)]='dropdown-item',_0x59b7dc['type']=_0x78610d['URiTm'],_0x59b7dc[_0x17ba5c(0x2a8)]=_0x57450e['full_name']||'ID\x20'+_0x57450e['id'],_0x59b7dc[_0x17ba5c(0x432)](_0x78610d[_0x17ba5c(0x345)],()=>selectAccumulativeForeman(_0x57450e['id'])),_0x2549dc[_0x17ba5c(0x319)](_0x59b7dc);});}function toggleForemanDropdown(_0x5ee7ed){const _0x26a2b6=a0_0x1522ec,_0x348f0e={'cFwkM':'foremanDropdownMenu'};_0x5ee7ed[_0x26a2b6(0x2ef)]();const _0x184314=document[_0x26a2b6(0x408)](_0x348f0e[_0x26a2b6(0x291)]);_0x184314&&_0x184314['classList'][_0x26a2b6(0x2d9)]('show');}function handleForemanDropdownOutsideClick(_0x2d77af){const _0x2b2527=a0_0x1522ec,_0x529475={'NkXqB':'accumulativeForemanDropdown','yGkdT':'foremanDropdownMenu','tWvcD':'show'},_0xe5b5c3=document[_0x2b2527(0x408)](_0x529475['NkXqB']),_0x1b71de=document[_0x2b2527(0x408)](_0x529475[_0x2b2527(0x418)]);_0xe5b5c3&&_0x1b71de&&(_0xe5b5c3['contains'](_0x2d77af['target'])||_0x1b71de[_0x2b2527(0x225)][_0x2b2527(0x1b6)](_0x529475['tWvcD']));}function selectAccumulativeForeman(_0x2e6ced){const _0x259948=a0_0x1522ec,_0x3b96ad={'URvAV':_0x259948(0x45d),'Vxltb':_0x259948(0x340)};selectedAccumulativeForemanId=_0x2e6ced,updateAccumulativeForemanButton();const _0x237d45=document['getElementById'](_0x3b96ad[_0x259948(0x1d3)]);_0x237d45&&_0x237d45[_0x259948(0x225)][_0x259948(0x1b6)](_0x3b96ad['Vxltb']),loadAccumulativeStatement();}function displayAccumulativeStatement(_0x3b8db3){const _0xd0c777=a0_0x1522ec,_0x8205f2={'uZhfW':function(_0x2e5119,_0x4b30c2){return _0x2e5119(_0x4b30c2);},'ITnjz':function(_0x2cddd3,_0x3eb408){return _0x2cddd3(_0x3eb408);},'hpmBi':function(_0x420414,_0x4d80bb){return _0x420414(_0x4d80bb);},'rDaYp':_0xd0c777(0x4c2),'nxfAB':_0xd0c777(0x3f9),'sOLia':function(_0x8c1fe5,_0x16454f){return _0x8c1fe5(_0x16454f);},'OkWoH':_0xd0c777(0x452)},_0x521078=document[_0xd0c777(0x408)](_0xd0c777(0x1b5));if(_0x521078[_0xd0c777(0x1d1)]='',0x0===_0x3b8db3['length'])return _0x521078['innerHTML']=_0xd0c777(0x176),void _0x8205f2[_0xd0c777(0x283)](refreshTableSorting,'accumulativeTable');_0x3b8db3['forEach'](_0x296881=>{const _0x1751e1=_0xd0c777,_0x330975=_0x296881[_0x1751e1(0x317)]||_0x296881['Категория']||'',_0x487575=document['createElement']('tr'),_0x3cf954=_0x8205f2[_0x1751e1(0x373)](Number,_0x296881[_0x1751e1(0x41d)]),_0x2ac0a2=_0x8205f2['ITnjz'](Number,_0x296881[_0x1751e1(0x306)]),_0x225dd1=_0x8205f2[_0x1751e1(0x179)](Number,_0x296881[_0x8205f2['rDaYp']]),_0x3d10fc=Number(_0x296881[_0x1751e1(0x2b1)]??0x0),_0x148faf=Number(_0x296881[_0x1751e1(0x214)]??0x0);_0x487575['innerHTML']=_0x1751e1(0x1a8)+_0x330975+_0x1751e1(0x50f)+_0x296881[_0x1751e1(0x420)]+_0x1751e1(0x50f)+_0x296881[_0x8205f2[_0x1751e1(0x505)]]+_0x1751e1(0x3f0)+(Number[_0x1751e1(0x331)](_0x3d10fc)?_0x3d10fc:'')+'\x22>'+formatMoneyValue(_0x3d10fc)+_0x1751e1(0x3f0)+(Number[_0x1751e1(0x331)](_0x3cf954)?_0x3cf954:'')+'\x22>'+_0x296881['Количество']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20data-sort-value=\x22'+(Number['isFinite'](_0x2ac0a2)?_0x2ac0a2:'')+'\x22>'+_0x296881[_0x1751e1(0x306)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20data-sort-value=\x22'+(Number['isFinite'](_0x225dd1)?_0x225dd1:'')+'\x22>'+_0x296881[_0x8205f2[_0x1751e1(0x49d)]]+'%</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20data-sort-value=\x22'+(Number['isFinite'](_0x148faf)?_0x148faf:'')+'\x22>'+_0x8205f2['ITnjz'](formatMoneyValue,_0x148faf)+_0x1751e1(0x30e),_0x521078['appendChild'](_0x487575);}),refreshTableSorting(_0x8205f2[_0xd0c777(0x213)]);}function filterAccumulative(){const _0x37ef95=a0_0x1522ec,_0x3667e7={'Ytucn':_0x37ef95(0x437)},_0x4749d8=document[_0x37ef95(0x408)](_0x3667e7['Ytucn'])[_0x37ef95(0x3dc)]['toLowerCase']();displayAccumulativeStatement(accumulativeData['filter'](_0xedf02d=>(_0xedf02d['Раздел']||_0xedf02d['Категория']||'')[_0x37ef95(0x148)]()[_0x37ef95(0x28f)](_0x4749d8)||_0xedf02d['Работа']['toLowerCase']()[_0x37ef95(0x28f)](_0x4749d8)));}async function exportAccumulativeToExcel(){const _0xd0999f=a0_0x1522ec,_0x578ea6={'KvyVa':'!cols','QHOxM':_0xd0999f(0x427),'oqQyz':_0xd0999f(0x439),'AidQD':function(_0x1a8732,_0x5aa5ff,_0xcccf36){return _0x1a8732(_0x5aa5ff,_0xcccf36);},'JeiXj':'error'};try{showNotification('Подготовка\x20файла\x20для\x20скачивания...',_0xd0999f(0x22b));const _0x22251b=XLSX['utils']['book_new']();_0x22251b['Props']={'Title':'Накопительная\x20ведомость','Subject':'Накопительная\x20ведомость\x20выполненных\x20работ','Author':_0xd0999f(0x309),'CreatedDate':new Date()};const _0x2aff66=accumulativeData['map'](_0x1a61dd=>({'Раздел':_0x1a61dd['Раздел']||_0x1a61dd[_0xd0999f(0x2bf)]||'','Работа':_0x1a61dd[_0xd0999f(0x420)],'Единица\x20измерения':_0x1a61dd['Единица\x20измерения'],'Стоимость\x20за\x20единицу':formatMoneyValue(_0x1a61dd['Стоимость\x20за\x20единицу']),'Количество':_0x1a61dd['Количество'],'Проектное\x20число':_0x1a61dd[_0xd0999f(0x306)],'%\x20выполнения':_0x1a61dd['%Выполнения'],'Сумма':formatMoneyValue(_0x1a61dd[_0xd0999f(0x214)])})),_0x4b2f64=XLSX[_0xd0999f(0x496)][_0xd0999f(0x1dc)](_0x2aff66),_0x220544=[{'wch':0x19},{'wch':0x28},{'wch':0x12},{'wch':0x12},{'wch':0x10},{'wch':0x12},{'wch':0x12},{'wch':0x12}];_0x4b2f64[_0x578ea6['KvyVa']]=_0x220544,XLSX['utils']['book_append_sheet'](_0x22251b,_0x4b2f64,_0xd0999f(0x480));const _0x4e2f26=_0xd0999f(0x22a)+new Date()[_0xd0999f(0x327)]()['split']('T')[0x0]+_0xd0999f(0x3b7);XLSX['writeFile'](_0x22251b,_0x4e2f26),showNotification(_0x578ea6[_0xd0999f(0x28b)],'success');}catch(_0x258899){console['error'](_0x578ea6['oqQyz'],_0x258899),_0x578ea6['AidQD'](showNotification,'Ошибка\x20при\x20экспорте\x20файла:\x20'+_0x258899[_0xd0999f(0x168)],_0x578ea6['JeiXj']);}}async function loadAllReports(){const _0x164a6c=a0_0x1522ec,_0x489615={'sbtto':'allReportsTableBody','PphXW':'Ошибка\x20при\x20загрузке\x20отчетов:\x20','NEfio':function(_0x21c2c3,_0x343c7e,_0x133009){return _0x21c2c3(_0x343c7e,_0x133009);},'MheXT':'error','pTjWg':_0x164a6c(0x363)},_0x51db29=document[_0x164a6c(0x408)](_0x164a6c(0x316)),_0x47edc3=document['getElementById'](_0x489615['sbtto']);_0x51db29['style']['display']='block',_0x47edc3['innerHTML']='';try{const _0x456742=await makeApiRequest(API_CONFIG['ENDPOINTS'][_0x164a6c(0x29e)]);_0x456742[_0x164a6c(0x22b)]?(allReports=_0x456742['data']||[],displayAllReportsTable(allReports)):showNotification(_0x489615['PphXW']+_0x456742[_0x164a6c(0x183)],'error');}catch(_0x483927){_0x489615['NEfio'](showNotification,_0x489615[_0x164a6c(0x167)]+_0x483927[_0x164a6c(0x168)],_0x489615['MheXT']);}finally{_0x51db29['style'][_0x164a6c(0x362)]=_0x489615['pTjWg'];}}function displayAllReportsTable(_0x4172d2){const _0x528839=a0_0x1522ec,_0x513d16={'Rrzhi':'Нет\x20фото','mgYAK':function(_0x192b7c,_0x1245de){return _0x192b7c(_0x1245de);},'nazFo':_0x528839(0x456),'gQkAL':'Проверить','gNJuV':'Отчет\x20подтвержден','wOhmT':_0x528839(0x4e7),'EwNrG':'Неизвестно'},_0x21e714=document[_0x528839(0x408)]('allReportsTableBody');if(_0x21e714['innerHTML']='',0x0===_0x4172d2[_0x528839(0x503)])return _0x21e714[_0x528839(0x1d1)]='<tr><td\x20colspan=\x229\x22\x20style=\x22text-align:\x20center;\x22>Нет\x20данных\x20об\x20отчетах</td></tr>',void refreshTableSorting(_0x528839(0x416));_0x4172d2['forEach'](_0x5f3aab=>{const _0x24b838=_0x528839,_0xca5ba9=_0x5f3aab[_0x24b838(0x2f2)]?_0x24b838(0x267)+_0x5f3aab[_0x24b838(0x2f2)]+'\x22\x20target=\x22_blank\x22\x20style=\x22color:\x20var(--primary);\x22>📷\x20Просмотреть</a>':_0x513d16['Rrzhi'],_0x2875cc=_0x513d16[_0x24b838(0x449)](Boolean,_0x5f3aab[_0x24b838(0x18a)]),_0x56e188=_0x513d16[_0x24b838(0x22f)]+(_0x2875cc?_0x24b838(0x19a):''),_0x36d27d=_0x2875cc?'✅':_0x513d16[_0x24b838(0x1a1)],_0x49fe45=_0x2875cc?_0x513d16[_0x24b838(0x40a)]:_0x513d16[_0x24b838(0x4f6)],_0x8f4980=_0x513d16['mgYAK'](Number,_0x5f3aab['quantity']),_0x4fce57=_0x5f3aab[_0x24b838(0x475)]?String(_0x5f3aab['report_date'])[_0x24b838(0x1b1)]('\x20','T'):'',_0x1029ff=document['createElement']('tr');_0x1029ff[_0x24b838(0x1d1)]=_0x24b838(0x1a8)+_0x5f3aab['id']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+(_0x5f3aab[_0x24b838(0x282)]||_0x513d16['EwNrG'])+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+(_0x5f3aab['foreman_position']||'—')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+(_0x5f3aab['work_name']||_0x24b838(0x2dd))+_0x24b838(0x3f0)+(Number[_0x24b838(0x331)](_0x8f4980)?_0x8f4980:'')+'\x22>'+_0x5f3aab[_0x24b838(0x144)]+'\x20'+(_0x5f3aab['unit']||'шт')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20data-sort-value=\x22'+_0x4fce57+'\x22>'+_0x5f3aab[_0x24b838(0x475)]+_0x24b838(0x50f)+_0x5f3aab['report_time']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0xca5ba9+_0x24b838(0x23b)+_0x5f3aab['id']+_0x24b838(0x253)+_0x5f3aab['id']+_0x24b838(0x372)+_0x5f3aab['id']+',\x20'+!_0x2875cc+_0x24b838(0x368)+_0x56e188+_0x24b838(0x3c1)+_0x49fe45+'\x22>'+_0x36d27d+'</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x21e714['appendChild'](_0x1029ff);}),refreshTableSorting('allReportsTable');}async function deleteReport(_0x428746){const _0x5bf34b=a0_0x1522ec,_0x58d4f0={'eLxbF':'DELETE','QVftc':_0x5bf34b(0x22b),'mPdPt':function(_0x72609f){return _0x72609f();},'urxMZ':function(_0x54cdbf,_0x43cc6b,_0x10ac89){return _0x54cdbf(_0x43cc6b,_0x10ac89);},'gIIUM':function(_0x5baab0,_0x1ef8df){return _0x5baab0+_0x1ef8df;},'zTLDP':'Неизвестная\x20ошибка','lYeAV':'error','TLXlk':function(_0x5cf075,_0x511e5f,_0x2aea46){return _0x5cf075(_0x511e5f,_0x2aea46);}};if(confirm('Вы\x20уверены,\x20что\x20хотите\x20удалить\x20этот\x20отчет?'))try{const _0x552a61=await makeApiRequest(API_CONFIG[_0x5bf34b(0x41e)][_0x5bf34b(0x1c0)]+'/'+_0x428746,{'method':_0x58d4f0[_0x5bf34b(0x382)]});_0x552a61[_0x5bf34b(0x22b)]?(showNotification(_0x5bf34b(0x2ca),_0x58d4f0['QVftc']),_0x58d4f0['mPdPt'](loadAllReports)):_0x58d4f0[_0x5bf34b(0x477)](showNotification,_0x58d4f0[_0x5bf34b(0x40f)]('Ошибка\x20при\x20удалении\x20отчета:\x20',_0x552a61['error']||_0x58d4f0[_0x5bf34b(0x1c6)]),_0x58d4f0[_0x5bf34b(0x3ac)]);}catch(_0x42735a){_0x58d4f0[_0x5bf34b(0x212)](showNotification,_0x5bf34b(0x4bb)+_0x42735a['message'],'error');}}async function toggleReportVerification(_0x41f0ea,_0x1f28bb){const _0x15508a=a0_0x1522ec,_0xb94b0={'ufPXv':_0x15508a(0x2ac),'nkJpQ':'success','flBrb':function(_0x2c66bd,_0x3d2026){return _0x2c66bd+_0x3d2026;},'xkTTn':'Не\x20удалось\x20обновить\x20статус\x20проверки:\x20','fzAty':function(_0x1da549,_0x49fc9f,_0xb08595){return _0x1da549(_0x49fc9f,_0xb08595);},'bmiqS':'error'};try{const _0x5eb211=await makeApiRequest(API_CONFIG[_0x15508a(0x41e)]['REPORT']+'/'+_0x41f0ea+'/verify',{'method':'POST','body':JSON[_0x15508a(0x18d)]({'is_verified':_0x1f28bb})});if(_0x5eb211[_0x15508a(0x22b)]){const _0x59318a=_0x5eb211[_0x15508a(0x249)]?.['is_verified']??_0x1f28bb,_0x2f3a7c=allReports['findIndex'](_0x4dc06b=>_0x4dc06b['id']===_0x41f0ea);-0x1!==_0x2f3a7c&&(allReports[_0x2f3a7c]['is_verified']=_0x59318a),showNotification(_0x59318a?'Отчет\x20отмечен\x20как\x20проверенный':_0xb94b0['ufPXv'],_0xb94b0[_0x15508a(0x2a2)]);const _0x4f7482=document['getElementById'](_0x15508a(0x2d6));_0x4f7482&&_0x4f7482[_0x15508a(0x3dc)][_0x15508a(0x4eb)]()?filterAllReports():displayAllReportsTable(allReports);}else showNotification(_0xb94b0[_0x15508a(0x484)](_0xb94b0[_0x15508a(0x386)],_0x5eb211[_0x15508a(0x183)]||_0x15508a(0x4d9)),'error');}catch(_0x810e50){_0xb94b0['fzAty'](showNotification,'Ошибка\x20при\x20обновлении\x20статуса\x20проверки:\x20'+_0x810e50['message'],_0xb94b0['bmiqS']);}}function filterAllReports(){const _0x397e4e=a0_0x1522ec,_0x1505d6={'JChul':'searchAllReports'},_0x1bab32=document[_0x397e4e(0x408)](_0x1505d6[_0x397e4e(0x335)]),_0x2fd7cd=_0x1bab32?_0x1bab32[_0x397e4e(0x3dc)]['toLowerCase']():'';displayAllReportsTable(allReports[_0x397e4e(0x3ae)](_0x321f97=>_0x321f97[_0x397e4e(0x282)]&&_0x321f97[_0x397e4e(0x282)]['toLowerCase']()['includes'](_0x2fd7cd)||_0x321f97[_0x397e4e(0x41c)]&&_0x321f97['foreman_position'][_0x397e4e(0x148)]()[_0x397e4e(0x28f)](_0x2fd7cd)||_0x321f97[_0x397e4e(0x210)]&&_0x321f97['work_name'][_0x397e4e(0x148)]()[_0x397e4e(0x28f)](_0x2fd7cd)||_0x321f97[_0x397e4e(0x475)]&&_0x321f97[_0x397e4e(0x475)][_0x397e4e(0x148)]()['includes'](_0x2fd7cd)));}function showNotification(_0xd945a7,_0x550301){const _0x5797bb=a0_0x1522ec,_0x3550f2={'hBzYJ':'none','lFCdT':'block'},_0x301a72=document[_0x5797bb(0x408)]('notification');_0x301a72[_0x5797bb(0x2a8)]=_0xd945a7,_0x301a72['className']=_0x5797bb(0x4b0)+_0x550301,_0x301a72[_0x5797bb(0x396)]['display']=_0x3550f2['lFCdT'],setTimeout(()=>{const _0x55f325=_0x5797bb;_0x301a72[_0x55f325(0x396)][_0x55f325(0x362)]=_0x3550f2['hBzYJ'];},0x1388);}const waves=document['querySelector'](a0_0x1522ec(0x33d));let waveOffset=0x0;function animateWaves(){const _0x2fdf6a=a0_0x1522ec,_0x3d5aca={'OWDmC':function(_0x5b92f6,_0x38de01){return _0x5b92f6+_0x38de01;}};waveOffset+=0.5,waves['style']['backgroundPositionX']=_0x3d5aca[_0x2fdf6a(0x4ea)](-waveOffset,'px'),requestAnimationFrame(animateWaves);}document['addEventListener']('DOMContentLoaded',function(){const _0x452d0f=a0_0x1522ec,_0x54eb67={'lcfNV':function(_0x1d873f){return _0x1d873f();},'mNCIp':_0x452d0f(0x28a),'sFcXT':function(_0x2a762b){return _0x2a762b();}},_0x1ea80c=document[_0x452d0f(0x408)](_0x452d0f(0x224));_0x1ea80c&&_0x1ea80c['addEventListener']('keypress',function(_0x47a945){const _0x11058c=_0x452d0f;'Enter'===_0x47a945[_0x11058c(0x188)]&&_0x54eb67['lcfNV'](confirmAddBalance);});const _0x585171=document['getElementById']('addMaterialQuantityAmount');_0x585171&&_0x585171[_0x452d0f(0x432)]('keypress',function(_0x1b3269){const _0x220a52=_0x452d0f;_0x54eb67['mNCIp']===_0x1b3269[_0x220a52(0x188)]&&_0x54eb67[_0x220a52(0x45c)](confirmAddMaterialQuantity);});}),animateWaves();